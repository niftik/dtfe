{"version":3,"file":"media-DOvAe9cZ.js","sources":["../../panels/media/eventDisplayTable.css.js","../../panels/media/EventDisplayTable.js","../../panels/media/MediaModel.js","../../panels/media/TickingFlameChartHelpers.js","../../panels/media/TickingFlameChart.js","../../panels/media/EventTimelineView.js","../../panels/media/playerMessagesView.css.js","../../panels/media/PlayerMessagesView.js","../../panels/media/playerPropertiesView.css.js","../../panels/media/PlayerPropertiesView.js","../../panels/media/PlayerDetailView.js","../../panels/media/playerListView.css.js","../../panels/media/PlayerListView.js","../../panels/media/MainView.js"],"sourcesContent":["// Copyright 2024 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n// IMPORTANT: this file is auto generated. Please do not edit this file.\n/* istanbul ignore file */\nconst styles = new CSSStyleSheet();\nstyles.replaceSync(\n`/*\n * Copyright 2019 The Chromium Authors. All rights reserved.\n * Use of this source code is governed by a BSD-style license that can be\n * found in the LICENSE file.\n */\n\n.no-border-top-datagrid > .data-grid {\n  /* make sure there is no top border, it ruins the menu view */\n  border-top: 0;\n}\n\n.event-display-table-contents-table-container > .widget > .data-grid {\n  height: 100%;\n}\n\n.data-grid .event-display-table-basic-text-table-entry {\n  line-height: 26px;\n}\n\n.event-display-table-contents-json-wrapper > .json-view {\n  overflow: visible;\n}\n\n/*# sourceURL=eventDisplayTable.css */\n`);\n\nexport default styles;\n","// Copyright 2019 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\nimport * as i18n from '../../core/i18n/i18n.js';\nimport * as DataGrid from '../../ui/legacy/components/data_grid/data_grid.js';\nimport * as SourceFrame from '../../ui/legacy/components/source_frame/source_frame.js';\nimport * as UI from '../../ui/legacy/legacy.js';\nimport * as VisualLogging from '../../ui/visual_logging/visual_logging.js';\nimport eventDisplayTableStyles from './eventDisplayTable.css.js';\nconst UIStrings = {\n    /**\n     *@description Text for timestamps of items\n     */\n    timestamp: 'Timestamp',\n    /**\n     *@description The column header for event names.\n     */\n    eventName: 'Event name',\n    /**\n     *@description Text for the value of something\n     */\n    value: 'Value',\n    /**\n     *@description The accessible name of a table that displays information about events that occurred\n     * while a video/media player was present on the page.\n     */\n    eventDisplay: 'Event display',\n};\nconst str_ = i18n.i18n.registerUIStrings('panels/media/EventDisplayTable.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\nexport class EventNode extends DataGrid.DataGrid.DataGridNode {\n    expandableElement;\n    constructor(event) {\n        super(event, false);\n        this.expandableElement = null;\n    }\n    createCell(columnId) {\n        const cell = this.createTD(columnId);\n        const cellData = this.data[columnId];\n        if (columnId === \"value\" /* MediaEventColumnKeys.VALUE */) {\n            const enclosed = cell.createChild('div', 'event-display-table-contents-json-wrapper');\n            this.expandableElement =\n                new SourceFrame.JSONView.JSONView(new SourceFrame.JSONView.ParsedJSON(cellData, '', ''), true);\n            this.expandableElement.markAsRoot();\n            this.expandableElement.show(enclosed);\n        }\n        else {\n            cell.classList.add('event-display-table-basic-text-table-entry');\n            UI.UIUtils.createTextChild(cell, cellData);\n        }\n        return cell;\n    }\n}\nexport class PlayerEventsView extends UI.Widget.VBox {\n    dataGrid;\n    firstEventTime;\n    constructor() {\n        super();\n        this.element.setAttribute('jslog', `${VisualLogging.pane('events')}`);\n        // Set up element styles.\n        this.contentElement.classList.add('event-display-table-contents-table-container');\n        this.dataGrid = this.createDataGrid([\n            {\n                id: \"display-timestamp\" /* MediaEventColumnKeys.TIMESTAMP */,\n                title: i18nString(UIStrings.timestamp),\n                weight: 1,\n                sortable: false,\n            },\n            { id: \"event\" /* MediaEventColumnKeys.EVENT */, title: i18nString(UIStrings.eventName), weight: 2, sortable: false },\n            {\n                id: \"value\" /* MediaEventColumnKeys.VALUE */,\n                title: i18nString(UIStrings.value),\n                weight: 7,\n                sortable: false,\n            },\n        ]);\n        this.firstEventTime = 0;\n        this.dataGrid.setStriped(true);\n        this.dataGrid.asWidget().show(this.contentElement);\n    }\n    createDataGrid(headers) {\n        const gridColumnDescs = [];\n        for (const headerDesc of headers) {\n            gridColumnDescs.push(PlayerEventsView.convertToGridDescriptor(headerDesc));\n        }\n        // TODO(tmathmeyer) SortableDataGrid doesn't play nice with nested JSON\n        // renderers, since they can change size, and this breaks the visible\n        // element computation in ViewportDataGrid.\n        const datagrid = new DataGrid.DataGrid.DataGridImpl({\n            displayName: i18nString(UIStrings.eventDisplay),\n            columns: gridColumnDescs,\n            deleteCallback: undefined,\n            editCallback: undefined,\n            refreshCallback: undefined,\n        });\n        datagrid.asWidget().contentElement.classList.add('no-border-top-datagrid');\n        return datagrid;\n    }\n    onEvent(event) {\n        if (this.firstEventTime === 0 && typeof event.timestamp === 'number') {\n            this.firstEventTime = event.timestamp;\n        }\n        event = this.subtractFirstEventTime(event);\n        const stringified = event.value;\n        try {\n            const json = JSON.parse(stringified);\n            event.event = json.event;\n            delete json['event'];\n            event.value = json;\n            const node = new EventNode(event);\n            const scroll = this.dataGrid.scrollContainer;\n            const isAtBottom = scroll.scrollTop === (scroll.scrollHeight - scroll.offsetHeight);\n            this.dataGrid.rootNode().appendChild(node);\n            if (isAtBottom) {\n                scroll.scrollTop = scroll.scrollHeight;\n            }\n        }\n        catch (e) {\n            // If this is a legacy message event, ignore it for now until they\n            // are handled.\n        }\n    }\n    subtractFirstEventTime(event) {\n        if (typeof event.timestamp === 'number') {\n            event.displayTimestamp = (event.timestamp - this.firstEventTime).toFixed(3);\n        }\n        return event;\n    }\n    static convertToGridDescriptor(columnConfig) {\n        return {\n            id: columnConfig.id,\n            title: columnConfig.title,\n            sortable: columnConfig.sortable,\n            weight: columnConfig.weight || 0,\n            sort: DataGrid.DataGrid.Order.Ascending,\n        };\n    }\n    wasShown() {\n        super.wasShown();\n        this.registerCSSFiles([eventDisplayTableStyles]);\n    }\n}\n//# sourceMappingURL=EventDisplayTable.js.map","// Copyright 2019 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\nimport * as SDK from '../../core/sdk/sdk.js';\nexport class MediaModel extends SDK.SDKModel.SDKModel {\n    enabled;\n    agent;\n    constructor(target) {\n        super(target);\n        this.enabled = false;\n        this.agent = target.mediaAgent();\n        target.registerMediaDispatcher(this);\n    }\n    async resumeModel() {\n        if (!this.enabled) {\n            return Promise.resolve();\n        }\n        await this.agent.invoke_enable();\n    }\n    ensureEnabled() {\n        void this.agent.invoke_enable();\n        this.enabled = true;\n    }\n    playerPropertiesChanged(event) {\n        this.dispatchEventToListeners(\"PlayerPropertiesChanged\" /* Events.PLAYER_PROPERTIES_CHANGED */, event);\n    }\n    playerEventsAdded(event) {\n        this.dispatchEventToListeners(\"PlayerEventsAdded\" /* Events.PLAYER_EVENTS_ADDED */, event);\n    }\n    playerMessagesLogged(event) {\n        this.dispatchEventToListeners(\"PlayerMessagesLogged\" /* Events.PLAYER_MESSAGES_LOGGED */, event);\n    }\n    playerErrorsRaised(event) {\n        this.dispatchEventToListeners(\"PlayerErrorsRaised\" /* Events.PLAYER_ERRORS_RAISED */, event);\n    }\n    playersCreated({ players }) {\n        this.dispatchEventToListeners(\"PlayersCreated\" /* Events.PLAYERS_CREATED */, players);\n    }\n}\nSDK.SDKModel.SDKModel.register(MediaModel, { capabilities: 262144 /* SDK.Target.Capability.MEDIA */, autostart: false });\n//# sourceMappingURL=MediaModel.js.map","// Copyright 2020 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\nexport function formatMillisecondsToSeconds(ms, decimalPlaces) {\n    const roundPower = Math.pow(10, 3 - decimalPlaces);\n    const denominatorPower = Math.pow(10, Math.max(0, decimalPlaces));\n    return `${Math.round(ms / roundPower) / denominatorPower} s`;\n}\n/**\n * Manage the bounding box properties for the ticking flame chart.\n * kept in a separate file for unit testing.\n */\nexport class Bounds {\n    minInternal;\n    maxInternal;\n    lowInternal;\n    highInternal;\n    maxRange;\n    minRange;\n    constructor(initialLow, initialHigh, maxRange, minRange) {\n        this.minInternal = initialLow;\n        this.maxInternal = initialHigh;\n        this.lowInternal = this.minInternal;\n        this.highInternal = this.maxInternal;\n        this.maxRange = maxRange;\n        this.minRange = minRange;\n    }\n    get low() {\n        return this.lowInternal;\n    }\n    get high() {\n        return this.highInternal;\n    }\n    get min() {\n        return this.minInternal;\n    }\n    get max() {\n        return this.maxInternal;\n    }\n    get range() {\n        return this.highInternal - this.lowInternal;\n    }\n    reassertBounds() {\n        let needsAdjustment = true;\n        while (needsAdjustment) {\n            needsAdjustment = false;\n            if (this.range < this.minRange) {\n                needsAdjustment = true;\n                const delta = (this.minRange - this.range) / 2;\n                this.highInternal += delta;\n                this.lowInternal -= delta;\n            }\n            if (this.lowInternal < this.minInternal) {\n                needsAdjustment = true;\n                this.lowInternal = this.minInternal;\n            }\n            if (this.highInternal > this.maxInternal) {\n                needsAdjustment = true;\n                this.highInternal = this.maxInternal;\n            }\n        }\n    }\n    /**\n     * zoom out |amount| ticks at position [0, 1] along the current range of the timeline.\n     */\n    zoomOut(amount, position) {\n        const range = this.highInternal - this.lowInternal;\n        const growSize = range * Math.pow(1.1, amount) - range;\n        const lowEnd = growSize * position;\n        const highEnd = growSize - lowEnd;\n        this.lowInternal -= lowEnd;\n        this.highInternal += highEnd;\n        this.reassertBounds();\n    }\n    /**\n     * zoom in |amount| ticks at position [0, 1] along the current range of the timeline.\n     */\n    zoomIn(amount, position) {\n        const range = this.highInternal - this.lowInternal;\n        if (this.range <= this.minRange) {\n            return;\n        }\n        const shrinkSize = range - range / Math.pow(1.1, amount);\n        const lowEnd = shrinkSize * position;\n        const highEnd = shrinkSize - lowEnd;\n        this.lowInternal += lowEnd;\n        this.highInternal -= highEnd;\n        this.reassertBounds();\n    }\n    /**\n     * Add Xms to the max value, and scroll the timeline forward if the end is in sight.\n     */\n    addMax(amount) {\n        const range = this.highInternal - this.lowInternal;\n        const isAtHighEnd = this.highInternal === this.maxInternal;\n        const isZoomedOut = this.lowInternal === this.minInternal || range >= this.maxRange;\n        this.maxInternal += amount;\n        if (isAtHighEnd && isZoomedOut) {\n            this.highInternal = this.maxInternal;\n        }\n        this.reassertBounds();\n    }\n    /**\n     * Attempt to push the maximum time up to |time| ms.\n     */\n    pushMaxAtLeastTo(time) {\n        if (this.maxInternal < time) {\n            this.addMax(time - this.maxInternal);\n            return true;\n        }\n        return false;\n    }\n}\n//# sourceMappingURL=TickingFlameChartHelpers.js.map","// Copyright 2020 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\nimport * as Common from '../../core/common/common.js';\nimport * as Host from '../../core/host/host.js';\nimport * as PerfUI from '../../ui/legacy/components/perf_ui/perf_ui.js';\nimport * as UI from '../../ui/legacy/legacy.js';\nimport * as ThemeSupport from '../../ui/legacy/theme_support/theme_support.js';\nimport { Bounds, formatMillisecondsToSeconds } from './TickingFlameChartHelpers.js';\nconst defaultFont = '11px ' + Host.Platform.fontFamily();\nfunction getGroupDefaultTextColor() {\n    return ThemeSupport.ThemeSupport.instance().getComputedValue('--sys-color-on-surface');\n}\nconst DefaultStyle = () => ({\n    height: 20,\n    padding: 2,\n    collapsible: false,\n    font: defaultFont,\n    color: getGroupDefaultTextColor(),\n    backgroundColor: 'rgba(100 0 0 / 10%)',\n    nestingLevel: 0,\n    itemsHeight: 20,\n    shareHeaderLine: false,\n    useFirstLineForOverview: false,\n    useDecoratorsForOverview: false,\n});\nexport const HotColorScheme = ['#ffba08', '#faa307', '#f48c06', '#e85d04', '#dc2f02', '#d00000', '#9d0208'];\nexport const ColdColorScheme = ['#7400b8', '#6930c3', '#5e60ce', '#5390d9', '#4ea8de', '#48bfe3', '#56cfe1', '#64dfdf'];\nfunction calculateFontColor(backgroundColor) {\n    const parsedColor = Common.Color.parse(backgroundColor)?.as(\"hsl\" /* Common.Color.Format.HSL */);\n    // Dark background needs a light font.\n    if (parsedColor && parsedColor.l < 0.5) {\n        return '#eee';\n    }\n    return '#444';\n}\n/**\n * Wrapper class for each event displayed on the timeline.\n */\nexport class Event {\n    timelineData;\n    setLive;\n    setComplete;\n    updateMaxTime;\n    selfIndex;\n    liveInternal;\n    title;\n    colorInternal;\n    fontColorInternal;\n    hoverData;\n    constructor(timelineData, eventHandlers, eventProperties = { color: undefined, duration: undefined, hoverData: {}, level: 0, name: '', startTime: 0 }) {\n        // These allow the event to privately change it's own data in the timeline.\n        this.timelineData = timelineData;\n        this.setLive = eventHandlers.setLive;\n        this.setComplete = eventHandlers.setComplete;\n        this.updateMaxTime = eventHandlers.updateMaxTime;\n        // This is the index in the timelineData arrays we should be writing to.\n        this.selfIndex = this.timelineData.entryLevels.length;\n        this.liveInternal = false;\n        // Can't use the dict||or||default syntax, since NaN is a valid expected duration.\n        const duration = eventProperties['duration'] === undefined ? 0 : eventProperties['duration'];\n        this.timelineData.entryLevels.push(eventProperties['level'] || 0);\n        this.timelineData.entryStartTimes.push(eventProperties['startTime'] || 0);\n        this.timelineData.entryTotalTimes.push(duration); // May initially push -1\n        // If -1 was pushed, we need to update it. The set end time method helps with this.\n        if (duration === -1) {\n            this.endTime = -1;\n        }\n        this.title = eventProperties['name'] || '';\n        this.colorInternal = eventProperties['color'] || HotColorScheme[0];\n        this.fontColorInternal = calculateFontColor(this.colorInternal);\n        this.hoverData = eventProperties['hoverData'] || {};\n    }\n    /**\n     * Render hovertext into the |htmlElement|\n     */\n    decorate(htmlElement) {\n        htmlElement.createChild('span').textContent = `Name: ${this.title}`;\n        htmlElement.createChild('br');\n        const startTimeReadable = formatMillisecondsToSeconds(this.startTime, 2);\n        if (this.liveInternal) {\n            htmlElement.createChild('span').textContent = `Duration: ${startTimeReadable} - LIVE!`;\n        }\n        else if (!isNaN(this.duration)) {\n            const durationReadable = formatMillisecondsToSeconds(this.duration + this.startTime, 2);\n            htmlElement.createChild('span').textContent = `Duration: ${startTimeReadable} - ${durationReadable}`;\n        }\n        else {\n            htmlElement.createChild('span').textContent = `Time: ${startTimeReadable}`;\n        }\n    }\n    /**\n     * set an event to be \"live\" where it's ended time is always the chart maximum\n     * or to be a fixed time.\n     * @param {number} time\n     */\n    set endTime(time) {\n        // Setting end time to -1 signals that an event becomes live\n        if (time === -1) {\n            this.timelineData.entryTotalTimes[this.selfIndex] = this.setLive(this.selfIndex);\n            this.liveInternal = true;\n        }\n        else {\n            this.liveInternal = false;\n            const duration = time - this.timelineData.entryStartTimes[this.selfIndex];\n            this.timelineData.entryTotalTimes[this.selfIndex] = duration;\n            this.setComplete(this.selfIndex);\n            this.updateMaxTime(time);\n        }\n    }\n    get id() {\n        return this.selfIndex;\n    }\n    set level(level) {\n        this.timelineData.entryLevels[this.selfIndex] = level;\n    }\n    set color(color) {\n        this.colorInternal = color;\n        this.fontColorInternal = calculateFontColor(this.colorInternal);\n    }\n    get color() {\n        return this.colorInternal;\n    }\n    get fontColor() {\n        return this.fontColorInternal;\n    }\n    get startTime() {\n        // Round it\n        return this.timelineData.entryStartTimes[this.selfIndex];\n    }\n    get duration() {\n        return this.timelineData.entryTotalTimes[this.selfIndex];\n    }\n    get live() {\n        return this.liveInternal;\n    }\n}\nexport class TickingFlameChart extends UI.Widget.VBox {\n    intervalTimer;\n    lastTimestamp;\n    canTickInternal;\n    ticking;\n    isShown;\n    bounds;\n    dataProvider;\n    delegate;\n    chartGroupExpansionSetting;\n    chart;\n    stoppedPermanently;\n    constructor() {\n        super();\n        // set to update once per second _while the tab is active_\n        this.intervalTimer = 0;\n        this.lastTimestamp = 0;\n        this.canTickInternal = true;\n        this.ticking = false;\n        this.isShown = false;\n        // The max bounds for scroll-out.\n        this.bounds = new Bounds(0, 1000, 30000, 1000);\n        // Create the data provider with the initial max bounds,\n        // as well as a function to attempt bounds updating everywhere.\n        this.dataProvider = new TickingFlameChartDataProvider(this.bounds, this.updateMaxTime.bind(this));\n        // Delegate doesn't do much for now.\n        this.delegate = new TickingFlameChartDelegate();\n        // Chart settings.\n        this.chartGroupExpansionSetting =\n            Common.Settings.Settings.instance().createSetting('media-flame-chart-group-expansion', {});\n        // Create the chart.\n        this.chart =\n            // TODO(crbug.com/1172300) Ignored during the jsdoc to ts migration\n            // @ts-expect-error\n            new PerfUI.FlameChart.FlameChart(this.dataProvider, this.delegate, this.chartGroupExpansionSetting);\n        // TODO: needs to have support in the delegate for supporting this.\n        this.chart.disableRangeSelection();\n        // Scrolling should change the current bounds, and repaint the chart.\n        this.chart.bindCanvasEvent('wheel', e => {\n            this.onScroll(e);\n        });\n        // Add the chart.\n        this.chart.show(this.contentElement);\n    }\n    /**\n     * Add a marker with |properties| at |time|.\n     */\n    addMarker(properties) {\n        properties['duration'] = NaN;\n        this.startEvent(properties);\n    }\n    /**\n     * Create an event which will be set to live by default.\n     */\n    startEvent(properties) {\n        // Make sure that an unspecified event gets live duration.\n        // Have to check for undefined, since NaN is allowed but evaluates to false.\n        if (properties['duration'] === undefined) {\n            properties['duration'] = -1;\n        }\n        const time = properties['startTime'] || 0;\n        // Event has to be created before the updateMaxTime call.\n        const event = this.dataProvider.startEvent(properties);\n        this.updateMaxTime(time);\n        return event;\n    }\n    /**\n     * Add a group with |name| that can contain |depth| different tracks.\n     */\n    addGroup(name, depth) {\n        this.dataProvider.addGroup(name, depth);\n    }\n    updateMaxTime(time) {\n        if (this.bounds.pushMaxAtLeastTo(time)) {\n            this.updateRender();\n        }\n    }\n    onScroll(e) {\n        // TODO: is this a good divisor? does it account for high presicision scroll wheels?\n        // low precisision scroll wheels?\n        const scrollTickCount = Math.round(e.deltaY / 50);\n        const scrollPositionRatio = e.offsetX / e.srcElement.clientWidth;\n        if (scrollTickCount > 0) {\n            this.bounds.zoomOut(scrollTickCount, scrollPositionRatio);\n        }\n        else {\n            this.bounds.zoomIn(-scrollTickCount, scrollPositionRatio);\n        }\n        this.updateRender();\n    }\n    willHide() {\n        this.isShown = false;\n        if (this.ticking) {\n            this.stop();\n        }\n    }\n    wasShown() {\n        this.isShown = true;\n        if (this.canTickInternal && !this.ticking) {\n            this.start();\n        }\n    }\n    set canTick(allowed) {\n        this.canTickInternal = allowed;\n        if (this.ticking && !allowed) {\n            this.stop();\n        }\n        if (!this.ticking && this.isShown && allowed) {\n            this.start();\n        }\n    }\n    start() {\n        if (this.lastTimestamp === 0) {\n            this.lastTimestamp = Date.now();\n        }\n        if (this.intervalTimer !== 0 || this.stoppedPermanently) {\n            return;\n        }\n        // 16 ms is roughly 60 fps.\n        this.intervalTimer = window.setInterval(this.updateRender.bind(this), 16);\n        this.ticking = true;\n    }\n    stop(permanently = false) {\n        window.clearInterval(this.intervalTimer);\n        this.intervalTimer = 0;\n        if (permanently) {\n            this.stoppedPermanently = true;\n        }\n        this.ticking = false;\n    }\n    updateRender() {\n        if (this.ticking) {\n            const currentTimestamp = Date.now();\n            const duration = currentTimestamp - this.lastTimestamp;\n            this.lastTimestamp = currentTimestamp;\n            this.bounds.addMax(duration);\n        }\n        this.dataProvider.updateMaxTime(this.bounds);\n        this.chart.setWindowTimes(this.bounds.low, this.bounds.high, true);\n        this.chart.scheduleUpdate();\n    }\n}\n/**\n * Doesn't do much right now, but can be used in the future for selecting events.\n */\nclass TickingFlameChartDelegate {\n    constructor() {\n    }\n    windowChanged(_windowStartTime, _windowEndTime, _animate) {\n    }\n    updateRangeSelection(_startTime, _endTime) {\n    }\n    updateSelectedGroup(_flameChart, _group) {\n    }\n}\nclass TickingFlameChartDataProvider {\n    updateMaxTimeHandle;\n    bounds;\n    liveEvents;\n    eventMap;\n    timelineDataInternal;\n    maxLevel;\n    constructor(initialBounds, updateMaxTime) {\n        // do _not_ call this method from within this class - only for passing to events.\n        this.updateMaxTimeHandle = updateMaxTime;\n        this.bounds = initialBounds;\n        // All the events which should have their time updated when the chart ticks.\n        this.liveEvents = new Set();\n        // All events.\n        // Map<Event>\n        this.eventMap = new Map();\n        // Contains the numerical indicies. This is passed as a reference to the events\n        // so that they can update it when they change.\n        this.timelineDataInternal = PerfUI.FlameChart.FlameChartTimelineData.createEmpty();\n        // The current sum of all group heights.\n        this.maxLevel = 0;\n    }\n    hasTrackConfigurationMode() {\n        return false;\n    }\n    /**\n     * Add a group with |name| that can contain |depth| different tracks.\n     */\n    addGroup(name, depth) {\n        if (this.timelineDataInternal.groups) {\n            const newGroup = {\n                name,\n                startLevel: this.maxLevel,\n                expanded: true,\n                selectable: false,\n                style: DefaultStyle(),\n                track: null,\n            };\n            this.timelineDataInternal.groups.push(newGroup);\n            ThemeSupport.ThemeSupport.instance().addEventListener(ThemeSupport.ThemeChangeEvent.eventName, () => {\n                newGroup.style.color = getGroupDefaultTextColor();\n            });\n        }\n        this.maxLevel += depth;\n    }\n    /**\n     * Create an event which will be set to live by default.\n     */\n    startEvent(properties) {\n        properties['level'] = properties['level'] || 0;\n        if (properties['level'] > this.maxLevel) {\n            throw `level ${properties['level']} is above the maximum allowed of ${this.maxLevel}`;\n        }\n        const event = new Event(this.timelineDataInternal, {\n            setLive: this.setLive.bind(this),\n            setComplete: this.setComplete.bind(this),\n            updateMaxTime: this.updateMaxTimeHandle,\n        }, properties);\n        this.eventMap.set(event.id, event);\n        return event;\n    }\n    setLive(index) {\n        this.liveEvents.add(index);\n        return this.bounds.max;\n    }\n    setComplete(index) {\n        this.liveEvents.delete(index);\n    }\n    updateMaxTime(bounds) {\n        this.bounds = bounds;\n        for (const eventID of this.liveEvents.entries()) {\n            // force recalculation of all live events.\n            this.eventMap.get(eventID[0]).endTime = -1;\n        }\n    }\n    maxStackDepth() {\n        return this.maxLevel + 1;\n    }\n    timelineData() {\n        return this.timelineDataInternal;\n    }\n    /** time in milliseconds\n     */\n    minimumBoundary() {\n        return this.bounds.low;\n    }\n    totalTime() {\n        return this.bounds.high;\n    }\n    entryColor(index) {\n        return this.eventMap.get(index).color;\n    }\n    textColor(index) {\n        return this.eventMap.get(index).fontColor;\n    }\n    entryTitle(index) {\n        return this.eventMap.get(index).title;\n    }\n    entryFont(_index) {\n        return defaultFont;\n    }\n    decorateEntry(_index, _context, _text, _barX, _barY, _barWidth, _barHeight, _unclippedBarX, _timeToPixelRatio) {\n        return false;\n    }\n    forceDecoration(_index) {\n        return false;\n    }\n    prepareHighlightedEntryInfo(index) {\n        const element = document.createElement('div');\n        this.eventMap.get(index).decorate(element);\n        return element;\n    }\n    formatValue(value, _precision) {\n        // value is always [0, X] so we need to add lower bound\n        value += Math.round(this.bounds.low);\n        // Magic numbers of pre-calculated logorithms.\n        // we want to show additional decimals at the time when two adjacent labels\n        // would otherwise show the same number. At 3840 pixels wide, that cutoff\n        // happens to be about 30 seconds for one decimal and 2.8 for two decimals.\n        if (this.bounds.range < 2800) {\n            return formatMillisecondsToSeconds(value, 2);\n        }\n        if (this.bounds.range < 30000) {\n            return formatMillisecondsToSeconds(value, 1);\n        }\n        return formatMillisecondsToSeconds(value, 0);\n    }\n    canJumpToEntry(_entryIndex) {\n        return false;\n    }\n}\n//# sourceMappingURL=TickingFlameChart.js.map","// Copyright 2019 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\nimport * as i18n from '../../core/i18n/i18n.js';\nimport * as VisualLogging from '../../ui/visual_logging/visual_logging.js';\nimport { ColdColorScheme, HotColorScheme, TickingFlameChart, } from './TickingFlameChart.js';\n// Has to be a double, see https://v8.dev/blog/react-cliff\nconst NO_NORMALIZED_TIMESTAMP = -1.5;\nconst UIStrings = {\n    /**\n     *@description Title of the 'Playback Status' button\n     */\n    playbackStatus: 'Playback Status',\n    /**\n     *@description Title of the 'Buffering Status' button\n     */\n    bufferingStatus: 'Buffering Status',\n};\nconst str_ = i18n.i18n.registerUIStrings('panels/media/EventTimelineView.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\nexport class PlayerEventsTimeline extends TickingFlameChart {\n    normalizedTimestamp;\n    playbackStatusLastEvent;\n    audioBufferingStateEvent;\n    videoBufferingStateEvent;\n    constructor() {\n        super();\n        this.element.setAttribute('jslog', `${VisualLogging.pane('timeline')}`);\n        this.normalizedTimestamp = NO_NORMALIZED_TIMESTAMP;\n        this.addGroup(i18nString(UIStrings.playbackStatus), 2);\n        this.addGroup(i18nString(UIStrings.bufferingStatus), 2); // video on top, audio on bottom\n        this.playbackStatusLastEvent = null;\n        this.audioBufferingStateEvent = null;\n        this.videoBufferingStateEvent = null;\n    }\n    ensureNoPreviousPlaybackEvent(normalizedTime) {\n        if (this.playbackStatusLastEvent !== null) {\n            this.playbackStatusLastEvent.endTime = normalizedTime;\n            this.playbackStatusLastEvent = null;\n        }\n    }\n    /**\n     * Playback events are {kPlay, kPause, kSuspended, kEnded, and kWebMediaPlayerDestroyed}\n     * once destroyed, a player cannot recieve more events of any kind.\n     */\n    onPlaybackEvent(event, normalizedTime) {\n        switch (event.event) {\n            case 'kPlay':\n                this.canTick = true;\n                this.ensureNoPreviousPlaybackEvent(normalizedTime);\n                // Disabled until Closure is gone.\n                // clang-format off\n                this.playbackStatusLastEvent = this.startEvent({\n                    level: 0,\n                    startTime: normalizedTime,\n                    name: 'Play',\n                });\n                // clang-format on\n                break;\n            case 'kPause':\n                // Don't change ticking state - the player is still active even during\n                // video pause. It may recieve buffering events, seeks, etc.\n                this.ensureNoPreviousPlaybackEvent(normalizedTime);\n                // Disabled until Closure is gone.\n                // clang-format off\n                this.playbackStatusLastEvent = this.startEvent({\n                    level: 0,\n                    startTime: normalizedTime,\n                    name: 'Pause',\n                    color: HotColorScheme[1],\n                });\n                // clang-format on\n                break;\n            case 'kWebMediaPlayerDestroyed':\n                this.canTick = false;\n                this.ensureNoPreviousPlaybackEvent(normalizedTime);\n                this.addMarker({\n                    level: 1,\n                    startTime: normalizedTime,\n                    name: 'Destroyed',\n                    color: HotColorScheme[4],\n                });\n                // clang-format on\n                break;\n            case 'kSuspended':\n                // Other event's can't happen during suspension or while the player is\n                // destroyed, so stop the ticking.\n                this.canTick = false;\n                this.ensureNoPreviousPlaybackEvent(normalizedTime);\n                // Disabled until Closure is gone.\n                // clang-format off\n                this.playbackStatusLastEvent = this.startEvent({\n                    level: 1,\n                    startTime: normalizedTime,\n                    name: 'Suspended',\n                    color: HotColorScheme[3],\n                });\n                // clang-format on\n                break;\n            case 'kEnded':\n                // Player ending can still have seeks & other events.\n                this.ensureNoPreviousPlaybackEvent(normalizedTime);\n                // Disabled until Closure is gone.\n                // clang-format off\n                this.playbackStatusLastEvent = this.startEvent({\n                    level: 1,\n                    startTime: normalizedTime,\n                    name: 'Ended',\n                    color: HotColorScheme[2],\n                });\n                // clang-format on\n                break;\n            default:\n                throw `_onPlaybackEvent cant handle ${event.event}`;\n        }\n    }\n    bufferedEnough(state) {\n        return state['state'] === 'BUFFERING_HAVE_ENOUGH';\n    }\n    onBufferingStatus(event, normalizedTime) {\n        // No declarations inside the case labels.\n        let audioState = null;\n        let videoState = null;\n        switch (event.event) {\n            case 'kBufferingStateChanged':\n                // There are three allowed entries, audio, video, and pipeline.\n                // We only want the buffering for audio and video to be displayed.\n                // One event may have changes for a single type, or for both audio/video\n                // simultaneously.\n                // @ts-ignore\n                audioState = event.value['audio_buffering_state'];\n                // @ts-ignore\n                videoState = event.value['video_buffering_state'];\n                if (audioState) {\n                    if (this.audioBufferingStateEvent !== null) {\n                        this.audioBufferingStateEvent.endTime = normalizedTime;\n                        this.audioBufferingStateEvent = null;\n                    }\n                    if (!this.bufferedEnough(audioState)) {\n                        this.audioBufferingStateEvent = this.startEvent({\n                            level: 3,\n                            startTime: normalizedTime,\n                            name: 'Audio Buffering',\n                            color: ColdColorScheme[1],\n                        });\n                    }\n                }\n                if (videoState) {\n                    if (this.videoBufferingStateEvent !== null) {\n                        this.videoBufferingStateEvent.endTime = normalizedTime;\n                        this.videoBufferingStateEvent = null;\n                    }\n                    if (!this.bufferedEnough(videoState)) {\n                        this.videoBufferingStateEvent = this.startEvent({\n                            level: 2,\n                            startTime: normalizedTime,\n                            name: 'Video Buffering',\n                            color: ColdColorScheme[0],\n                        });\n                    }\n                }\n                break;\n            default:\n                throw `_onPlaybackEvent cant handle ${event.event}`;\n        }\n    }\n    onEvent(event) {\n        if (this.normalizedTimestamp === NO_NORMALIZED_TIMESTAMP) {\n            this.normalizedTimestamp = Number(event.timestamp);\n        }\n        const inMilliseconds = (Number(event.timestamp) - this.normalizedTimestamp) * 1000;\n        switch (event.event) {\n            case 'kPlay':\n            case 'kPause':\n            case 'kWebMediaPlayerDestroyed':\n            case 'kSuspended':\n            case 'kEnded':\n                return this.onPlaybackEvent(event, inMilliseconds);\n            case 'kBufferingStateChanged':\n                return this.onBufferingStatus(event, inMilliseconds);\n            default:\n        }\n    }\n}\n//# sourceMappingURL=EventTimelineView.js.map","// Copyright 2024 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n// IMPORTANT: this file is auto generated. Please do not edit this file.\n/* istanbul ignore file */\nconst styles = new CSSStyleSheet();\nstyles.replaceSync(\n`/*\n * Copyright 2020 The Chromium Authors. All rights reserved.\n * Use of this source code is governed by a BSD-style license that can be\n * found in the LICENSE file.\n */\n.media-messages-header {\n  background-color: var(--sys-color-cdt-base-container);\n  border-bottom: 1px solid var(--sys-color-divider);\n  min-height: 26px;\n}\n\n.media-messages-body {\n  overflow-y: scroll;\n}\n\n.media-messages-level-dropdown-element {\n  height: 18px;\n  line-height: 18px;\n}\n\n.media-messages-level-dropdown-text {\n  float: left;\n}\n\n.media-messages-level-dropdown-checkbox {\n  float: left;\n  width: 18px;\n  height: 100%;\n  padding-left: 2px;\n}\n\n.media-messages-message-container {\n  margin: 4px;\n  font-size: 14px;\n  line-height: 18px;\n  padding: 4px;\n  user-select: text;\n}\n\n.media-messages-message-container + .media-messages-message-container {\n  border-top: 1px solid var(--sys-color-divider);\n\n  &.media-message-warning,\n  &.media-message-error {\n    border: none;\n  }\n}\n\n.media-message-warning {\n  border-radius: 5px;\n  background-color: var(--sys-color-surface-yellow);\n  color: var(--sys-color-on-surface-yellow);\n}\n\n.media-message-error {\n  border-radius: 5px;\n  background-color: var(--sys-color-surface-error);\n  color: var(--sys-color-on-surface-error);\n}\n\n.media-messages-message-filtered {\n  display: none;\n}\n\n.media-messages-message-unselected {\n  display: none;\n}\n\n.status-error-box {\n  font-family: monospace;\n  border: 1px solid var(--sys-color-error-outline);\n  border-radius: 5px;\n  padding: 4px;\n}\n\n.status-error-field-label {\n  padding-right: 10px;\n  color: var(--sys-color-token-subtle);\n}\n\n.status-error-field-labeled {\n  display: flex;\n}\n\n/*# sourceURL=playerMessagesView.css */\n`);\n\nexport default styles;\n","// Copyright 2020 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\nimport * as i18n from '../../core/i18n/i18n.js';\nimport * as UI from '../../ui/legacy/legacy.js';\nimport * as VisualLogging from '../../ui/visual_logging/visual_logging.js';\nimport playerMessagesViewStyles from './playerMessagesView.css.js';\nconst UIStrings = {\n    /**\n     *@description A context menu item in the Console View of the Console panel\n     */\n    default: 'Default',\n    /**\n     *@description Text in Network Throttling Selector of the Network panel\n     */\n    custom: 'Custom',\n    /**\n     *@description Text for everything\n     */\n    all: 'All',\n    /**\n     *@description Text for errors\n     */\n    error: 'Error',\n    /**\n     *@description Text to indicate an item is a warning\n     */\n    warning: 'Warning',\n    /**\n     *@description Sdk console message message level info of level Labels in Console View of the Console panel\n     */\n    info: 'Info',\n    /**\n     *@description Debug log level\n     */\n    debug: 'Debug',\n    /**\n     *@description Label for selecting between the set of log levels to show.\n     */\n    logLevel: 'Log level:',\n    /**\n     *@description Default text for user-text-entry for searching log messages.\n     */\n    filterByLogMessages: 'Filter by log messages',\n    /**\n     *@description The label for the group name that this error belongs to.\n     */\n    errorGroupLabel: 'Error Group:',\n    /**\n     *@description The label for the numeric code associated with this error.\n     */\n    errorCodeLabel: 'Error Code:',\n    /**\n     *@description The label for extra data associated with an error.\n     */\n    errorDataLabel: 'Data:',\n    /**\n     *@description The label for the stacktrace associated with the error.\n     */\n    errorStackLabel: 'Stacktrace:',\n    /**\n     *@description The label for a root cause error associated with this error.\n     */\n    errorCauseLabel: 'Caused by:',\n};\nconst str_ = i18n.i18n.registerUIStrings('panels/media/PlayerMessagesView.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\nclass MessageLevelSelector {\n    items;\n    view;\n    itemMap;\n    hiddenLevels;\n    bitFieldValue;\n    savedBitFieldValue;\n    defaultTitleInternal;\n    customTitle;\n    allTitle;\n    elementsForItems;\n    constructor(items, view) {\n        this.items = items;\n        this.view = view;\n        this.itemMap = new Map();\n        this.hiddenLevels = [];\n        this.bitFieldValue = 7 /* MessageLevelBitfield.DEFAULT */;\n        this.savedBitFieldValue = 7 /* MessageLevelBitfield.DEFAULT */;\n        this.defaultTitleInternal = i18nString(UIStrings.default);\n        this.customTitle = i18nString(UIStrings.custom);\n        this.allTitle = i18nString(UIStrings.all);\n        this.elementsForItems = new WeakMap();\n    }\n    defaultTitle() {\n        return this.defaultTitleInternal;\n    }\n    setDefault(dropdown) {\n        dropdown.selectItem(this.items.at(0));\n    }\n    populate() {\n        this.items.insert(this.items.length, {\n            title: this.defaultTitleInternal,\n            overwrite: true,\n            stringValue: '',\n            value: 7 /* MessageLevelBitfield.DEFAULT */,\n            selectable: undefined,\n        });\n        this.items.insert(this.items.length, {\n            title: this.allTitle,\n            overwrite: true,\n            stringValue: '',\n            value: 15 /* MessageLevelBitfield.ALL */,\n            selectable: undefined,\n        });\n        this.items.insert(this.items.length, {\n            title: i18nString(UIStrings.error),\n            overwrite: false,\n            stringValue: 'error',\n            value: 1 /* MessageLevelBitfield.ERROR */,\n            selectable: undefined,\n        });\n        this.items.insert(this.items.length, {\n            title: i18nString(UIStrings.warning),\n            overwrite: false,\n            stringValue: 'warning',\n            value: 2 /* MessageLevelBitfield.WARNING */,\n            selectable: undefined,\n        });\n        this.items.insert(this.items.length, {\n            title: i18nString(UIStrings.info),\n            overwrite: false,\n            stringValue: 'info',\n            value: 4 /* MessageLevelBitfield.INFO */,\n            selectable: undefined,\n        });\n        this.items.insert(this.items.length, {\n            title: i18nString(UIStrings.debug),\n            overwrite: false,\n            stringValue: 'debug',\n            value: 8 /* MessageLevelBitfield.DEBUG */,\n            selectable: undefined,\n        });\n    }\n    updateCheckMarks() {\n        this.hiddenLevels = [];\n        for (const [key, item] of this.itemMap) {\n            if (!item.overwrite) {\n                const elementForItem = this.elementsForItems.get(item);\n                if (elementForItem && elementForItem.firstChild) {\n                    elementForItem.firstChild.remove();\n                }\n                if (elementForItem && key & this.bitFieldValue) {\n                    UI.UIUtils.createTextChild(elementForItem.createChild('div'), '✓');\n                }\n                else {\n                    this.hiddenLevels.push(item.stringValue);\n                }\n            }\n        }\n    }\n    titleFor(item) {\n        // This would make a lot more sense to have in |itemSelected|, but this\n        // method gets called first.\n        if (item.overwrite) {\n            this.bitFieldValue = item.value;\n        }\n        else {\n            this.bitFieldValue ^= item.value;\n        }\n        if (this.bitFieldValue === 7 /* MessageLevelBitfield.DEFAULT */) {\n            return this.defaultTitleInternal;\n        }\n        if (this.bitFieldValue === 15 /* MessageLevelBitfield.ALL */) {\n            return this.allTitle;\n        }\n        const potentialMatch = this.itemMap.get(this.bitFieldValue);\n        if (potentialMatch) {\n            return potentialMatch.title;\n        }\n        return this.customTitle;\n    }\n    createElementForItem(item) {\n        const element = document.createElement('div');\n        const shadowRoot = UI.UIUtils.createShadowRootWithCoreStyles(element, { cssFile: [playerMessagesViewStyles], delegatesFocus: undefined });\n        const container = shadowRoot.createChild('div', 'media-messages-level-dropdown-element');\n        const checkBox = container.createChild('div', 'media-messages-level-dropdown-checkbox');\n        const text = container.createChild('span', 'media-messages-level-dropdown-text');\n        UI.UIUtils.createTextChild(text, item.title);\n        this.elementsForItems.set(item, checkBox);\n        this.itemMap.set(item.value, item);\n        this.updateCheckMarks();\n        this.view.regenerateMessageDisplayCss(this.hiddenLevels);\n        return element;\n    }\n    isItemSelectable(_item) {\n        return true;\n    }\n    itemSelected(_item) {\n        this.updateCheckMarks();\n        this.view.regenerateMessageDisplayCss(this.hiddenLevels);\n    }\n    highlightedItemChanged(_from, _to, _fromElement, _toElement) {\n    }\n}\nexport class PlayerMessagesView extends UI.Widget.VBox {\n    headerPanel;\n    bodyPanel;\n    messageLevelSelector;\n    constructor() {\n        super();\n        this.element.setAttribute('jslog', `${VisualLogging.pane('messages')}`);\n        this.headerPanel = this.contentElement.createChild('div', 'media-messages-header');\n        this.bodyPanel = this.contentElement.createChild('div', 'media-messages-body');\n        this.buildToolbar();\n    }\n    buildToolbar() {\n        const toolbar = new UI.Toolbar.Toolbar('media-messages-toolbar', this.headerPanel);\n        toolbar.appendText(i18nString(UIStrings.logLevel));\n        toolbar.appendToolbarItem(this.createDropdown());\n        toolbar.appendSeparator();\n        toolbar.appendToolbarItem(this.createFilterInput());\n    }\n    createDropdown() {\n        const items = new UI.ListModel.ListModel();\n        this.messageLevelSelector = new MessageLevelSelector(items, this);\n        const dropDown = new UI.SoftDropDown.SoftDropDown(items, this.messageLevelSelector, 'log-level');\n        dropDown.setRowHeight(18);\n        this.messageLevelSelector.populate();\n        this.messageLevelSelector.setDefault(dropDown);\n        const dropDownItem = new UI.Toolbar.ToolbarItem(dropDown.element);\n        dropDownItem.element.classList.add('toolbar-has-dropdown');\n        dropDownItem.setEnabled(true);\n        dropDownItem.setTitle(this.messageLevelSelector.defaultTitle());\n        UI.ARIAUtils.setLabel(dropDownItem.element, `${i18nString(UIStrings.logLevel)} ${this.messageLevelSelector.defaultTitle()}`);\n        return dropDownItem;\n    }\n    createFilterInput() {\n        const filterInput = new UI.Toolbar.ToolbarFilter(i18nString(UIStrings.filterByLogMessages), 1, 1);\n        filterInput.addEventListener(\"TextChanged\" /* UI.Toolbar.ToolbarInput.Event.TEXT_CHANGED */, (data) => {\n            this.filterByString(data);\n        }, this);\n        return filterInput;\n    }\n    regenerateMessageDisplayCss(hiddenLevels) {\n        const messages = this.bodyPanel.getElementsByClassName('media-messages-message-container');\n        for (const message of messages) {\n            if (this.matchesHiddenLevels(message, hiddenLevels)) {\n                message.classList.add('media-messages-message-unselected');\n            }\n            else {\n                message.classList.remove('media-messages-message-unselected');\n            }\n        }\n    }\n    matchesHiddenLevels(element, hiddenLevels) {\n        for (const level of hiddenLevels) {\n            if (element.classList.contains('media-message-' + level)) {\n                return true;\n            }\n        }\n        return false;\n    }\n    filterByString(userStringData) {\n        const userString = userStringData.data;\n        const messages = this.bodyPanel.getElementsByClassName('media-messages-message-container');\n        for (const message of messages) {\n            if (userString === '') {\n                message.classList.remove('media-messages-message-filtered');\n            }\n            else if (message.textContent && message.textContent.includes(userString)) {\n                message.classList.remove('media-messages-message-filtered');\n            }\n            else {\n                message.classList.add('media-messages-message-filtered');\n            }\n        }\n    }\n    addMessage(message) {\n        const container = this.bodyPanel.createChild('div', 'media-messages-message-container media-message-' + message.level);\n        UI.UIUtils.createTextChild(container, message.message);\n    }\n    errorToDiv(error) {\n        const entry = UI.Fragment.Fragment.build `\n    <div class=\"status-error-box\">\n    <div class=\"status-error-field-labeled\">\n      <span class=\"status-error-field-label\" $=\"status-error-group\"></span>\n      <span>${error.errorType}</span>\n    </div>\n    <div class=\"status-error-field-labeled\">\n      <span class=\"status-error-field-label\" $=\"status-error-code\"></span>\n      <span>${error.code}</span>\n    </div>\n    <div class=\"status-error-field-labeled\" $=\"status-error-data\">\n    </div>\n    <div class=\"status-error-field-labeled\" $=\"status-error-stack\">\n    </div>\n    <div class=\"status-error-field-labeled\" $=\"status-error-cause\">\n    </div>\n    `;\n        entry.$('status-error-group').textContent = i18nString(UIStrings.errorGroupLabel);\n        entry.$('status-error-code').textContent = i18nString(UIStrings.errorCodeLabel);\n        if (Object.keys(error.data).length !== 0) {\n            const label = entry.$('status-error-data').createChild('span', 'status-error-field-label');\n            UI.UIUtils.createTextChild(label, i18nString(UIStrings.errorDataLabel));\n            const dataContent = entry.$('status-error-data').createChild('div');\n            for (const [key, value] of Object.entries(error.data)) {\n                const datumContent = dataContent.createChild('div');\n                UI.UIUtils.createTextChild(datumContent, `${key}: ${value}`);\n            }\n        }\n        if (error.stack.length !== 0) {\n            const label = entry.$('status-error-stack').createChild('span', 'status-error-field-label');\n            UI.UIUtils.createTextChild(label, i18nString(UIStrings.errorStackLabel));\n            const stackContent = entry.$('status-error-stack').createChild('div');\n            for (const stackEntry of error.stack) {\n                const frameBox = stackContent.createChild('div');\n                UI.UIUtils.createTextChild(frameBox, `${stackEntry.file}:${stackEntry.line}`);\n            }\n        }\n        if (error.cause.length !== 0) {\n            const label = entry.$('status-error-cause').createChild('span', 'status-error-field-label');\n            UI.UIUtils.createTextChild(label, i18nString(UIStrings.errorCauseLabel));\n            entry.$('status-error-cause').appendChild(this.errorToDiv(error.cause[0]));\n        }\n        return entry.element();\n    }\n    addError(error) {\n        const container = this.bodyPanel.createChild('div', 'media-messages-message-container media-message-error');\n        container.appendChild(this.errorToDiv(error));\n    }\n    wasShown() {\n        super.wasShown();\n        this.registerCSSFiles([playerMessagesViewStyles]);\n    }\n}\n//# sourceMappingURL=PlayerMessagesView.js.map","// Copyright 2024 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n// IMPORTANT: this file is auto generated. Please do not edit this file.\n/* istanbul ignore file */\nconst styles = new CSSStyleSheet();\nstyles.replaceSync(\n`/*\n * Copyright 2019 The Chromium Authors. All rights reserved.\n * Use of this source code is governed by a BSD-style license that can be\n * found in the LICENSE file.\n */\n\n.media-attributes-view {\n  border-bottom: 1px solid var(--sys-color-divider);\n}\n\n.media-property-renderer {\n  line-height: 20px;\n  min-height: 28px;\n  padding: 4px 10px;\n  display: block;\n  overflow: hidden;\n\n  &:hover {\n    background: var(--sys-color-state-hover-on-subtle);\n  }\n}\n\n.media-property-renderer:nth-child(even):not(:hover) {\n  background: var(--sys-color-surface1);\n}\n\n.media-property-renderer:has(.json-view) {\n  padding-bottom: 0;\n}\n\n.media-property-renderer:has(.json-view > .expanded) {\n  padding-bottom: 4px;\n}\n\n.media-property-renderer-hidden {\n  display: none;\n}\n\n.media-property-renderer-title {\n  font-size: 12px;\n  float: left;\n  width: 150px;\n}\n\n.media-property-renderer-title::first-letter {\n  text-transform: uppercase;\n}\n\n.media-property-renderer-contents {\n  position: relative;\n\n  & > .json-view {\n    overflow: hidden;\n    padding: 0;\n  }\n}\n\n.media-properties-frame {\n  display: block;\n  overflow-x: hidden;\n}\n\n/*# sourceURL=playerPropertiesView.css */\n`);\n\nexport default styles;\n","// Copyright 2019 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\nimport * as i18n from '../../core/i18n/i18n.js';\nimport * as Platform from '../../core/platform/platform.js';\nimport * as SourceFrame from '../../ui/legacy/components/source_frame/source_frame.js';\nimport * as UI from '../../ui/legacy/legacy.js';\nimport * as VisualLogging from '../../ui/visual_logging/visual_logging.js';\nimport playerPropertiesViewStyles from './playerPropertiesView.css.js';\nconst UIStrings = {\n    /**\n     *@description The type of media, for example - video, audio, or text. Capitalized.\n     */\n    video: 'Video',\n    /**\n     *@description The type of media, for example - video, audio, or text. Capitalized.\n     */\n    audio: 'Audio',\n    /**\n     *@description A video or audio stream - but capitalized.\n     */\n    track: 'Track',\n    /**\n     *@description A device that converts media files into playable streams of audio or video.\n     */\n    decoder: 'Decoder',\n    /**\n     *@description Title of the 'Properties' tool in the sidebar of the elements tool\n     */\n    properties: 'Properties',\n    /**\n     *@description Menu label for text tracks, it is followed by a number, like 'Text Track #1'\n     */\n    textTrack: 'Text track',\n    /**\n     * @description Placeholder text stating that there are no text tracks on this player. A text track\n     * is all of the text that accompanies a particular video.\n     */\n    noTextTracks: 'No text tracks',\n    /**\n     *@description Media property giving the width x height of the video\n     */\n    resolution: 'Resolution',\n    /**\n     *@description Media property giving the file size of the media\n     */\n    fileSize: 'File size',\n    /**\n     *@description Media property giving the media file bitrate\n     */\n    bitrate: 'Bitrate',\n    /**\n     *@description Text for the duration of something\n     */\n    duration: 'Duration',\n    /**\n     *@description The label for a timestamp when a video was started.\n     */\n    startTime: 'Start time',\n    /**\n     *@description Media property signaling whether the media is streaming\n     */\n    streaming: 'Streaming',\n    /**\n     *@description Media property describing where the media is playing from.\n     */\n    playbackFrameUrl: 'Playback frame URL',\n    /**\n     *@description Media property giving the title of the frame where the media is embedded\n     */\n    playbackFrameTitle: 'Playback frame title',\n    /**\n     *@description Media property describing whether the file is single or cross origin in nature\n     */\n    singleoriginPlayback: 'Single-origin playback',\n    /**\n     *@description Media property describing support for range http headers\n     */\n    rangeHeaderSupport: '`Range` header support',\n    /**\n     *@description Media property giving the media file frame rate\n     */\n    frameRate: 'Frame rate',\n    /**\n     * @description Media property giving the distance of the playback quality from the ideal playback.\n     * Roughness is the opposite to smoothness, i.e. whether each frame of the video was played at the\n     * right time so that the video looks smooth when it plays.\n     */\n    videoPlaybackRoughness: 'Video playback roughness',\n    /**\n     *@description A score describing how choppy the video playback is.\n     */\n    videoFreezingScore: 'Video freezing score',\n    /**\n     *@description Media property giving the name of the renderer being used\n     */\n    rendererName: 'Renderer name',\n    /**\n     *@description Media property giving the name of the decoder being used\n     */\n    decoderName: 'Decoder name',\n    /**\n     *@description There is no decoder\n     */\n    noDecoder: 'No decoder',\n    /**\n     *@description Media property signaling whether a hardware decoder is being used\n     */\n    hardwareDecoder: 'Hardware decoder',\n    /**\n     *@description Media property signaling whether the content is encrypted. This is a noun phrase for\n     *a demultiplexer that does decryption.\n     */\n    decryptingDemuxer: 'Decrypting demuxer',\n    /**\n     *@description Media property giving the name of the video encoder being used.\n     */\n    encoderName: 'Encoder name',\n    /**\n     *@description There is no encoder.\n     */\n    noEncoder: 'No encoder',\n    /**\n     *@description Media property signaling whether the encoder is hardware accelerated.\n     */\n    hardwareEncoder: 'Hardware encoder',\n};\nconst str_ = i18n.i18n.registerUIStrings('panels/media/PlayerPropertiesView.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\nconst i18nLazyString = i18n.i18n.getLazilyComputedLocalizedString.bind(undefined, str_);\nexport class PropertyRenderer extends UI.Widget.VBox {\n    title;\n    contents;\n    value;\n    pseudoColorProtectionElement;\n    constructor(title) {\n        super();\n        this.contentElement.classList.add('media-property-renderer');\n        const titleElement = this.contentElement.createChild('span', 'media-property-renderer-title');\n        this.contents = this.contentElement.createChild('div', 'media-property-renderer-contents');\n        UI.UIUtils.createTextChild(titleElement, title);\n        this.title = title;\n        this.value = null;\n        this.pseudoColorProtectionElement = null;\n        this.contentElement.classList.add('media-property-renderer-hidden');\n    }\n    updateData(propname, propvalue) {\n        // convert all empty possibilities into nulls for easier handling.\n        if (propvalue === '' || propvalue === null) {\n            return this.updateDataInternal(propname, null);\n        }\n        try {\n            propvalue = JSON.parse(propvalue);\n        }\n        catch (err) {\n            // TODO(tmathmeyer) typecheck the type of propvalue against\n            // something defined or sourced from the c++ definitions.\n            // Do nothing, some strings just stay strings!\n        }\n        return this.updateDataInternal(propname, propvalue);\n    }\n    updateDataInternal(propname, propvalue) {\n        if (propvalue === null) {\n            this.changeContents(null);\n        }\n        else if (this.value === propvalue) {\n            return; // Don't rebuild element!\n        }\n        else {\n            this.value = propvalue;\n            this.changeContents(propvalue);\n        }\n    }\n    unsetNestedContents() {\n        this.contentElement.classList.add('media-property-renderer-hidden');\n        if (this.pseudoColorProtectionElement === null) {\n            this.pseudoColorProtectionElement = document.createElement('div');\n            this.pseudoColorProtectionElement.classList.add('media-property-renderer');\n            this.pseudoColorProtectionElement.classList.add('media-property-renderer-hidden');\n            this.contentElement.parentNode\n                .insertBefore(this.pseudoColorProtectionElement, this.contentElement);\n        }\n    }\n    changeNestedContents(value) {\n        if (value === null || Object.keys(value).length === 0) {\n            this.unsetNestedContents();\n        }\n        else {\n            if (this.pseudoColorProtectionElement !== null) {\n                this.pseudoColorProtectionElement.remove();\n                this.pseudoColorProtectionElement = null;\n            }\n            this.contentElement.classList.remove('media-property-renderer-hidden');\n            this.contents.removeChildren();\n            const jsonWrapperElement = new SourceFrame.JSONView.JSONView(new SourceFrame.JSONView.ParsedJSON(value, '', ''), true);\n            jsonWrapperElement.show(this.contents);\n        }\n    }\n    changeContents(value) {\n        if (value === null) {\n            this.unsetNestedContents();\n        }\n        else {\n            if (this.pseudoColorProtectionElement !== null) {\n                this.pseudoColorProtectionElement.remove();\n                this.pseudoColorProtectionElement = null;\n            }\n            this.contentElement.classList.remove('media-property-renderer-hidden');\n            this.contents.removeChildren();\n            const spanElement = document.createElement('span');\n            spanElement.textContent = value;\n            this.contents.appendChild(spanElement);\n        }\n    }\n}\nexport class FormattedPropertyRenderer extends PropertyRenderer {\n    formatfunction;\n    constructor(title, formatfunction) {\n        super(title);\n        this.formatfunction = formatfunction;\n    }\n    updateDataInternal(propname, propvalue) {\n        if (propvalue === null) {\n            this.changeContents(null);\n        }\n        else {\n            this.changeContents(this.formatfunction(propvalue));\n        }\n    }\n}\nexport class DefaultPropertyRenderer extends PropertyRenderer {\n    constructor(title, defaultText) {\n        super(title);\n        this.changeContents(defaultText);\n    }\n}\nexport class NestedPropertyRenderer extends PropertyRenderer {\n    constructor(title, content) {\n        super(title);\n        this.changeNestedContents(content);\n    }\n}\nexport class DimensionPropertyRenderer extends PropertyRenderer {\n    width;\n    height;\n    constructor(title) {\n        super(title);\n        this.width = 0;\n        this.height = 0;\n    }\n    updateDataInternal(propname, propvalue) {\n        let needsUpdate = false;\n        if (propname === 'width' && Number(propvalue) !== this.width) {\n            this.width = Number(propvalue);\n            needsUpdate = true;\n        }\n        if (propname === 'height' && Number(propvalue) !== this.height) {\n            this.height = Number(propvalue);\n            needsUpdate = true;\n        }\n        // If both properties arent set, don't bother updating, since\n        // temporarily showing ie: 1920x0 is meaningless.\n        if (this.width === 0 || this.height === 0) {\n            this.changeContents(null);\n        }\n        else if (needsUpdate) {\n            this.changeContents(`${this.width}×${this.height}`);\n        }\n    }\n}\nexport class AttributesView extends UI.Widget.VBox {\n    contentHash;\n    constructor(elements) {\n        super();\n        this.contentHash = 0;\n        this.contentElement.classList.add('media-attributes-view');\n        for (const element of elements) {\n            element.show(this.contentElement);\n            // We just need a really simple way to compare the topical equality\n            // of the attributes views in order to avoid deleting and recreating\n            // a node containing exactly the same data.\n            const content = this.contentElement.textContent;\n            if (content !== null) {\n                this.contentHash += Platform.StringUtilities.hashCode(content);\n            }\n        }\n    }\n    getContentHash() {\n        return this.contentHash;\n    }\n}\nexport class TrackManager {\n    type;\n    view;\n    constructor(propertiesView, type) {\n        this.type = type;\n        this.view = propertiesView;\n    }\n    updateData(_name, value) {\n        const tabs = this.view.getTabs(this.type);\n        const newTabs = JSON.parse(value);\n        let enumerate = 1;\n        for (const tabData of newTabs) {\n            this.addNewTab(tabs, tabData, enumerate);\n            enumerate++;\n        }\n    }\n    addNewTab(tabs, tabData, tabNumber) {\n        const tabElements = [];\n        for (const [name, data] of Object.entries(tabData)) {\n            if (typeof data === 'object') {\n                tabElements.push(new NestedPropertyRenderer(i18n.i18n.lockedString(name), data));\n            }\n            else {\n                tabElements.push(new DefaultPropertyRenderer(i18n.i18n.lockedString(name), data));\n            }\n        }\n        const newTab = new AttributesView(tabElements);\n        tabs.addNewTab(tabNumber, newTab);\n    }\n}\nexport class VideoTrackManager extends TrackManager {\n    constructor(propertiesView) {\n        super(propertiesView, 'video');\n    }\n}\nexport class TextTrackManager extends TrackManager {\n    constructor(propertiesView) {\n        super(propertiesView, 'text');\n    }\n}\nexport class AudioTrackManager extends TrackManager {\n    constructor(propertiesView) {\n        super(propertiesView, 'audio');\n    }\n}\nconst TrackTypeLocalized = {\n    Video: i18nLazyString(UIStrings.video),\n    Audio: i18nLazyString(UIStrings.audio),\n};\nclass GenericTrackMenu extends UI.TabbedPane.TabbedPane {\n    decoderName;\n    trackName;\n    constructor(decoderName, trackName = i18nString(UIStrings.track)) {\n        super();\n        this.decoderName = decoderName;\n        this.trackName = trackName;\n    }\n    addNewTab(trackNumber, element) {\n        const localizedTrackLower = i18nString(UIStrings.track);\n        const tabId = `track-${trackNumber}`;\n        if (this.hasTab(tabId)) {\n            const tabElement = this.tabView(tabId);\n            if (tabElement === null) {\n                return;\n            }\n            if (tabElement.getContentHash() === element.getContentHash()) {\n                return;\n            }\n            this.closeTab(tabId, /* userGesture=*/ false);\n        }\n        this.appendTab(tabId, // No need for localizing, internal ID.\n        `${this.trackName} #${trackNumber}`, element, `${this.decoderName} ${localizedTrackLower} #${trackNumber}`);\n    }\n}\nclass DecoderTrackMenu extends GenericTrackMenu {\n    constructor(decoderName, informationalElement) {\n        super(decoderName);\n        const decoderLocalized = i18nString(UIStrings.decoder);\n        const title = `${decoderName} ${decoderLocalized}`;\n        const propertiesLocalized = i18nString(UIStrings.properties);\n        const hoverText = `${title} ${propertiesLocalized}`;\n        this.appendTab('decoder-properties', title, informationalElement, hoverText);\n    }\n}\nclass NoTracksPlaceholderMenu extends UI.Widget.VBox {\n    isPlaceholder;\n    wrapping;\n    constructor(wrapping, placeholderText) {\n        super();\n        this.isPlaceholder = true;\n        this.wrapping = wrapping;\n        this.wrapping.appendTab('_placeholder', placeholderText, new UI.Widget.VBox(), placeholderText);\n        this.wrapping.show(this.contentElement);\n    }\n    addNewTab(trackNumber, element) {\n        if (this.isPlaceholder) {\n            this.wrapping.closeTab('_placeholder');\n            this.isPlaceholder = false;\n        }\n        this.wrapping.addNewTab(trackNumber, element);\n    }\n}\nexport class PlayerPropertiesView extends UI.Widget.VBox {\n    mediaElements;\n    videoDecoderElements;\n    audioDecoderElements;\n    textTrackElements;\n    attributeMap;\n    videoProperties;\n    videoDecoderProperties;\n    audioDecoderProperties;\n    videoDecoderTabs;\n    audioDecoderTabs;\n    textTracksTabs;\n    constructor() {\n        super();\n        this.element.setAttribute('jslog', `${VisualLogging.pane('properties')}`);\n        this.contentElement.classList.add('media-properties-frame');\n        this.mediaElements = [];\n        this.videoDecoderElements = [];\n        this.audioDecoderElements = [];\n        this.textTrackElements = [];\n        this.attributeMap = new Map();\n        this.populateAttributesAndElements();\n        this.videoProperties = new AttributesView(this.mediaElements);\n        this.videoDecoderProperties = new AttributesView(this.videoDecoderElements);\n        this.audioDecoderProperties = new AttributesView(this.audioDecoderElements);\n        this.videoProperties.show(this.contentElement);\n        this.videoDecoderTabs = new DecoderTrackMenu(TrackTypeLocalized.Video(), this.videoDecoderProperties);\n        this.videoDecoderTabs.show(this.contentElement);\n        this.audioDecoderTabs = new DecoderTrackMenu(TrackTypeLocalized.Audio(), this.audioDecoderProperties);\n        this.audioDecoderTabs.show(this.contentElement);\n        this.textTracksTabs = null;\n    }\n    lazyCreateTrackTabs() {\n        let textTracksTabs = this.textTracksTabs;\n        if (textTracksTabs === null) {\n            const textTracks = new GenericTrackMenu(i18nString(UIStrings.textTrack));\n            textTracksTabs = new NoTracksPlaceholderMenu(textTracks, i18nString(UIStrings.noTextTracks));\n            textTracksTabs.show(this.contentElement);\n            this.textTracksTabs = textTracksTabs;\n        }\n        return textTracksTabs;\n    }\n    getTabs(type) {\n        if (type === 'audio') {\n            return this.audioDecoderTabs;\n        }\n        if (type === 'video') {\n            return this.videoDecoderTabs;\n        }\n        if (type === 'text') {\n            return this.lazyCreateTrackTabs();\n        }\n        // There should be no other type allowed.\n        throw new Error('Unreachable');\n    }\n    onProperty(property) {\n        const renderer = this.attributeMap.get(property.name);\n        if (!renderer) {\n            throw new Error(`Player property \"${property.name}\" not supported.`);\n        }\n        renderer.updateData(property.name, property.value);\n    }\n    formatKbps(bitsPerSecond) {\n        if (bitsPerSecond === '') {\n            return '0 kbps';\n        }\n        const kbps = Math.floor(Number(bitsPerSecond) / 1000);\n        return `${kbps} kbps`;\n    }\n    formatTime(seconds) {\n        if (seconds === '') {\n            return '0:00';\n        }\n        const date = new Date();\n        date.setSeconds(Number(seconds));\n        return date.toISOString().substr(11, 8);\n    }\n    formatFileSize(bytes) {\n        if (bytes === '') {\n            return '0 bytes';\n        }\n        const actualBytes = Number(bytes);\n        if (actualBytes < 1000) {\n            return `${bytes} bytes`;\n        }\n        const power = Math.floor(Math.log10(actualBytes) / 3);\n        const suffix = ['bytes', 'kB', 'MB', 'GB', 'TB'][power];\n        const bytesDecimal = (actualBytes / Math.pow(1000, power)).toFixed(2);\n        return `${bytesDecimal} ${suffix}`;\n    }\n    populateAttributesAndElements() {\n        /* Media properties */\n        const resolution = new PropertyRenderer(i18nString(UIStrings.resolution));\n        this.mediaElements.push(resolution);\n        this.attributeMap.set(\"kResolution\" /* PlayerPropertyKeys.RESOLUTION */, resolution);\n        const fileSize = new FormattedPropertyRenderer(i18nString(UIStrings.fileSize), this.formatFileSize);\n        this.mediaElements.push(fileSize);\n        this.attributeMap.set(\"kTotalBytes\" /* PlayerPropertyKeys.TOTAL_BYTES */, fileSize);\n        const bitrate = new FormattedPropertyRenderer(i18nString(UIStrings.bitrate), this.formatKbps);\n        this.mediaElements.push(bitrate);\n        this.attributeMap.set(\"kBitrate\" /* PlayerPropertyKeys.BITRATE */, bitrate);\n        const duration = new FormattedPropertyRenderer(i18nString(UIStrings.duration), this.formatTime);\n        this.mediaElements.push(duration);\n        this.attributeMap.set(\"kMaxDuration\" /* PlayerPropertyKeys.MAX_DURATION */, duration);\n        const startTime = new PropertyRenderer(i18nString(UIStrings.startTime));\n        this.mediaElements.push(startTime);\n        this.attributeMap.set(\"kStartTime\" /* PlayerPropertyKeys.START_TIME */, startTime);\n        const streaming = new PropertyRenderer(i18nString(UIStrings.streaming));\n        this.mediaElements.push(streaming);\n        this.attributeMap.set(\"kIsStreaming\" /* PlayerPropertyKeys.IS_STREAMING */, streaming);\n        const frameUrl = new PropertyRenderer(i18nString(UIStrings.playbackFrameUrl));\n        this.mediaElements.push(frameUrl);\n        this.attributeMap.set(\"kFrameUrl\" /* PlayerPropertyKeys.FRAME_URL */, frameUrl);\n        const frameTitle = new PropertyRenderer(i18nString(UIStrings.playbackFrameTitle));\n        this.mediaElements.push(frameTitle);\n        this.attributeMap.set(\"kFrameTitle\" /* PlayerPropertyKeys.FRAME_TITLE */, frameTitle);\n        const singleOrigin = new PropertyRenderer(i18nString(UIStrings.singleoriginPlayback));\n        this.mediaElements.push(singleOrigin);\n        this.attributeMap.set(\"kIsSingleOrigin\" /* PlayerPropertyKeys.IS_SINGLE_ORIGIN */, singleOrigin);\n        const rangeHeaders = new PropertyRenderer(i18nString(UIStrings.rangeHeaderSupport));\n        this.mediaElements.push(rangeHeaders);\n        this.attributeMap.set(\"kIsRangeHeaderSupported\" /* PlayerPropertyKeys.IS_RANGE_HEADER_SUPPORTED */, rangeHeaders);\n        const frameRate = new PropertyRenderer(i18nString(UIStrings.frameRate));\n        this.mediaElements.push(frameRate);\n        this.attributeMap.set(\"kFramerate\" /* PlayerPropertyKeys.FRAMERATE */, frameRate);\n        const roughness = new PropertyRenderer(i18nString(UIStrings.videoPlaybackRoughness));\n        this.mediaElements.push(roughness);\n        this.attributeMap.set(\"kVideoPlaybackRoughness\" /* PlayerPropertyKeys.VIDEO_PLAYBACK_ROUGHNESS */, roughness);\n        const freezingScore = new PropertyRenderer(i18nString(UIStrings.videoFreezingScore));\n        this.mediaElements.push(freezingScore);\n        this.attributeMap.set(\"kVideoPlaybackFreezing\" /* PlayerPropertyKeys.VIDEO_PLAYBACK_FREEZING */, freezingScore);\n        const rendererName = new PropertyRenderer(i18nString(UIStrings.rendererName));\n        this.mediaElements.push(rendererName);\n        this.attributeMap.set(\"kRendererName\" /* PlayerPropertyKeys.RENDERER_NAME */, rendererName);\n        /* Video Decoder Properties */\n        const decoderName = new DefaultPropertyRenderer(i18nString(UIStrings.decoderName), i18nString(UIStrings.noDecoder));\n        this.videoDecoderElements.push(decoderName);\n        this.attributeMap.set(\"kVideoDecoderName\" /* PlayerPropertyKeys.VIDEO_DECODER_NAME */, decoderName);\n        const videoPlatformDecoder = new PropertyRenderer(i18nString(UIStrings.hardwareDecoder));\n        this.videoDecoderElements.push(videoPlatformDecoder);\n        this.attributeMap.set(\"kIsPlatformVideoDecoder\" /* PlayerPropertyKeys.IS_PLATFORM_VIDEO_DECODER */, videoPlatformDecoder);\n        const encoderName = new DefaultPropertyRenderer(i18nString(UIStrings.encoderName), i18nString(UIStrings.noEncoder));\n        this.videoDecoderElements.push(encoderName);\n        this.attributeMap.set(\"kVideoEncoderName\" /* PlayerPropertyKeys.VIDEO_ENCODER_NAME */, encoderName);\n        const videoPlatformEncoder = new PropertyRenderer(i18nString(UIStrings.hardwareEncoder));\n        this.videoDecoderElements.push(videoPlatformEncoder);\n        this.attributeMap.set(\"kIsPlatformVideoEncoder\" /* PlayerPropertyKeys.IS_PLATFORM_VIDEO_ENCODER */, videoPlatformEncoder);\n        const videoDDS = new PropertyRenderer(i18nString(UIStrings.decryptingDemuxer));\n        this.videoDecoderElements.push(videoDDS);\n        this.attributeMap.set(\"kIsVideoDecryptingDemuxerStream\" /* PlayerPropertyKeys.IS_VIDEO_DECRYPTION_DEMUXER_STREAM */, videoDDS);\n        const videoTrackManager = new VideoTrackManager(this);\n        this.attributeMap.set(\"kVideoTracks\" /* PlayerPropertyKeys.VIDEO_TRACKS */, videoTrackManager);\n        /* Audio Decoder Properties */\n        const audioDecoder = new DefaultPropertyRenderer(i18nString(UIStrings.decoderName), i18nString(UIStrings.noDecoder));\n        this.audioDecoderElements.push(audioDecoder);\n        this.attributeMap.set(\"kAudioDecoderName\" /* PlayerPropertyKeys.AUDIO_DECODER_NAME */, audioDecoder);\n        const audioPlatformDecoder = new PropertyRenderer(i18nString(UIStrings.hardwareDecoder));\n        this.audioDecoderElements.push(audioPlatformDecoder);\n        this.attributeMap.set(\"kIsPlatformAudioDecoder\" /* PlayerPropertyKeys.IS_PLATFORM_AUDIO_DECODER */, audioPlatformDecoder);\n        const audioDDS = new PropertyRenderer(i18nString(UIStrings.decryptingDemuxer));\n        this.audioDecoderElements.push(audioDDS);\n        this.attributeMap.set(\"kIsAudioDecryptingDemuxerStream\" /* PlayerPropertyKeys.IS_AUDIO_DECRYPTING_DEMUXER_STREAM */, audioDDS);\n        const audioTrackManager = new AudioTrackManager(this);\n        this.attributeMap.set(\"kAudioTracks\" /* PlayerPropertyKeys.AUDIO_TRACKS */, audioTrackManager);\n        const textTrackManager = new TextTrackManager(this);\n        this.attributeMap.set(\"kTextTracks\" /* PlayerPropertyKeys.TEXT_TRACKS */, textTrackManager);\n    }\n    wasShown() {\n        super.wasShown();\n        this.registerCSSFiles([playerPropertiesViewStyles]);\n    }\n}\n//# sourceMappingURL=PlayerPropertiesView.js.map","// Copyright 2019 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\nimport * as i18n from '../../core/i18n/i18n.js';\nimport * as UI from '../../ui/legacy/legacy.js';\nimport { PlayerEventsView } from './EventDisplayTable.js';\nimport { PlayerEventsTimeline } from './EventTimelineView.js';\nimport { PlayerMessagesView } from './PlayerMessagesView.js';\nimport { PlayerPropertiesView } from './PlayerPropertiesView.js';\nconst UIStrings = {\n    /**\n     *@description Title of the 'Properties' tool in the sidebar of the elements tool\n     */\n    properties: 'Properties',\n    /**\n     *@description Button text for viewing properties.\n     */\n    playerProperties: 'Player properties',\n    /**\n     *@description Button text for viewing events.\n     */\n    events: 'Events',\n    /**\n     *@description Hover text for the Events button.\n     */\n    playerEvents: 'Player events',\n    /**\n     *@description Text in Network Item View of the Network panel\n     */\n    messages: 'Messages',\n    /**\n     *@description Column header for messages view.\n     */\n    playerMessages: 'Player messages',\n    /**\n     *@description Title for the timeline tab.\n     */\n    timeline: 'Timeline',\n    /**\n     *@description Hovertext for Timeline tab.\n     */\n    playerTimeline: 'Player timeline',\n};\nconst str_ = i18n.i18n.registerUIStrings('panels/media/PlayerDetailView.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\nexport class PlayerDetailView extends UI.TabbedPane.TabbedPane {\n    eventView;\n    propertyView;\n    messageView;\n    timelineView;\n    constructor() {\n        super();\n        this.eventView = new PlayerEventsView();\n        this.propertyView = new PlayerPropertiesView();\n        this.messageView = new PlayerMessagesView();\n        this.timelineView = new PlayerEventsTimeline();\n        this.appendTab(\"properties\" /* PlayerDetailViewTabs.PROPERTIES */, i18nString(UIStrings.properties), this.propertyView, i18nString(UIStrings.playerProperties));\n        this.appendTab(\"events\" /* PlayerDetailViewTabs.EVENTS */, i18nString(UIStrings.events), this.eventView, i18nString(UIStrings.playerEvents));\n        this.appendTab(\"messages\" /* PlayerDetailViewTabs.MESSAGES */, i18nString(UIStrings.messages), this.messageView, i18nString(UIStrings.playerMessages));\n        this.appendTab(\"timeline\" /* PlayerDetailViewTabs.TIMELINE */, i18nString(UIStrings.timeline), this.timelineView, i18nString(UIStrings.playerTimeline));\n    }\n    onProperty(property) {\n        this.propertyView.onProperty(property);\n    }\n    onError(error) {\n        this.messageView.addError(error);\n    }\n    onMessage(message) {\n        this.messageView.addMessage(message);\n    }\n    onEvent(event) {\n        this.eventView.onEvent(event);\n        this.timelineView.onEvent(event);\n    }\n}\n//# sourceMappingURL=PlayerDetailView.js.map","// Copyright 2024 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n// IMPORTANT: this file is auto generated. Please do not edit this file.\n/* istanbul ignore file */\nconst styles = new CSSStyleSheet();\nstyles.replaceSync(\n`/*\n * Copyright 2019 The Chromium Authors. All rights reserved.\n * Use of this source code is governed by a BSD-style license that can be\n * found in the LICENSE file.\n */\n\n.tree-outline {\n  padding-left: 0;\n  color: var(--sys-color-token-subtle);\n}\n\nli.storage-group-list-item {\n  padding: 10px 8px 6px;\n}\n\nli.storage-group-list-item:not(:first-child) {\n  border-top: 1px solid var(--sys-color-divider);\n}\n\nli.storage-group-list-item::before {\n  display: none;\n}\n\n.player-entry-row {\n  height: 26px;\n  min-height: 26px;\n  line-height: 26px;\n\n  &:nth-child(odd) {\n    background: var(--sys-color-surface1);\n  }\n\n  &:hover {\n    background: var(--sys-color-state-hover-on-subtle);\n  }\n\n  &.selected {\n    background: var(--sys-color-tonal-container);\n    color: var(--sys-color-on-tonal-container);\n  }\n}\n\n.player-entry-status-icon-centering {\n  margin: auto;\n  display: inherit;\n}\n\n.player-entry-status-icon {\n  width: 28px;\n  min-width: 28px;\n  height: 26px;\n  border-right: 1px solid var(--sys-color-divider);\n  overflow: hidden;\n}\n\n.player-entry-frame-title {\n  height: 26px;\n  width: 125px;\n  min-width: 125px;\n  text-overflow: elipsis;\n  padding: 0 10px;\n  border-right: 1px solid var(--sys-color-divider);\n  overflow: hidden;\n}\n\n.player-entry-player-title {\n  height: 26px;\n  padding-left: 10px;\n  overflow: hidden;\n}\n\n.player-entry-header {\n  height: 27px;\n  line-height: 27px;\n  min-height: 27px;\n  padding-left: 10px;\n  border-bottom: 1px solid var(--sys-color-divider);\n}\n\n/*# sourceURL=playerListView.css */\n`);\n\nexport default styles;\n","// Copyright 2019 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\nimport * as i18n from '../../core/i18n/i18n.js';\nimport * as IconButton from '../../ui/components/icon_button/icon_button.js';\nimport * as UI from '../../ui/legacy/legacy.js';\nimport * as VisualLogging from '../../ui/visual_logging/visual_logging.js';\nimport playerListViewStyles from './playerListView.css.js';\nconst UIStrings = {\n    /**\n     *@description A right-click context menu entry which when clicked causes the menu entry for that player to be removed.\n     */\n    hidePlayer: 'Hide player',\n    /**\n     *@description A right-click context menu entry which should keep the element selected, while hiding all other entries.\n     */\n    hideAllOthers: 'Hide all others',\n    /**\n     *@description Context menu entry which downloads the json dump when clicked\n     */\n    savePlayerInfo: 'Save player info',\n    /**\n     *@description Side-panel entry title text for the players section.\n     */\n    players: 'Players',\n};\nconst str_ = i18n.i18n.registerUIStrings('panels/media/PlayerListView.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\nexport class PlayerListView extends UI.Widget.VBox {\n    playerEntryFragments;\n    playerEntriesWithHostnameFrameTitle;\n    mainContainer;\n    currentlySelectedEntry;\n    constructor(mainContainer) {\n        super(true);\n        this.playerEntryFragments = new Map();\n        this.playerEntriesWithHostnameFrameTitle = new Set();\n        // Container where new panels can be added based on clicks.\n        this.mainContainer = mainContainer;\n        this.currentlySelectedEntry = null;\n        this.contentElement.createChild('div', 'player-entry-header').textContent = i18nString(UIStrings.players);\n    }\n    createPlayerListEntry(playerID) {\n        const entry = UI.Fragment.Fragment.build `\n    <div class=\"player-entry-row hbox\">\n    <div class=\"player-entry-status-icon vbox\">\n    <div $=\"icon\" class=\"player-entry-status-icon-centering\"></div>\n    </div>\n    <div $=\"frame-title\" class=\"player-entry-frame-title\">FrameTitle</div>\n    <div $=\"player-title\" class=\"player-entry-player-title\">PlayerTitle</div>\n    </div>\n    `;\n        const element = entry.element();\n        element.setAttribute('jslog', `${VisualLogging.item('player').track({ click: true })}`);\n        element.addEventListener('click', this.selectPlayer.bind(this, playerID, element));\n        element.addEventListener('contextmenu', this.rightClickPlayer.bind(this, playerID));\n        entry.$('icon').appendChild(IconButton.Icon.create('pause', 'media-player'));\n        return entry;\n    }\n    selectPlayer(playerID, element) {\n        this.mainContainer.renderMainPanel(playerID);\n        if (this.currentlySelectedEntry !== null) {\n            this.currentlySelectedEntry.classList.remove('selected');\n            this.currentlySelectedEntry.classList.remove('force-white-icons');\n        }\n        element.classList.add('selected');\n        element.classList.add('force-white-icons');\n        this.currentlySelectedEntry = element;\n    }\n    rightClickPlayer(playerID, event) {\n        const contextMenu = new UI.ContextMenu.ContextMenu(event);\n        contextMenu.headerSection().appendItem(i18nString(UIStrings.hidePlayer), this.mainContainer.markPlayerForDeletion.bind(this.mainContainer, playerID), { jslogContext: 'hide-player' });\n        contextMenu.headerSection().appendItem(i18nString(UIStrings.hideAllOthers), this.mainContainer.markOtherPlayersForDeletion.bind(this.mainContainer, playerID), { jslogContext: 'hide-all-others' });\n        contextMenu.headerSection().appendItem(i18nString(UIStrings.savePlayerInfo), this.mainContainer.exportPlayerData.bind(this.mainContainer, playerID), { jslogContext: 'save-player-info' });\n        void contextMenu.show();\n        return true;\n    }\n    setMediaElementFrameTitle(playerID, frameTitle, isHostname) {\n        // Only remove the title from the set if we arent setting a hostname title.\n        // Otherwise, if it has a non-hostname title, and the requested new title is\n        // a hostname, just drop it.\n        if (this.playerEntriesWithHostnameFrameTitle.has(playerID)) {\n            if (!isHostname) {\n                this.playerEntriesWithHostnameFrameTitle.delete(playerID);\n            }\n        }\n        else if (isHostname) {\n            return;\n        }\n        if (!this.playerEntryFragments.has(playerID)) {\n            return;\n        }\n        const fragment = this.playerEntryFragments.get(playerID);\n        if (fragment === undefined || fragment.element() === undefined) {\n            return;\n        }\n        fragment.$('frame-title').textContent = frameTitle;\n    }\n    setMediaElementPlayerTitle(playerID, playerTitle) {\n        if (!this.playerEntryFragments.has(playerID)) {\n            return;\n        }\n        const fragment = this.playerEntryFragments.get(playerID);\n        if (fragment === undefined) {\n            return;\n        }\n        fragment.$('player-title').textContent = playerTitle;\n    }\n    setMediaElementPlayerIcon(playerID, iconName) {\n        if (!this.playerEntryFragments.has(playerID)) {\n            return;\n        }\n        const fragment = this.playerEntryFragments.get(playerID);\n        if (fragment === undefined) {\n            return;\n        }\n        const icon = fragment.$('icon');\n        if (icon === undefined) {\n            return;\n        }\n        icon.textContent = '';\n        icon.appendChild(IconButton.Icon.create(iconName, 'media-player'));\n    }\n    formatAndEvaluate(playerID, func, candidate, min, max) {\n        if (candidate.length <= min) {\n            return;\n        }\n        if (candidate.length >= max) {\n            candidate = candidate.substring(0, max - 3) + '...';\n        }\n        func.bind(this)(playerID, candidate);\n    }\n    addMediaElementItem(playerID) {\n        const sidebarEntry = this.createPlayerListEntry(playerID);\n        this.contentElement.appendChild(sidebarEntry.element());\n        this.playerEntryFragments.set(playerID, sidebarEntry);\n        this.playerEntriesWithHostnameFrameTitle.add(playerID);\n    }\n    deletePlayer(playerID) {\n        if (!this.playerEntryFragments.has(playerID)) {\n            return;\n        }\n        const fragment = this.playerEntryFragments.get(playerID);\n        if (fragment === undefined || fragment.element() === undefined) {\n            return;\n        }\n        this.contentElement.removeChild(fragment.element());\n        this.playerEntryFragments.delete(playerID);\n    }\n    onEvent(playerID, event) {\n        const parsed = JSON.parse(event.value);\n        const eventType = parsed.event;\n        // Load events provide the actual underlying URL for the video, which makes\n        // a great way to identify a specific video within a page that potentially\n        // may have many videos. MSE videos have a special blob:http(s) protocol\n        // that we'd like to keep mind of, so we do prepend blob:\n        if (eventType === 'kLoad') {\n            const url = parsed.url;\n            const videoName = url.substring(url.lastIndexOf('/') + 1);\n            this.formatAndEvaluate(playerID, this.setMediaElementPlayerTitle, videoName, 1, 20);\n            return;\n        }\n        if (eventType === 'kPlay') {\n            this.setMediaElementPlayerIcon(playerID, 'play');\n            return;\n        }\n        if (eventType === 'kPause' || eventType === 'kEnded') {\n            this.setMediaElementPlayerIcon(playerID, 'pause');\n            return;\n        }\n        if (eventType === 'kWebMediaPlayerDestroyed') {\n            this.setMediaElementPlayerIcon(playerID, 'cross');\n            return;\n        }\n    }\n    onProperty(playerID, property) {\n        // FrameUrl is always present, and we can generate a basic frame title from\n        // it by grabbing the hostname. It's not possible to generate a \"good\" player\n        // title from the FrameUrl though, since the page location itself might not\n        // have any relevance to the video being played, and would be shared by all\n        // videos on the page.\n        if (property.name === \"kFrameUrl\" /* PlayerPropertyKeys.FRAME_URL */) {\n            const frameTitle = new URL(property.value).hostname;\n            this.formatAndEvaluate(playerID, this.setMediaElementFrameTitle, frameTitle, 1, 20);\n            return;\n        }\n        // On the other hand, the page may set a title, which usually makes for a\n        // better frame title than a hostname. Unfortunately, its only \"usually\",\n        // since the site is free to set the title to _anything_, it might just be\n        // junk, or it might be super long. If it's empty, or 1 character, It's\n        // preferable to just drop it. Titles longer than 20 will have the first\n        // 17 characters kept and an elipsis appended.\n        if (property.name === \"kFrameTitle\" /* PlayerPropertyKeys.FRAME_TITLE */ && property.value) {\n            this.formatAndEvaluate(playerID, this.setMediaElementFrameTitle, property.value, 1, 20);\n            return;\n        }\n    }\n    onError(_playerID, _error) {\n        // TODO(tmathmeyer) show an error icon next to the player name\n    }\n    onMessage(_playerID, _message) {\n        // TODO(tmathmeyer) show a message count number next to the player name.\n    }\n    wasShown() {\n        super.wasShown();\n        this.registerCSSFiles([playerListViewStyles]);\n    }\n}\n//# sourceMappingURL=PlayerListView.js.map","// Copyright 2019 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\nimport * as SDK from '../../core/sdk/sdk.js';\nimport * as UI from '../../ui/legacy/legacy.js';\nimport { MediaModel } from './MediaModel.js';\nimport { PlayerDetailView } from './PlayerDetailView.js';\nimport { PlayerListView } from './PlayerListView.js';\nclass PlayerDataCollection {\n    properties;\n    messages;\n    events;\n    errors;\n    constructor() {\n        this.properties = new Map();\n        this.messages = [];\n        this.events = [];\n        this.errors = [];\n    }\n    onProperty(property) {\n        this.properties.set(property.name, property.value);\n    }\n    onError(error) {\n        this.errors.push(error);\n    }\n    onMessage(message) {\n        this.messages.push(message);\n    }\n    onEvent(event) {\n        this.events.push(event);\n    }\n    export() {\n        return { properties: this.properties, messages: this.messages, events: this.events, errors: this.errors };\n    }\n}\nexport class PlayerDataDownloadManager {\n    playerDataCollection;\n    constructor() {\n        this.playerDataCollection = new Map();\n    }\n    addPlayer(playerID) {\n        this.playerDataCollection.set(playerID, new PlayerDataCollection());\n    }\n    onProperty(playerID, property) {\n        const playerProperty = this.playerDataCollection.get(playerID);\n        if (!playerProperty) {\n            return;\n        }\n        playerProperty.onProperty(property);\n    }\n    onError(playerID, error) {\n        const playerProperty = this.playerDataCollection.get(playerID);\n        if (!playerProperty) {\n            return;\n        }\n        playerProperty.onError(error);\n    }\n    onMessage(playerID, message) {\n        const playerProperty = this.playerDataCollection.get(playerID);\n        if (!playerProperty) {\n            return;\n        }\n        playerProperty.onMessage(message);\n    }\n    onEvent(playerID, event) {\n        const playerProperty = this.playerDataCollection.get(playerID);\n        if (!playerProperty) {\n            return;\n        }\n        playerProperty.onEvent(event);\n    }\n    exportPlayerData(playerID) {\n        const playerProperty = this.playerDataCollection.get(playerID);\n        if (!playerProperty) {\n            throw new Error('Unable to find player');\n        }\n        return playerProperty.export();\n    }\n    deletePlayer(playerID) {\n        this.playerDataCollection.delete(playerID);\n    }\n}\nexport class MainView extends UI.Panel.PanelWithSidebar {\n    detailPanels;\n    deletedPlayers;\n    downloadStore;\n    sidebar;\n    constructor(downloadStore = new PlayerDataDownloadManager()) {\n        super('media');\n        this.detailPanels = new Map();\n        this.deletedPlayers = new Set();\n        this.downloadStore = downloadStore;\n        this.sidebar = new PlayerListView(this);\n        this.sidebar.show(this.panelSidebarElement());\n        SDK.TargetManager.TargetManager.instance().observeModels(MediaModel, this, { scoped: true });\n    }\n    renderMainPanel(playerID) {\n        if (!this.detailPanels.has(playerID)) {\n            return;\n        }\n        const mainWidget = this.splitWidget().mainWidget();\n        if (mainWidget) {\n            mainWidget.detachChildWidgets();\n        }\n        this.detailPanels.get(playerID)?.show(this.mainElement());\n    }\n    wasShown() {\n        super.wasShown();\n        for (const model of SDK.TargetManager.TargetManager.instance().models(MediaModel, { scoped: true })) {\n            this.addEventListeners(model);\n        }\n    }\n    willHide() {\n        for (const model of SDK.TargetManager.TargetManager.instance().models(MediaModel, { scoped: true })) {\n            this.removeEventListeners(model);\n        }\n    }\n    modelAdded(model) {\n        if (this.isShowing()) {\n            this.addEventListeners(model);\n        }\n    }\n    modelRemoved(model) {\n        this.removeEventListeners(model);\n    }\n    addEventListeners(mediaModel) {\n        mediaModel.ensureEnabled();\n        mediaModel.addEventListener(\"PlayerPropertiesChanged\" /* Events.PLAYER_PROPERTIES_CHANGED */, this.propertiesChanged, this);\n        mediaModel.addEventListener(\"PlayerEventsAdded\" /* Events.PLAYER_EVENTS_ADDED */, this.eventsAdded, this);\n        mediaModel.addEventListener(\"PlayerMessagesLogged\" /* Events.PLAYER_MESSAGES_LOGGED */, this.messagesLogged, this);\n        mediaModel.addEventListener(\"PlayerErrorsRaised\" /* Events.PLAYER_ERRORS_RAISED */, this.errorsRaised, this);\n        mediaModel.addEventListener(\"PlayersCreated\" /* Events.PLAYERS_CREATED */, this.playersCreated, this);\n    }\n    removeEventListeners(mediaModel) {\n        mediaModel.removeEventListener(\"PlayerPropertiesChanged\" /* Events.PLAYER_PROPERTIES_CHANGED */, this.propertiesChanged, this);\n        mediaModel.removeEventListener(\"PlayerEventsAdded\" /* Events.PLAYER_EVENTS_ADDED */, this.eventsAdded, this);\n        mediaModel.removeEventListener(\"PlayerMessagesLogged\" /* Events.PLAYER_MESSAGES_LOGGED */, this.messagesLogged, this);\n        mediaModel.removeEventListener(\"PlayerErrorsRaised\" /* Events.PLAYER_ERRORS_RAISED */, this.errorsRaised, this);\n        mediaModel.removeEventListener(\"PlayersCreated\" /* Events.PLAYERS_CREATED */, this.playersCreated, this);\n    }\n    onPlayerCreated(playerID) {\n        this.sidebar.addMediaElementItem(playerID);\n        this.detailPanels.set(playerID, new PlayerDetailView());\n        this.downloadStore.addPlayer(playerID);\n    }\n    propertiesChanged(event) {\n        for (const property of event.data.properties) {\n            this.onProperty(event.data.playerId, property);\n        }\n    }\n    eventsAdded(event) {\n        for (const ev of event.data.events) {\n            // TODO(crbug.com/1228674): The conversion from Protocol.Media.PlayerEvent to PlayerEvent happens implicitly\n            // by augmenting the protocol type with some additional property in various places. This needs to be cleaned up\n            // in a conversion function that takes the protocol type and produces the PlayerEvent type.\n            this.onEvent(event.data.playerId, ev);\n        }\n    }\n    messagesLogged(event) {\n        for (const message of event.data.messages) {\n            this.onMessage(event.data.playerId, message);\n        }\n    }\n    errorsRaised(event) {\n        for (const error of event.data.errors) {\n            this.onError(event.data.playerId, error);\n        }\n    }\n    shouldPropagate(playerID) {\n        return !this.deletedPlayers.has(playerID) && this.detailPanels.has(playerID);\n    }\n    onProperty(playerID, property) {\n        if (!this.shouldPropagate(playerID)) {\n            return;\n        }\n        this.sidebar.onProperty(playerID, property);\n        this.downloadStore.onProperty(playerID, property);\n        this.detailPanels.get(playerID)?.onProperty(property);\n    }\n    onError(playerID, error) {\n        if (!this.shouldPropagate(playerID)) {\n            return;\n        }\n        this.sidebar.onError(playerID, error);\n        this.downloadStore.onError(playerID, error);\n        this.detailPanels.get(playerID)?.onError(error);\n    }\n    onMessage(playerID, message) {\n        if (!this.shouldPropagate(playerID)) {\n            return;\n        }\n        this.sidebar.onMessage(playerID, message);\n        this.downloadStore.onMessage(playerID, message);\n        this.detailPanels.get(playerID)?.onMessage(message);\n    }\n    onEvent(playerID, event) {\n        if (!this.shouldPropagate(playerID)) {\n            return;\n        }\n        this.sidebar.onEvent(playerID, event);\n        this.downloadStore.onEvent(playerID, event);\n        this.detailPanels.get(playerID)?.onEvent(event);\n    }\n    playersCreated(event) {\n        for (const playerID of event.data) {\n            this.onPlayerCreated(playerID);\n        }\n    }\n    markPlayerForDeletion(playerID) {\n        // TODO(tmathmeyer): send this to chromium to save the storage space there too.\n        this.deletedPlayers.add(playerID);\n        this.detailPanels.delete(playerID);\n        this.sidebar.deletePlayer(playerID);\n        this.downloadStore.deletePlayer(playerID);\n    }\n    markOtherPlayersForDeletion(playerID) {\n        for (const keyID of this.detailPanels.keys()) {\n            if (keyID !== playerID) {\n                this.markPlayerForDeletion(keyID);\n            }\n        }\n    }\n    exportPlayerData(playerID) {\n        const dump = this.downloadStore.exportPlayerData(playerID);\n        const uriContent = 'data:application/octet-stream,' + encodeURIComponent(JSON.stringify(dump, null, 2));\n        const anchor = document.createElement('a');\n        anchor.href = uriContent;\n        anchor.download = playerID + '.json';\n        anchor.click();\n    }\n}\n//# sourceMappingURL=MainView.js.map"],"names":["styles","UIStrings","str_","i18n.i18n.registerUIStrings","i18nString","i18n.i18n.getLocalizedString","EventNode","DataGrid.DataGrid.DataGridNode","event","columnId","cell","cellData","enclosed","SourceFrame.JSONView.JSONView","SourceFrame.JSONView.ParsedJSON","UI.UIUtils.createTextChild","PlayerEventsView","UI.Widget.VBox","VisualLogging.pane","headers","gridColumnDescs","headerDesc","datagrid","DataGrid.DataGrid.DataGridImpl","stringified","json","node","scroll","isAtBottom","columnConfig","DataGrid.DataGrid.Order","eventDisplayTableStyles","MediaModel","SDK.SDKModel.SDKModel","target","players","formatMillisecondsToSeconds","ms","decimalPlaces","roundPower","denominatorPower","Bounds","initialLow","initialHigh","maxRange","minRange","needsAdjustment","delta","amount","position","range","growSize","lowEnd","highEnd","shrinkSize","isAtHighEnd","isZoomedOut","time","defaultFont","Host.Platform.fontFamily","getGroupDefaultTextColor","ThemeSupport.ThemeSupport","DefaultStyle","HotColorScheme","ColdColorScheme","calculateFontColor","backgroundColor","parsedColor","Common.Color.parse","Event","timelineData","eventHandlers","eventProperties","duration","htmlElement","startTimeReadable","durationReadable","level","color","TickingFlameChart","TickingFlameChartDataProvider","TickingFlameChartDelegate","Common.Settings.Settings","PerfUI.FlameChart.FlameChart","properties","name","depth","scrollTickCount","scrollPositionRatio","allowed","permanently","currentTimestamp","_windowStartTime","_windowEndTime","_animate","_startTime","_endTime","_flameChart","_group","initialBounds","updateMaxTime","PerfUI.FlameChart.FlameChartTimelineData","newGroup","ThemeSupport.ThemeChangeEvent","index","bounds","eventID","_index","_context","_text","_barX","_barY","_barWidth","_barHeight","_unclippedBarX","_timeToPixelRatio","element","value","_precision","_entryIndex","NO_NORMALIZED_TIMESTAMP","PlayerEventsTimeline","normalizedTime","state","audioState","videoState","inMilliseconds","MessageLevelSelector","items","view","dropdown","key","item","elementForItem","potentialMatch","container","UI.UIUtils.createShadowRootWithCoreStyles","playerMessagesViewStyles","checkBox","text","_item","_from","_to","_fromElement","_toElement","PlayerMessagesView","toolbar","UI.Toolbar.Toolbar","UI.ListModel.ListModel","dropDown","UI.SoftDropDown.SoftDropDown","dropDownItem","UI.Toolbar.ToolbarItem","UI.ARIAUtils.setLabel","filterInput","UI.Toolbar.ToolbarFilter","data","hiddenLevels","messages","message","userStringData","userString","error","entry","UI.Fragment.Fragment","label","dataContent","datumContent","stackContent","stackEntry","frameBox","i18nLazyString","i18n.i18n.getLazilyComputedLocalizedString","PropertyRenderer","title","titleElement","propname","propvalue","spanElement","FormattedPropertyRenderer","formatfunction","DefaultPropertyRenderer","defaultText","NestedPropertyRenderer","content","DimensionPropertyRenderer","needsUpdate","AttributesView","elements","Platform.StringUtilities.hashCode","TrackManager","propertiesView","type","_name","tabs","newTabs","enumerate","tabData","tabNumber","tabElements","i18n.i18n.lockedString","newTab","VideoTrackManager","TextTrackManager","AudioTrackManager","TrackTypeLocalized","GenericTrackMenu","UI.TabbedPane.TabbedPane","decoderName","trackName","trackNumber","localizedTrackLower","tabId","tabElement","DecoderTrackMenu","informationalElement","decoderLocalized","propertiesLocalized","hoverText","NoTracksPlaceholderMenu","wrapping","placeholderText","PlayerPropertiesView","textTracksTabs","textTracks","property","renderer","bitsPerSecond","seconds","date","bytes","actualBytes","power","suffix","resolution","fileSize","bitrate","startTime","streaming","frameUrl","frameTitle","singleOrigin","rangeHeaders","frameRate","roughness","freezingScore","rendererName","videoPlatformDecoder","encoderName","videoPlatformEncoder","videoDDS","videoTrackManager","audioDecoder","audioPlatformDecoder","audioDDS","audioTrackManager","textTrackManager","playerPropertiesViewStyles","PlayerDetailView","PlayerListView","mainContainer","playerID","VisualLogging.item","IconButton.Icon.create","contextMenu","UI.ContextMenu.ContextMenu","isHostname","fragment","playerTitle","iconName","icon","func","candidate","min","max","sidebarEntry","parsed","eventType","url","videoName","_playerID","_error","_message","playerListViewStyles","PlayerDataCollection","PlayerDataDownloadManager","playerProperty","MainView","UI.Panel.PanelWithSidebar","downloadStore","SDK.TargetManager.TargetManager","mainWidget","model","mediaModel","ev","keyID","dump","uriContent","anchor"],"mappings":"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"}