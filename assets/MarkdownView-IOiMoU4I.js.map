{"version":3,"file":"MarkdownView-IOiMoU4I.js","sources":["../../ui/components/markdown_view/codeBlock.css.js","../../ui/components/markdown_view/CodeBlock.js","../../ui/components/markdown_view/markdownImage.css.js","../../ui/components/markdown_view/MarkdownImagesMap.js","../../ui/components/markdown_view/MarkdownImage.js","../../ui/components/markdown_view/markdownLink.css.js","../../ui/components/markdown_view/MarkdownLinksMap.js","../../ui/components/markdown_view/MarkdownLink.js","../../ui/components/markdown_view/markdownView.css.js","../../ui/components/markdown_view/MarkdownView.js"],"sourcesContent":["// Copyright 2024 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n// IMPORTANT: this file is auto generated. Please do not edit this file.\n/* istanbul ignore file */\nconst styles = new CSSStyleSheet();\nstyles.replaceSync(\n`/*\n * Copyright 2023 The Chromium Authors. All rights reserved.\n * Use of this source code is governed by a BSD-style license that can be\n * found in the LICENSE file.\n */\n\n* {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n}\n\n:host {\n  display: block;\n  /**\n    Adjusts the max height of the code area.\n    This can be changed from outside by targeting \\\\'devtools-code-block\\\\' element.\n  */\n  --code-block-max-code-height: none;\n  /**\n    Adjusts the background color of the code block element.\n    This can be changed from outside by targeting \\\\'devtools-code-block\\\\' element.\n  */\n  --code-block-background-color: var(--sys-color-surface2);\n}\n\n.codeblock {\n  box-sizing: border-box;\n  color: var(--sys-color-on-surface);\n}\n\n.codeblock .editor-wrapper {\n  color: var(--sys-color-on-surface);\n  background: var(--code-block-background-color); /* stylelint-disable-line plugin/use_theme_colors */\n  padding: 10px 5px 0;\n  border-bottom-left-radius: var(--sys-shape-corner-extra-small);\n  border-bottom-right-radius: var(--sys-shape-corner-extra-small);\n}\n\n.codeblock .editor-wrapper:has(.heading) {\n  padding: var(--sys-size-3) var(--sys-size-4) 0 5px;\n}\n\n.codeblock:not(:has(.toolbar)) .editor-wrapper {\n  border-radius: var(--sys-shape-corner-extra-small);\n}\n\n.codeblock .editor-wrapper .code {\n  max-height: var(--code-block-max-code-height);\n  overflow: auto;\n  padding-bottom: 10px;\n}\n\n.heading {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  height: var(--sys-size-11);\n}\n\n.heading-text {\n  font: var(--sys-typescale-body5-bold);\n  padding-left: var(--sys-size-4);\n  padding-right: var(--sys-size-2);\n}\n\n.codeblock .lang {\n  padding: var(--sys-size-4) 0;\n  flex: 1;\n}\n\n.codeblock .copy-button-container {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: var(--sys-typescale-body5-size);\n\n  span {\n    padding-right: var(--sys-size-4);\n  }\n}\n\n.notice {\n  margin-top: var(--sys-size-2);\n  padding: var(--sys-size-4) var(--sys-size-5);\n  background-color: var(--code-block-background-color); /* stylelint-disable-line plugin/use_theme_colors */\n  border-radius: var(--sys-shape-corner-extra-small);\n\n  .link {\n    font: var(--sys-typescale-body4-regular);\n    color: var(--sys-color-primary);\n    text-decoration-line: underline;\n  }\n}\n\n/*# sourceURL=codeBlock.css */\n`);\n\nexport default styles;\n","// Copyright (c) 2023 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\nimport '../../../ui/legacy/legacy.js'; // for x-link\nimport * as Host from '../../../core/host/host.js';\nimport * as i18n from '../../../core/i18n/i18n.js';\nimport * as CodeMirror from '../../../third_party/codemirror.next/codemirror.next.js';\nimport * as Buttons from '../../../ui/components/buttons/buttons.js';\nimport * as TextEditor from '../../../ui/components/text_editor/text_editor.js';\nimport * as LitHtml from '../../lit-html/lit-html.js';\nimport * as VisualLogging from '../../visual_logging/visual_logging.js';\nimport styles from './codeBlock.css.js';\nconst { html } = LitHtml;\nconst UIStrings = {\n    /**\n     * @description The header text if not present and language is not set.\n     */\n    code: 'Code',\n    /**\n     * @description The title of the button to copy the codeblock from a Markdown view.\n     */\n    copy: 'Copy code',\n    /**\n     * @description The title of the button after it was pressed and the text was copied to clipboard.\n     */\n    copied: 'Copied to clipboard',\n    /**\n     * @description Disclaimer shown in the code blocks.\n     */\n    disclaimer: 'Use code snippets with caution',\n};\nconst str_ = i18n.i18n.registerUIStrings('ui/components/markdown_view/CodeBlock.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\nexport class CodeBlock extends HTMLElement {\n    #shadow = this.attachShadow({ mode: 'open' });\n    #code = '';\n    #codeLang = '';\n    #copyTimeout = 1000;\n    #timer;\n    #copied = false;\n    #editorState;\n    #languageConf = new CodeMirror.Compartment();\n    /**\n     * Whether to display a notice \"​​Use code snippets with caution\" in code\n     * blocks.\n     */\n    #displayNotice = false;\n    #header;\n    #showCopyButton = true;\n    connectedCallback() {\n        this.#shadow.adoptedStyleSheets = [styles];\n        this.#render();\n    }\n    set code(value) {\n        this.#code = value;\n        this.#editorState = CodeMirror.EditorState.create({\n            doc: this.#code,\n            extensions: [\n                TextEditor.Config.baseConfiguration(this.#code),\n                CodeMirror.EditorState.readOnly.of(true),\n                CodeMirror.EditorView.lineWrapping,\n                this.#languageConf.of(CodeMirror.javascript.javascript()),\n            ],\n        });\n        this.#render();\n    }\n    get code() {\n        return this.#code;\n    }\n    set codeLang(value) {\n        this.#codeLang = value;\n        this.#render();\n    }\n    set timeout(value) {\n        this.#copyTimeout = value;\n        this.#render();\n    }\n    set displayNotice(value) {\n        this.#displayNotice = value;\n        this.#render();\n    }\n    set header(header) {\n        this.#header = header;\n        this.#render();\n    }\n    set showCopyButton(show) {\n        this.#showCopyButton = show;\n        this.#render();\n    }\n    #onCopy() {\n        Host.InspectorFrontendHost.InspectorFrontendHostInstance.copyText(this.#code);\n        this.#copied = true;\n        this.#render();\n        clearTimeout(this.#timer);\n        this.#timer = setTimeout(() => {\n            this.#copied = false;\n            this.#render();\n        }, this.#copyTimeout);\n    }\n    #renderNotice() {\n        // clang-format off\n        return html `<p class=\"notice\">\n      <x-link class=\"link\" href=\"https://support.google.com/legal/answer/13505487\" jslog=${VisualLogging.link('code-disclaimer').track({\n            click: true,\n        })}>\n        ${i18nString(UIStrings.disclaimer)}\n      </x-link>\n    </p>`;\n        // clang-format on\n    }\n    #renderCopyButton() {\n        // clang-format off\n        return html `\n      <div class=\"copy-button-container\">\n        <devtools-button\n          .data=${{\n            variant: \"icon\" /* Buttons.Button.Variant.ICON */,\n            size: \"SMALL\" /* Buttons.Button.Size.SMALL */,\n            jslogContext: 'copy',\n            iconName: 'copy',\n            title: i18nString(UIStrings.copy),\n        }}\n          @click=${this.#onCopy}\n        ></devtools-button>\n        ${this.#copied ? html `<span>${i18nString(UIStrings.copied)}</span>` : LitHtml.nothing}\n      </div>`;\n        // clang-format on\n    }\n    #renderTextEditor() {\n        if (!this.#editorState) {\n            throw new Error('Unexpected: trying to render the text editor without editorState');\n        }\n        // clang-format off\n        return html `\n      <div class=\"code\">\n        <devtools-text-editor .state=${this.#editorState}></devtools-text-editor>\n      </div>\n    `;\n        // clang-format on\n    }\n    #render() {\n        const header = (this.#header ?? this.#codeLang) || i18nString(UIStrings.code);\n        // clang-format off\n        LitHtml.render(html `<div class='codeblock' jslog=${VisualLogging.section('code')}>\n      <div class=\"editor-wrapper\">\n        <div class=\"heading\">\n          <h4 class=\"heading-text\">${header}</h4>\n          ${this.#showCopyButton ? this.#renderCopyButton() : LitHtml.nothing}\n        </div>\n        ${this.#renderTextEditor()}\n      </div>\n      ${this.#displayNotice ? this.#renderNotice() : LitHtml.nothing}\n    </div>`, this.#shadow, {\n            host: this,\n        });\n        // clang-format on\n        const editor = this.#shadow?.querySelector('devtools-text-editor')?.editor;\n        if (!editor) {\n            return;\n        }\n        let language = CodeMirror.html.html({ autoCloseTags: false, selfClosingTags: true });\n        switch (this.#codeLang) {\n            case 'js':\n                language = CodeMirror.javascript.javascript();\n                break;\n            case 'ts':\n                language = CodeMirror.javascript.javascript({ typescript: true });\n                break;\n            case 'jsx':\n                language = CodeMirror.javascript.javascript({ jsx: true });\n                break;\n            case 'css':\n                language = CodeMirror.css.css();\n                break;\n        }\n        editor.dispatch({\n            effects: this.#languageConf.reconfigure(language),\n        });\n    }\n}\ncustomElements.define('devtools-code-block', CodeBlock);\n//# sourceMappingURL=CodeBlock.js.map","// Copyright 2024 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n// IMPORTANT: this file is auto generated. Please do not edit this file.\n/* istanbul ignore file */\nconst styles = new CSSStyleSheet();\nstyles.replaceSync(\n`/*\n * Copyright 2021 The Chromium Authors. All rights reserved.\n * Use of this source code is governed by a BSD-style license that can be\n * found in the LICENSE file.\n */\n\n.markdown-image {\n  display: block;\n}\n\n/*# sourceURL=markdownImage.css */\n`);\n\nexport default styles;\n","// Copyright (c) 2020 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n/*\n * src for image is relative url for image location.\n * @example icon\n * [\n *   'feedbackIcon',\n *   {\n *     src: 'Images/review.svg',\n *     isIcon: true,\n *     width: '20px',\n *     height: '20px',\n *     color: 'var(--icon-disabled)',\n *   },\n * ]\n *\n*/\n// NOTE: This is only exported for tests, and it should not be\n// imported in any component, instead add image data in map and\n// use getMarkdownImage to get the appropriate image data.\nexport const markdownImages = new Map([]);\nexport const getMarkdownImage = (key) => {\n    const image = markdownImages.get(key);\n    if (!image) {\n        throw new Error(`Markdown image with key '${key}' is not available, please check MarkdownImagesMap.ts`);\n    }\n    return image;\n};\n//# sourceMappingURL=MarkdownImagesMap.js.map","// Copyright (c) 2020 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\nimport '../../components/icon_button/icon_button.js';\nimport * as LitHtml from '../../lit-html/lit-html.js';\nimport markdownImageStyles from './markdownImage.css.js';\nimport { getMarkdownImage } from './MarkdownImagesMap.js';\nconst { html, Directives: { ifDefined } } = LitHtml;\n/**\n * Component to render images from parsed markdown.\n * Parsed images from markdown are not directly rendered, instead they have to be added to the MarkdownImagesMap.ts.\n * This makes sure that all icons/images are accounted for in markdown.\n */\nexport class MarkdownImage extends HTMLElement {\n    #shadow = this.attachShadow({ mode: 'open' });\n    #imageData;\n    #imageTitle;\n    connectedCallback() {\n        this.#shadow.adoptedStyleSheets = [markdownImageStyles];\n    }\n    set data(data) {\n        const { key, title } = data;\n        const markdownImage = getMarkdownImage(key);\n        this.#imageData = markdownImage;\n        this.#imageTitle = title;\n        this.#render();\n    }\n    #getIconComponent() {\n        if (!this.#imageData) {\n            return html ``;\n        }\n        const { src, color, width = '100%', height = '100%' } = this.#imageData;\n        return html `\n      <devtools-icon .data=${{ iconPath: src, color, width, height }}></devtools-icon>\n    `;\n    }\n    #getImageComponent() {\n        if (!this.#imageData) {\n            return html ``;\n        }\n        const { src, width = '100%', height = '100%' } = this.#imageData;\n        return html `\n      <img class=\"markdown-image\" src=${src} alt=${ifDefined(this.#imageTitle)} width=${width} height=${height} />\n    `;\n    }\n    #render() {\n        if (!this.#imageData) {\n            return;\n        }\n        const { isIcon } = this.#imageData;\n        const imageComponent = isIcon ? this.#getIconComponent() : this.#getImageComponent();\n        LitHtml.render(imageComponent, this.#shadow, { host: this });\n    }\n}\ncustomElements.define('devtools-markdown-image', MarkdownImage);\n//# sourceMappingURL=MarkdownImage.js.map","// Copyright 2024 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n// IMPORTANT: this file is auto generated. Please do not edit this file.\n/* istanbul ignore file */\nconst styles = new CSSStyleSheet();\nstyles.replaceSync(\n`/*\n * Copyright 2021 The Chromium Authors. All rights reserved.\n * Use of this source code is governed by a BSD-style license that can be\n * found in the LICENSE file.\n */\n\n.devtools-link {\n  color: var(--sys-color-primary);\n  outline-offset: 2px;\n  text-decoration: var(--markdown-link-text-decoration-style, none);\n}\n\n.devtools-link:hover {\n  text-decoration: underline;\n}\n\n/*# sourceURL=markdownLink.css */\n`);\n\nexport default styles;\n","// Copyright (c) 2020 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n/*\n  To use links in markdown, add key here with the link and\n  use the added key in markdown.\n  @example markdown\n  Find more information about web development at [Learn more](exampleLink)\n*/\n// This is only exported for tests, and it should not be\n// imported in any component, instead add link in map and\n// use getMarkdownLink to get the appropriate link.\nexport const markdownLinks = new Map([\n    ['issuesContrastWCAG21AA', 'https://www.w3.org/TR/WCAG21/#contrast-minimum'],\n    ['issuesContrastWCAG21AAA', 'https://www.w3.org/TR/WCAG21/#contrast-enhanced'],\n    ['issuesContrastSuggestColor', 'https://developers.google.com/web/updates/2020/08/devtools#accessible-color'],\n    ['issuesCSPSetStrict', 'https://web.dev/strict-csp'],\n    [\n        'issuesCSPWhyStrictOverAllowlist',\n        'https://web.dev/strict-csp/#why-a-strict-csp-is-recommended-over-allowlist-csps',\n    ],\n    [\n        'issueCorsPreflightRequest',\n        'https://web.dev/cross-origin-resource-sharing/#preflight-requests-for-complex-http-calls',\n    ],\n    ['issueQuirksModeDoctype', 'https://web.dev/doctype/'],\n    ['sameSiteAndSameOrigin', 'https://web.dev/same-site-same-origin/'],\n    ['punycodeReference', 'https://wikipedia.org/wiki/Punycode'],\n    // Link URLs for deprecation issues (see blink::Deprecation)\n    ['https://xhr.spec.whatwg.org/', 'https://xhr.spec.whatwg.org/'],\n    ['https://goo.gle/chrome-insecure-origins', 'https://goo.gle/chrome-insecure-origins'],\n    ['https://webrtc.org/web-apis/chrome/unified-plan/', 'https://webrtc.org/web-apis/chrome/unified-plan/'],\n    [\n        'https://developer.chrome.com/blog/enabling-shared-array-buffer/',\n        'https://developer.chrome.com/blog/enabling-shared-array-buffer/',\n    ],\n    ['https://developer.chrome.com/docs/extensions/mv3/', 'https://developer.chrome.com/docs/extensions/mv3/'],\n    [\n        'https://developer.chrome.com/blog/immutable-document-domain/',\n        'https://developer.chrome.com/blog/immutable-document-domain/',\n    ],\n    [\n        'https://github.com/WICG/shared-element-transitions/blob/main/debugging_overflow_on_images.md',\n        'https://github.com/WICG/shared-element-transitions/blob/main/debugging_overflow_on_images.md',\n    ],\n    [\n        'https://developer.chrome.com/docs/extensions/reference/privacy/#property-websites-privacySandboxEnabled',\n        'https://developer.chrome.com/docs/extensions/reference/privacy/#property-websites-privacySandboxEnabled',\n    ],\n    ['PNASecureContextRestrictionFeatureStatus', 'https://chromestatus.com/feature/5954091755241472'],\n    ['https://w3c.github.io/uievents/#legacy-event-types', 'https://w3c.github.io/uievents/#legacy-event-types'],\n    ['manageCookiesHelpPage', 'https://support.google.com/chrome/answer/95647'],\n    ['gracePeriodStagedControlExplainer', 'https://developers.google.com/privacy-sandbox/blog/grace-period-opt-out'],\n]);\nexport const getMarkdownLink = (key) => {\n    if (/^https:\\/\\/www\\.chromestatus\\.com\\//.test(key)) {\n        return key;\n    }\n    if (/^https:\\/\\/developer\\.chrome\\.com\\//.test(key)) {\n        return key;\n    }\n    if (/^https:\\/\\/developers\\.google\\.com\\//.test(key)) {\n        return key;\n    }\n    if (/^https:\\/\\/web\\.dev\\//.test(key)) {\n        return key;\n    }\n    const link = markdownLinks.get(key);\n    if (!link) {\n        throw new Error(`Markdown link with key '${key}' is not available, please check MarkdownLinksMap.ts`);\n    }\n    return link;\n};\n//# sourceMappingURL=MarkdownLinksMap.js.map","// Copyright (c) 2020 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\nimport '../../legacy/legacy.js'; // Required for <x-link>.\nimport * as LitHtml from '../../lit-html/lit-html.js';\nimport * as VisualLogging from '../../visual_logging/visual_logging.js';\nimport markdownLinkStyles from './markdownLink.css.js';\nimport { getMarkdownLink } from './MarkdownLinksMap.js';\nconst { html } = LitHtml;\n/**\n * Component to render link from parsed markdown.\n * Parsed links from markdown are not directly rendered, instead they have to be added to the <key, link> map in MarkdownLinksMap.ts.\n * This makes sure that all links are accounted for and no bad links are introduced to devtools via markdown.\n */\nexport class MarkdownLink extends HTMLElement {\n    #shadow = this.attachShadow({ mode: 'open' });\n    #linkText = '';\n    #linkUrl = '';\n    connectedCallback() {\n        this.#shadow.adoptedStyleSheets = [markdownLinkStyles];\n    }\n    set data(data) {\n        const { key, title } = data;\n        const markdownLink = getMarkdownLink(key);\n        this.#linkText = title;\n        this.#linkUrl = markdownLink;\n        this.#render();\n    }\n    #render() {\n        // clang-format off\n        const output = html `<x-link class=\"devtools-link\" href=${this.#linkUrl} jslog=${VisualLogging.link().track({ click: true })}\n    >${this.#linkText}</x-link>`;\n        LitHtml.render(output, this.#shadow, { host: this });\n        // clang-format on\n    }\n}\ncustomElements.define('devtools-markdown-link', MarkdownLink);\n//# sourceMappingURL=MarkdownLink.js.map","// Copyright 2024 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n// IMPORTANT: this file is auto generated. Please do not edit this file.\n/* istanbul ignore file */\nconst styles = new CSSStyleSheet();\nstyles.replaceSync(\n`/*\n * Copyright 2021 The Chromium Authors. All rights reserved.\n * Use of this source code is governed by a BSD-style license that can be\n * found in the LICENSE file.\n */\n\n:host {\n  --code-background-color: var(--sys-color-surface4);\n}\n\n.message {\n  line-height: 18px;\n  font-size: 12px;\n  color: var(--override-markdown-view-message-color, --sys-color-token-subtle);\n  user-select: text;\n}\n\n.message p {\n  margin: 0;\n}\n\n.message p:not(:first-child) {\n  margin-block-start: 2px;\n}\n\n.message p:not(:last-child) {\n  margin-bottom: 10px;\n}\n\n.message ul {\n  list-style-type: none;\n  padding-inline-start: var(--sys-size-8);\n}\n\n.message ul ul {\n  padding-inline-start: 19px;\n}\n\n.message li {\n  margin-top: 8px;\n  display: list-item;\n  list-style-type: disc;\n}\n\n.message code {\n  color: var(--sys-color-on-surface);\n  font-size: 11px;\n  user-select: text;\n  cursor: text;\n  /* This is still using design tokens because \\\\'--code-background-color\\\\' is defined with them by default */\n  /* stylelint-disable-next-line plugin/use_theme_colors */\n  background-color: var(--code-background-color);\n  border-radius: 2px;\n  padding: 1px 3px;\n}\n\ndevtools-code-block {\n  margin-bottom: var(--sys-size-5);\n}\n\n.devtools-link {\n  color: var(--sys-color-primary);\n  outline-offset: 2px;\n  text-decoration: none;\n}\n\n.devtools-link:hover {\n  text-decoration: underline;\n}\n\n/*# sourceURL=markdownView.css */\n`);\n\nexport default styles;\n","// Copyright 2020 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\nimport './CodeBlock.js';\nimport './MarkdownImage.js';\nimport './MarkdownLink.js';\nimport * as UI from '../../legacy/legacy.js';\nimport * as LitHtml from '../../lit-html/lit-html.js';\nimport markdownViewStyles from './markdownView.css.js';\nconst html = LitHtml.html;\nconst render = LitHtml.render;\nexport class MarkdownView extends HTMLElement {\n    #shadow = this.attachShadow({ mode: 'open' });\n    #tokenData = [];\n    #renderer = new MarkdownLitRenderer();\n    connectedCallback() {\n        this.#shadow.adoptedStyleSheets = [markdownViewStyles];\n    }\n    set data(data) {\n        this.#tokenData = data.tokens;\n        if (data.renderer) {\n            this.#renderer = data.renderer;\n        }\n        this.#update();\n    }\n    #update() {\n        this.#render();\n    }\n    #render() {\n        // Disabled until https://crbug.com/1079231 is fixed.\n        // clang-format off\n        render(html `\n      <div class='message'>\n        ${this.#tokenData.map(token => this.#renderer.renderToken(token))}\n      </div>\n    `, this.#shadow, { host: this });\n        // clang-format on\n    }\n}\ncustomElements.define('devtools-markdown-view', MarkdownView);\n/**\n * Default renderer is used for the IssuesPanel and allows only well-known images and links to be embedded.\n */\nexport class MarkdownLitRenderer {\n    renderChildTokens(token) {\n        if ('tokens' in token && token.tokens) {\n            return token.tokens.map(token => this.renderToken(token));\n        }\n        throw new Error('Tokens not found');\n    }\n    /**\n     * Unescape will get rid of the escaping done by Marked to avoid double escaping due to escaping it also with Lit-html.\n     * Table taken from: front_end/third_party/marked/package/src/helpers.js\n     */\n    unescape(text) {\n        const escapeReplacements = new Map([\n            ['&amp;', '&'],\n            ['&lt;', '<'],\n            ['&gt;', '>'],\n            ['&quot;', '\"'],\n            ['&#39;', '\\''],\n        ]);\n        return text.replace(/&(amp|lt|gt|quot|#39);/g, (matchedString) => {\n            const replacement = escapeReplacements.get(matchedString);\n            return replacement ? replacement : matchedString;\n        });\n    }\n    renderText(token) {\n        if ('tokens' in token && token.tokens) {\n            return html `${this.renderChildTokens(token)}`;\n        }\n        // Due to unescaping, unescaped html entities (see escapeReplacements' keys) will be rendered\n        // as their corresponding symbol while the rest will be rendered as verbatim.\n        // Marked's escape function can be found in front_end/third_party/marked/package/src/helpers.js\n        return html `${this.unescape('text' in token ? token.text : '')}`;\n    }\n    renderHeading(heading) {\n        switch (heading.depth) {\n            case 1:\n                return html `<h1>${this.renderText(heading)}</h1>`;\n            case 2:\n                return html `<h2>${this.renderText(heading)}</h2>`;\n            case 3:\n                return html `<h3>${this.renderText(heading)}</h3>`;\n            case 4:\n                return html `<h4>${this.renderText(heading)}</h4>`;\n            case 5:\n                return html `<h5>${this.renderText(heading)}</h5>`;\n            default:\n                return html `<h6>${this.renderText(heading)}</h6>`;\n        }\n    }\n    renderCodeBlock(token) {\n        // clang-format off\n        return html `<devtools-code-block\n      .code=${this.unescape(token.text)}\n      .codeLang=${token.lang || ''}>\n    </devtools-code-block>`;\n        // clang-format on\n    }\n    templateForToken(token) {\n        switch (token.type) {\n            case 'paragraph':\n                return html `<p>${this.renderChildTokens(token)}</p>`;\n            case 'list':\n                return html `<ul>${token.items.map(token => {\n                    return this.renderToken(token);\n                })}</ul>`;\n            case 'list_item':\n                return html `<li>${this.renderChildTokens(token)}</li>`;\n            case 'text':\n                return this.renderText(token);\n            case 'codespan':\n                return html `<code>${this.unescape(token.text)}</code>`;\n            case 'code':\n                return this.renderCodeBlock(token);\n            case 'space':\n                return html ``;\n            case 'link':\n                return html `<devtools-markdown-link .data=${{ key: token.href, title: token.text }}></devtools-markdown-link>`;\n            case 'image':\n                return html `<devtools-markdown-image .data=${{ key: token.href, title: token.text }}></devtools-markdown-image>`;\n            case 'heading':\n                return this.renderHeading(token);\n            case 'strong':\n                return html `<strong>${this.renderText(token)}</strong>`;\n            case 'em':\n                return html `<em>${this.renderText(token)}</em>`;\n            default:\n                return null;\n        }\n    }\n    renderToken(token) {\n        const template = this.templateForToken(token);\n        if (template === null) {\n            throw new Error(`Markdown token type '${token.type}' not supported.`);\n        }\n        return template;\n    }\n}\n/**\n * Renderer used in Console Insights and AI assistance for the text generated by an LLM.\n */\nexport class MarkdownInsightRenderer extends MarkdownLitRenderer {\n    renderToken(token) {\n        const template = this.templateForToken(token);\n        if (template === null) {\n            return html `${token.raw}`;\n        }\n        return template;\n    }\n    sanitizeUrl(maybeUrl) {\n        try {\n            const url = new URL(maybeUrl);\n            if (url.protocol === 'https:' || url.protocol === 'http:') {\n                return url.toString();\n            }\n            return null;\n        }\n        catch {\n            return null;\n        }\n    }\n    detectCodeLanguage(token) {\n        if (token.lang) {\n            return token.lang;\n        }\n        if (/^(\\.|#)?[\\w:\\[\\]=\"'-\\.]* ?{/m.test(token.text) || /^@import/.test(token.text)) {\n            return 'css';\n        }\n        if (/^(var|const|let|function|async|import)\\s/.test(token.text)) {\n            return 'js';\n        }\n        return '';\n    }\n    templateForToken(token) {\n        switch (token.type) {\n            case 'heading':\n                return html `<strong>${this.renderText(token)}</strong>`;\n            case 'link':\n            case 'image': {\n                const sanitizedUrl = this.sanitizeUrl(token.href);\n                if (!sanitizedUrl) {\n                    return null;\n                }\n                return html `${UI.XLink.XLink.create(sanitizedUrl, token.text, undefined, undefined, 'link-in-explanation')}`;\n            }\n            case 'code':\n                return html `<devtools-code-block\n          .code=${this.unescape(token.text)}\n          .codeLang=${this.detectCodeLanguage(token)}\n          .displayNotice=${true}>\n        </devtools-code-block>`;\n        }\n        return super.templateForToken(token);\n    }\n}\n//# sourceMappingURL=MarkdownView.js.map"],"names":["styles","html","LitHtml","UIStrings","str_","i18n.i18n.registerUIStrings","i18nString","i18n.i18n.getLocalizedString","CodeBlock","#shadow","#code","#codeLang","#copyTimeout","#timer","#copied","#editorState","#languageConf","CodeMirror.Compartment","#displayNotice","#header","#showCopyButton","#render","value","CodeMirror.EditorState","TextEditor.Config.baseConfiguration","CodeMirror.EditorView","CodeMirror.javascript","header","show","#onCopy","Host.InspectorFrontendHost.InspectorFrontendHostInstance","#renderNotice","VisualLogging.link","#renderCopyButton","LitHtml.nothing","#renderTextEditor","LitHtml.render","VisualLogging.section","editor","language","CodeMirror.html","CodeMirror.css","markdownImages","getMarkdownImage","key","image","ifDefined","MarkdownImage","#imageData","#imageTitle","markdownImageStyles","data","title","markdownImage","#getIconComponent","src","color","width","height","#getImageComponent","isIcon","imageComponent","markdownLinks","getMarkdownLink","link","MarkdownLink","#linkText","#linkUrl","markdownLinkStyles","markdownLink","output","LitHtml.html","render","MarkdownView","#tokenData","#renderer","MarkdownLitRenderer","markdownViewStyles","#update","token","text","escapeReplacements","matchedString","replacement","heading","template","MarkdownInsightRenderer","maybeUrl","url","sanitizedUrl","UI.XLink.XLink"],"mappings":"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"}