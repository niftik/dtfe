{"version":3,"file":"SelectMenu-BqCYT45A.js","sources":["../../ui/components/menus/menu.css.js","../../ui/components/menus/menuGroup.css.js","../../ui/components/menus/menuItem.css.js","../../ui/components/menus/Menu.js","../../ui/components/menus/selectMenu.css.js","../../ui/components/menus/selectMenuButton.css.js","../../ui/components/menus/SelectMenu.js"],"sourcesContent":["// Copyright 2024 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n// IMPORTANT: this file is auto generated. Please do not edit this file.\n/* istanbul ignore file */\nconst styles = new CSSStyleSheet();\nstyles.replaceSync(\n`/*\n * Copyright 2023 The Chromium Authors. All rights reserved.\n * Use of this source code is governed by a BSD-style license that can be\n * found in the LICENSE file.\n */\n\n:host {\n  border-radius: 3px;\n  width: fit-content;\n  display: flex;\n  align-items: center;\n  background-color: var(--override-menu-background-color, var(--sys-color-cdt-base-container));\n}\n\n:host([has-open-dialog]) {\n  background-color: var(--override-menu-active-background-color, var(--sys-color-neutral-container));\n}\n\n#container {\n  list-style-type: none;\n  margin: 0;\n  padding: 0;\n  width: fit-content;\n  display: block;\n}\n\n#container:focus {\n  outline: none;\n}\n\n@keyframes slideIn {\n  from {\n    transform: var(--translate-dialog);\n    opacity: 0%;\n  }\n\n  to {\n    transform: none;\n    opacity: 100%;\n  }\n}\n\n/*# sourceURL=menu.css */\n`);\n\nexport default styles;\n","// Copyright 2024 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n// IMPORTANT: this file is auto generated. Please do not edit this file.\n/* istanbul ignore file */\nconst styles = new CSSStyleSheet();\nstyles.replaceSync(\n`/*\n * Copyright 2023 The Chromium Authors. All rights reserved.\n * Use of this source code is governed by a BSD-style license that can be\n * found in the LICENSE file.\n */\n\n.menu-group-label {\n  margin: 4px 30px 4px 10px;\n  font-size: 12px;\n  line-height: 16px;\n  position: relative;\n  color: var(--sys-color-token-subtle);\n  display: block;\n}\n\n/*# sourceURL=menuGroup.css */\n`);\n\nexport default styles;\n","// Copyright 2024 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n// IMPORTANT: this file is auto generated. Please do not edit this file.\n/* istanbul ignore file */\nconst styles = new CSSStyleSheet();\nstyles.replaceSync(\n`/*\n * Copyright 2023 The Chromium Authors. All rights reserved.\n * Use of this source code is governed by a BSD-style license that can be\n * found in the LICENSE file.\n */\n\n.menu-item {\n  padding: 4px 30px 4px calc(10px + var(--menu-checkmark-width));\n  font-size: 12px;\n  line-height: 16px;\n  position: relative;\n  display: block;\n  color: var(--sys-color-on-surface);\n}\n\n.menu-item:focus {\n  outline: none;\n}\n\n:host(:not(:first-child)) .menu-item {\n  border-top: var(--override-divider-line);\n}\n\n:host-context(devtools-menu-group) .menu-item {\n  padding: 4px 30px 4px 36px;\n}\n\n.is-selected-item::before {\n  content: \"\";\n  position: absolute;\n  left: 10px;\n  top: 50%;\n  transform: translateY(-50%);\n  display: inline-block;\n  mask-repeat: no-repeat;\n  mask-position: center;\n  width: calc(var(--menu-checkmark-width) - 10px);\n  height: var(--menu-checkmark-height);\n  mask-image: var(--selected-item-check);\n  background: var(--sys-color-token-subtle);\n}\n\n:host(:hover:not(.prevents-close)) .menu-item,\n:host(:focus-visible:not(.prevents-close)) .menu-item {\n  background: var(--sys-color-state-hover-on-subtle);\n}\n\n:host(:focus) {\n  outline: none;\n}\n\n/*# sourceURL=menuItem.css */\n`);\n\nexport default styles;\n","// Copyright 2023 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\nimport * as Platform from '../../../core/platform/platform.js';\nimport * as ComponentHelpers from '../../../ui/components/helpers/helpers.js';\nimport * as Coordinator from '../../../ui/components/render_coordinator/render_coordinator.js';\nimport * as LitHtml from '../../../ui/lit-html/lit-html.js';\nimport * as VisualLogging from '../../../ui/visual_logging/visual_logging.js';\nimport * as Dialogs from '../dialogs/dialogs.js';\nimport menuStyles from './menu.css.js';\nimport menuGroupStyles from './menuGroup.css.js';\nimport menuItemStyles from './menuItem.css.js';\nconst { html } = LitHtml;\nconst coordinator = Coordinator.RenderCoordinator.RenderCoordinator.instance();\nconst selectedItemCheckmark = new URL('../../../Images/checkmark.svg', import.meta.url).toString();\nexport class Menu extends HTMLElement {\n    #shadow = this.attachShadow({ mode: 'open' });\n    #renderBound = this.#render.bind(this);\n    #dialog = null;\n    #itemIsFocused = false;\n    #props = {\n        origin: null,\n        open: false,\n        position: \"auto\" /* Dialogs.Dialog.DialogVerticalPosition.AUTO */,\n        showConnector: false,\n        showDivider: false,\n        showSelectedItem: true,\n        horizontalAlignment: \"auto\" /* Dialogs.Dialog.DialogHorizontalAlignment.AUTO */,\n        getConnectorCustomXPosition: null,\n    };\n    get origin() {\n        return this.#props.origin;\n    }\n    set origin(origin) {\n        this.#props.origin = origin;\n        void ComponentHelpers.ScheduledRender.scheduleRender(this, this.#renderBound);\n    }\n    get open() {\n        return this.#props.open;\n    }\n    set open(open) {\n        if (open === this.open) {\n            return;\n        }\n        this.#props.open = open;\n        this.toggleAttribute('has-open-dialog', this.open);\n        void this.#getDialog().setDialogVisible(this.open);\n        void ComponentHelpers.ScheduledRender.scheduleRender(this, this.#renderBound);\n    }\n    get position() {\n        return this.#props.position;\n    }\n    set position(position) {\n        this.#props.position = position;\n        void ComponentHelpers.ScheduledRender.scheduleRender(this, this.#renderBound);\n    }\n    get showConnector() {\n        return this.#props.showConnector;\n    }\n    set showConnector(showConnector) {\n        this.#props.showConnector = showConnector;\n        void ComponentHelpers.ScheduledRender.scheduleRender(this, this.#renderBound);\n    }\n    get showDivider() {\n        return this.#props.showDivider;\n    }\n    set showDivider(showDivider) {\n        this.#props.showDivider = showDivider;\n        void ComponentHelpers.ScheduledRender.scheduleRender(this, this.#renderBound);\n    }\n    get showSelectedItem() {\n        return this.#props.showSelectedItem;\n    }\n    set showSelectedItem(showSelectedItem) {\n        this.#props.showSelectedItem = showSelectedItem;\n        void ComponentHelpers.ScheduledRender.scheduleRender(this, this.#renderBound);\n    }\n    get horizontalAlignment() {\n        return this.#props.horizontalAlignment;\n    }\n    set horizontalAlignment(horizontalAlignment) {\n        this.#props.horizontalAlignment = horizontalAlignment;\n        void ComponentHelpers.ScheduledRender.scheduleRender(this, this.#renderBound);\n    }\n    get getConnectorCustomXPosition() {\n        return this.#props.getConnectorCustomXPosition;\n    }\n    set getConnectorCustomXPosition(connectorXPosition) {\n        this.#props.getConnectorCustomXPosition = connectorXPosition;\n        void ComponentHelpers.ScheduledRender.scheduleRender(this, this.#renderBound);\n    }\n    connectedCallback() {\n        this.#shadow.adoptedStyleSheets = [menuStyles];\n        void coordinator.write(() => {\n            this.style.setProperty('--selected-item-check', `url(${selectedItemCheckmark})`);\n            this.style.setProperty('--menu-checkmark-width', this.#props.showSelectedItem ? '26px' : '0px');\n            this.style.setProperty('--menu-checkmark-height', this.#props.showSelectedItem ? '12px' : '0px');\n            const dividerLine = this.showDivider ? '1px var(--divider-line) solid' : 'none';\n            this.style.setProperty('--override-divider-line', dividerLine);\n        });\n    }\n    #getDialog() {\n        if (!this.#dialog) {\n            throw new Error('Dialog not found');\n        }\n        return this.#dialog;\n    }\n    async #dialogDeployed() {\n        await coordinator.write(() => {\n            this.setAttribute('has-open-dialog', 'has-open-dialog');\n            // Focus the container so tha twe can capture key events.\n            const container = this.#shadow.querySelector('#container');\n            if (!(container instanceof HTMLElement)) {\n                return;\n            }\n            container.focus();\n        });\n    }\n    #focusFirstItem() {\n        this.#getFirstItem().focus();\n    }\n    #getFirstItem() {\n        const defaultSlot = this.#shadow.querySelector('slot');\n        const items = defaultSlot?.assignedElements();\n        let firstItem = items[0];\n        if (firstItem instanceof HTMLSlotElement) {\n            firstItem = firstItem?.assignedElements()[0];\n        }\n        if (firstItem instanceof MenuGroup) {\n            const groupDefaultSlot = firstItem.shadowRoot?.querySelector('slot');\n            firstItem = groupDefaultSlot?.assignedElements()[0];\n        }\n        if (firstItem instanceof HTMLElement) {\n            return firstItem;\n        }\n        throw new Error('First item not found');\n    }\n    #handleItemClick(evt) {\n        const path = evt.composedPath();\n        evt.stopPropagation();\n        // If the clicked item is an input element, do not follow the default behaviour.\n        if (path.find(element => element instanceof HTMLInputElement)) {\n            return;\n        }\n        const item = evt.composedPath().find(element => element instanceof MenuItem);\n        // Compare against MenuItem again to narrow the item's type.\n        if (!(item instanceof MenuItem)) {\n            return;\n        }\n        this.#updateSelectedValue(item);\n    }\n    #handleDialogKeyDown(evt) {\n        const key = evt.key;\n        evt.stopImmediatePropagation();\n        let item = evt.target;\n        const path = evt.composedPath();\n        const shouldFocusFirstItem = key === \"ArrowDown\" /* Platform.KeyboardUtilities.ArrowKey.DOWN */ || key === \"ArrowRight\" /* Platform.KeyboardUtilities.ArrowKey.RIGHT */;\n        if (!this.#itemIsFocused && shouldFocusFirstItem) {\n            this.#focusFirstItem();\n            this.#itemIsFocused = true;\n            return;\n        }\n        if (!this.#itemIsFocused && key === \"ArrowUp\" /* Platform.KeyboardUtilities.ArrowKey.UP */) {\n            this.#focusLastItem();\n            this.#itemIsFocused = true;\n            return;\n        }\n        // The focused item could be nested inside the MenuItem, hence\n        // find the MenuItem item inside the event's composed path.\n        if (!(item instanceof MenuItem)) {\n            item = path.find(element => element instanceof MenuItem);\n            // Compare against MenuItem again to narrow the item's type.\n            if (!(item instanceof MenuItem)) {\n                return;\n            }\n        }\n        if (Platform.KeyboardUtilities.keyIsArrowKey(key)) {\n            this.#handleArrowKeyNavigation(key, item);\n        }\n        else if (key === 'Home') {\n            this.#handleHomeKeyDown(item);\n        }\n        else if (key === 'End') {\n            this.#focusLastItem();\n        }\n        else if (key === 'Enter' || evt.code === 'Space') {\n            this.#updateSelectedValue(item);\n        }\n        else if (key === 'Escape') {\n            evt.preventDefault();\n            this.#closeDialog();\n        }\n    }\n    #updateSelectedValue(item) {\n        if (item.value === '') {\n            return;\n        }\n        this.dispatchEvent(new MenuItemSelectedEvent(item.value));\n        if (item.preventMenuCloseOnSelection) {\n            return;\n        }\n        this.#closeDialog();\n    }\n    #handleArrowKeyNavigation(key, currentItem) {\n        let nextSibling = currentItem;\n        if (key === \"ArrowDown\" /* Platform.KeyboardUtilities.ArrowKey.DOWN */) {\n            nextSibling = currentItem.nextElementSibling;\n            // Handle last item in a group and navigating down:\n            if (nextSibling === null && currentItem.parentElement instanceof MenuGroup) {\n                nextSibling = this.#firstItemInNextGroup(currentItem);\n            }\n        }\n        else if (key === \"ArrowUp\" /* Platform.KeyboardUtilities.ArrowKey.UP */) {\n            nextSibling = currentItem.previousElementSibling;\n            // Handle first item in a group and navigating up:\n            if (nextSibling === null && currentItem.parentElement instanceof MenuGroup) {\n                nextSibling = this.#lastItemInPreviousGroup(currentItem);\n            }\n        }\n        if (nextSibling instanceof MenuItem) {\n            nextSibling.focus();\n        }\n    }\n    #firstItemInNextGroup(currentItem) {\n        const parentElement = currentItem.parentElement;\n        if (!(parentElement instanceof MenuGroup)) {\n            return null;\n        }\n        const parentNextSibling = parentElement.nextElementSibling;\n        if (parentNextSibling instanceof MenuItem) {\n            return parentNextSibling;\n        }\n        if (!(parentNextSibling instanceof MenuGroup)) {\n            return null;\n        }\n        for (const child of parentNextSibling.children) {\n            if (child instanceof MenuItem) {\n                return child;\n            }\n        }\n        return null;\n    }\n    #lastItemInPreviousGroup(currentItem) {\n        const parentElement = currentItem.parentElement;\n        if (!(parentElement instanceof MenuGroup)) {\n            return null;\n        }\n        const parentPreviousSibling = parentElement.previousElementSibling;\n        if (parentPreviousSibling instanceof MenuItem) {\n            return parentPreviousSibling;\n        }\n        if (!(parentPreviousSibling instanceof MenuGroup)) {\n            return null;\n        }\n        if (parentPreviousSibling.lastElementChild instanceof MenuItem) {\n            return parentPreviousSibling.lastElementChild;\n        }\n        return null;\n    }\n    #handleHomeKeyDown(currentItem) {\n        let topMenuPart = currentItem;\n        if (currentItem.parentElement instanceof MenuGroup) {\n            topMenuPart = currentItem.parentElement;\n        }\n        while (topMenuPart?.previousElementSibling) {\n            topMenuPart = topMenuPart?.previousElementSibling;\n        }\n        if (topMenuPart instanceof MenuItem) {\n            topMenuPart.focus();\n            return;\n        }\n        for (const child of topMenuPart.children) {\n            if (child instanceof MenuItem) {\n                child.focus();\n                return;\n            }\n        }\n    }\n    #focusLastItem() {\n        const currentItem = this.#getFirstItem();\n        let lastMenuPart = currentItem;\n        if (currentItem.parentElement instanceof MenuGroup) {\n            lastMenuPart = currentItem.parentElement;\n        }\n        while (lastMenuPart?.nextElementSibling) {\n            lastMenuPart = lastMenuPart?.nextElementSibling;\n        }\n        if (lastMenuPart instanceof MenuItem) {\n            lastMenuPart.focus();\n            return;\n        }\n        if (lastMenuPart instanceof MenuGroup && lastMenuPart.lastElementChild instanceof MenuItem) {\n            lastMenuPart.lastElementChild.focus();\n        }\n    }\n    #closeDialog(evt) {\n        if (evt) {\n            evt.stopImmediatePropagation();\n        }\n        this.dispatchEvent(new MenuCloseRequest());\n        void this.#getDialog().setDialogVisible(false);\n        this.#itemIsFocused = false;\n    }\n    async #render() {\n        if (!ComponentHelpers.ScheduledRender.isScheduledRender(this)) {\n            throw new Error('Menu render was not scheduled');\n        }\n        // clang-format off\n        LitHtml.render(html `\n      <devtools-dialog\n        @clickoutsidedialog=${this.#closeDialog}\n        @forceddialogclose=${this.#closeDialog}\n        .position=${this.position}\n        .showConnector=${this.showConnector}\n        .origin=${this.origin}\n        .dialogShownCallback=${this.#dialogDeployed.bind(this)}\n        .horizontalAlignment=${this.horizontalAlignment}\n        .getConnectorCustomXPosition=${this.getConnectorCustomXPosition}\n        on-render=${ComponentHelpers.Directives.nodeRenderedCallback((domNode) => {\n            this.#dialog = domNode;\n        })}\n        >\n        <span id=\"container\" role=\"menu\" tabIndex=\"0\" @keydown=${this.#handleDialogKeyDown} jslog=${VisualLogging.menu().track({ resize: true, keydown: 'Escape' })}>\n          <slot @click=${this.#handleItemClick}>\n          </slot>\n        </span>\n      </devtools-dialog>\n    `, this.#shadow, { host: this });\n        // clang-format on\n    }\n}\nexport class MenuItem extends HTMLElement {\n    #shadow = this.attachShadow({ mode: 'open' });\n    #renderBound = this.#render.bind(this);\n    connectedCallback() {\n        this.#shadow.adoptedStyleSheets = [menuItemStyles];\n        this.tabIndex = 0;\n        this.setAttribute('role', 'menuitem');\n    }\n    #props = {\n        value: '',\n        preventMenuCloseOnSelection: false,\n        selected: false,\n    };\n    get preventMenuCloseOnSelection() {\n        return this.#props.preventMenuCloseOnSelection;\n    }\n    set preventMenuCloseOnSelection(preventMenuCloseOnSelection) {\n        this.#props.preventMenuCloseOnSelection = preventMenuCloseOnSelection;\n        void ComponentHelpers.ScheduledRender.scheduleRender(this, this.#renderBound);\n    }\n    get value() {\n        return this.#props.value;\n    }\n    set value(value) {\n        this.#props.value = value;\n        void ComponentHelpers.ScheduledRender.scheduleRender(this, this.#renderBound);\n    }\n    get selected() {\n        return this.#props.selected;\n    }\n    set selected(selected) {\n        this.#props.selected = selected;\n        void ComponentHelpers.ScheduledRender.scheduleRender(this, this.#renderBound);\n    }\n    async #render() {\n        if (!ComponentHelpers.ScheduledRender.isScheduledRender(this)) {\n            throw new Error('MenuItem render was not scheduled');\n        }\n        // clang-format off\n        LitHtml.render(html `\n      <span class=${LitHtml.Directives.classMap({\n            'menu-item': true,\n            'is-selected-item': this.selected,\n            'prevents-close': this.preventMenuCloseOnSelection,\n        })}\n      >\n        <slot></slot>\n      </span>\n    `, this.#shadow, { host: this });\n        // clang-format on\n    }\n}\nexport class MenuGroup extends HTMLElement {\n    #shadow = this.attachShadow({ mode: 'open' });\n    #renderBound = this.#render.bind(this);\n    connectedCallback() {\n        this.#shadow.adoptedStyleSheets = [menuGroupStyles];\n    }\n    #props = {\n        name: null,\n    };\n    get name() {\n        return this.#props.name;\n    }\n    set name(name) {\n        this.#props.name = name;\n        void ComponentHelpers.ScheduledRender.scheduleRender(this, this.#renderBound);\n    }\n    async #render() {\n        if (!ComponentHelpers.ScheduledRender.isScheduledRender(this)) {\n            throw new Error('MenuGroup render was not scheduled');\n        }\n        // clang-format off\n        LitHtml.render(html `\n      <span class=\"menu-group\">\n        <span class=\"menu-group-label\">${this.name}</span>\n        <slot></slot>\n      </span>\n    `, this.#shadow, { host: this });\n        // clang-format on\n    }\n}\ncustomElements.define('devtools-menu', Menu);\ncustomElements.define('devtools-menu-item', MenuItem);\ncustomElements.define('devtools-menu-group', MenuGroup);\nexport class MenuItemSelectedEvent extends Event {\n    itemValue;\n    static eventName = 'menuitemselected';\n    constructor(itemValue) {\n        super(MenuItemSelectedEvent.eventName, { bubbles: true, composed: true });\n        this.itemValue = itemValue;\n    }\n}\nexport class MenuCloseRequest extends Event {\n    static eventName = 'menucloserequest';\n    constructor() {\n        super(MenuCloseRequest.eventName, { bubbles: true, composed: true });\n    }\n}\n//# sourceMappingURL=Menu.js.map","// Copyright 2024 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n// IMPORTANT: this file is auto generated. Please do not edit this file.\n/* istanbul ignore file */\nconst styles = new CSSStyleSheet();\nstyles.replaceSync(\n`/*\n * Copyright 2023 The Chromium Authors. All rights reserved.\n * Use of this source code is governed by a BSD-style license that can be\n * found in the LICENSE file.\n */\n\n:host {\n  border: 1px solid var(--sys-color-neutral-outline);\n  border-radius: 3px;\n  width: fit-content;\n  display: flex;\n  align-items: center;\n  background-color: var(--override-select-menu-background-color, var(--sys-color-cdt-base-container));\n}\n\n:host([has-open-dialog]) {\n  background-color: var(--override-select-menu-active-background-color, var(--sys-color-neutral-container));\n}\n\nbutton {\n  background: none;\n}\n\n#side-button {\n  border: 1px solid var(--override-select-menu-border, var(--sys-color-neutral-outline));\n  border-radius: 3px 0 0 3px;\n  border-right: none;\n  height: 100%;\n  position: relative;\n  padding: var(--override-select-button-padding);\n}\n\nbutton:disabled {\n  cursor: not-allowed;\n}\n\n@keyframes slideIn {\n  from {\n    transform: var(--translate-dialog);\n    opacity: 0%;\n  }\n\n  to {\n    transform: none;\n    opacity: 100%;\n  }\n}\n\n/*# sourceURL=selectMenu.css */\n`);\n\nexport default styles;\n","// Copyright 2024 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n// IMPORTANT: this file is auto generated. Please do not edit this file.\n/* istanbul ignore file */\nconst styles = new CSSStyleSheet();\nstyles.replaceSync(\n`/*\n * Copyright 2023 The Chromium Authors. All rights reserved.\n * Use of this source code is governed by a BSD-style license that can be\n * found in the LICENSE file.\n */\n\n:host {\n  height: 100%;\n  width: 100%;\n  display: block;\n}\n\n.show {\n  display: block;\n  font-size: 12px;\n  color: var(--sys-color-on-surface);\n  height: 100%;\n  width: 100%;\n  border: none;\n  border-radius: var(--override-select-menu-show-button-border-radius);\n  padding: var(--override-select-menu-show-button-padding, 1px 6px);\n}\n\n.show:focus-visible {\n  outline: 2px solid var(--sys-color-state-focus-ring);\n  outline-offset: 2px;\n}\n\n#button-label-wrapper {\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n}\n\n#label {\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  overflow: hidden;\n  width: fit-content;\n  height: 100%;\n}\n\n#label[witharrow].single-arrow {\n  padding: 0;\n}\n\n#label[witharrow] {\n  padding: var(--override-select-menu-label-with-arrow-padding, 0 10px 0 0);\n  text-align: left;\n}\n\n.single-arrow + span#arrow {\n  margin: 0;\n}\n\n#arrow {\n  mask-image: var(--deploy-menu-arrow);\n  -webkit-mask-position-y: center;\n  margin-left: 5px;\n  width: 14px;\n  flex-shrink: 0;\n  height: 14px;\n  display: inline-block;\n  mask-repeat: no-repeat;\n  background-color: var(--override-throttling-icon-and-text-color, var(--override-select-menu-arrow-color, var(--sys-color-on-surface)));\n  transform: rotate(var(--arrow-angle));\n  transform-origin: center;\n  transition: 200ms;\n}\n\n.single-arrow {\n  border-radius: 0 3px 3px 0;\n  border: 1px solid var(--override-select-menu-border, var(--sys-color-neutral-outline));\n  height: 100%;\n  aspect-ratio: 1 / 1;\n  padding: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\nbutton[aria-expanded=\"true\"] #arrow {\n  transform: rotate(calc(var(--arrow-angle) + 180deg));\n}\n\nbutton {\n  background: none;\n}\n\nbutton[disabled] {\n  color: var(--sys-color-state-disabled);\n}\n\n/*# sourceURL=selectMenuButton.css */\n`);\n\nexport default styles;\n","// Copyright 2023 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\nimport * as Platform from '../../../core/platform/platform.js';\nimport * as ComponentHelpers from '../../../ui/components/helpers/helpers.js';\nimport * as Coordinator from '../../../ui/components/render_coordinator/render_coordinator.js';\nimport * as LitHtml from '../../../ui/lit-html/lit-html.js';\nimport * as VisualLogging from '../../../ui/visual_logging/visual_logging.js';\nimport * as Dialogs from '../dialogs/dialogs.js';\nimport { MenuGroup, } from './Menu.js';\nimport selectMenuStyles from './selectMenu.css.js';\nimport selectMenuButtonStyles from './selectMenuButton.css.js';\nconst { html } = LitHtml;\nconst coordinator = Coordinator.RenderCoordinator.RenderCoordinator.instance();\nconst deployMenuArrow = new URL('../../../Images/triangle-down.svg', import.meta.url).toString();\nexport class SelectMenu extends HTMLElement {\n    #shadow = this.attachShadow({ mode: 'open' });\n    #renderBound = this.#render.bind(this);\n    #button = null;\n    #open = false;\n    #props = {\n        buttonTitle: '',\n        position: \"bottom\" /* Dialogs.Dialog.DialogVerticalPosition.BOTTOM */,\n        horizontalAlignment: \"auto\" /* Dialogs.Dialog.DialogHorizontalAlignment.AUTO */,\n        showArrow: false,\n        showConnector: false,\n        sideButton: false,\n        showDivider: false,\n        disabled: false,\n        showSelectedItem: true,\n        jslogContext: '',\n    };\n    get buttonTitle() {\n        return this.#props.buttonTitle;\n    }\n    set buttonTitle(buttonTitle) {\n        this.#props.buttonTitle = buttonTitle;\n        void ComponentHelpers.ScheduledRender.scheduleRender(this, this.#renderBound);\n    }\n    get position() {\n        return this.#props.position;\n    }\n    set position(position) {\n        this.#props.position = position;\n        void ComponentHelpers.ScheduledRender.scheduleRender(this, this.#renderBound);\n    }\n    get horizontalAlignment() {\n        return this.#props.horizontalAlignment;\n    }\n    set horizontalAlignment(horizontalAlignment) {\n        this.#props.horizontalAlignment = horizontalAlignment;\n        void ComponentHelpers.ScheduledRender.scheduleRender(this, this.#renderBound);\n    }\n    get showConnector() {\n        return this.#props.showConnector;\n    }\n    set showConnector(showConnector) {\n        if (!this.#props.showArrow) {\n            this.#props.showArrow = showConnector;\n        }\n        this.#props.showConnector = showConnector;\n        void ComponentHelpers.ScheduledRender.scheduleRender(this, this.#renderBound);\n    }\n    get showArrow() {\n        return this.#props.showArrow;\n    }\n    set showArrow(showArrow) {\n        this.#props.showArrow = showArrow;\n        void ComponentHelpers.ScheduledRender.scheduleRender(this, this.#renderBound);\n    }\n    get sideButton() {\n        return this.#props.sideButton;\n    }\n    set sideButton(sideButton) {\n        this.#props.sideButton = sideButton;\n        void ComponentHelpers.ScheduledRender.scheduleRender(this, this.#renderBound);\n    }\n    get disabled() {\n        return this.#props.disabled;\n    }\n    set disabled(disabled) {\n        this.#props.disabled = disabled;\n        void ComponentHelpers.ScheduledRender.scheduleRender(this, this.#renderBound);\n    }\n    get showDivider() {\n        return this.#props.showDivider;\n    }\n    set showDivider(showDivider) {\n        this.#props.showDivider = showDivider;\n        void ComponentHelpers.ScheduledRender.scheduleRender(this, this.#renderBound);\n    }\n    get showSelectedItem() {\n        return this.#props.showSelectedItem;\n    }\n    set showSelectedItem(showSelectedItem) {\n        this.#props.showSelectedItem = showSelectedItem;\n        void ComponentHelpers.ScheduledRender.scheduleRender(this, this.#renderBound);\n    }\n    get jslogContext() {\n        return this.#props.jslogContext;\n    }\n    set jslogContext(jslogContext) {\n        this.#props.jslogContext = jslogContext;\n        void ComponentHelpers.ScheduledRender.scheduleRender(this, this.#renderBound);\n    }\n    connectedCallback() {\n        this.#shadow.adoptedStyleSheets = [selectMenuStyles];\n    }\n    #getButton() {\n        if (!this.#button) {\n            this.#button = this.#shadow.querySelector('devtools-select-menu-button');\n            if (!this.#button) {\n                throw new Error('Arrow not found');\n            }\n        }\n        return this.#button;\n    }\n    #showMenu() {\n        this.#open = true;\n        this.setAttribute('has-open-dialog', 'has-open-dialog');\n        void ComponentHelpers.ScheduledRender.scheduleRender(this, this.#renderBound);\n    }\n    click() {\n        this.#getButton().click();\n    }\n    #sideButtonClicked() {\n        this.dispatchEvent(new SelectMenuSideButtonClickEvent());\n    }\n    #maybeGetArrowXPosition() {\n        if (this.showConnector) {\n            // This block is not wrapped in a `coordinator.read` because this function's\n            // only invocation is already wrapped in one (in Dialog.showDialog).\n            const arrowBounds = this.#getButton().getBoundingClientRect();\n            return (arrowBounds.left + arrowBounds.right) / 2;\n        }\n        return NaN;\n    }\n    #getButtonText() {\n        return this.buttonTitle instanceof Function ? this.buttonTitle() : this.buttonTitle;\n    }\n    #renderButton() {\n        const buttonLabel = this.#getButtonText();\n        if (!this.sideButton) {\n            // clang-format off\n            return html `\n          <devtools-select-menu-button\n            @selectmenubuttontrigger=${this.#showMenu}\n            .open=${this.#open} .showArrow=${this.showArrow}\n            .arrowDirection=${this.position}\n            .disabled=${this.disabled}\n            .jslogContext=${this.jslogContext}>\n              ${buttonLabel}\n            </devtools-select-menu-button>\n        `;\n            // clang-format on\n        }\n        // clang-format off\n        return html `\n      <button id=\"side-button\" @click=${this.#sideButtonClicked} ?disabled=${this.disabled}>\n        ${buttonLabel}\n      </button>\n      <devtools-select-menu-button\n        @click=${this.#showMenu}\n        @selectmenubuttontrigger=${this.#showMenu}\n        .singleArrow=${true}\n        .open=${this.#open}\n        .showArrow=${true}\n        .arrowDirection=${this.position}\n        .disabled=${this.disabled}>\n      </devtools-select-menu-button>\n    `;\n        // clang-format on\n    }\n    #onMenuClose(evt) {\n        if (evt) {\n            evt.stopImmediatePropagation();\n        }\n        void coordinator.write(() => {\n            this.removeAttribute('has-open-dialog');\n        });\n        this.#open = false;\n        void ComponentHelpers.ScheduledRender.scheduleRender(this, this.#renderBound);\n    }\n    #onItemSelected(evt) {\n        this.dispatchEvent(new SelectMenuItemSelectedEvent(evt.itemValue));\n    }\n    async #render() {\n        if (!ComponentHelpers.ScheduledRender.isScheduledRender(this)) {\n            throw new Error('SelectMenu render was not scheduled');\n        }\n        LitHtml.render(html `\n      <devtools-menu\n        @menucloserequest=${this.#onMenuClose}\n        @menuitemselected=${this.#onItemSelected}\n        .position=${this.position}\n        .origin=${this}\n        .showConnector=${this.showConnector}\n        .showDivider=${this.showDivider}\n        .showSelectedItem=${this.showSelectedItem}\n        .open=${this.#open}\n        .getConnectorCustomXPosition=${this.showConnector ? this.#maybeGetArrowXPosition.bind(this) : null}\n      >\n      <slot>\n      </slot>\n      </devtools-menu>\n      ${this.#renderButton()}\n    `, this.#shadow, { host: this });\n        // clang-format on\n    }\n}\nexport class SelectMenuButton extends HTMLElement {\n    #shadow = this.attachShadow({ mode: 'open' });\n    #renderBound = this.#render.bind(this);\n    #showButton = null;\n    connectedCallback() {\n        this.#shadow.adoptedStyleSheets = [selectMenuButtonStyles];\n        this.style.setProperty('--deploy-menu-arrow', `url(${deployMenuArrow})`);\n        void coordinator.write(() => {\n            switch (this.arrowDirection) {\n                case \"auto\" /* Dialogs.Dialog.DialogVerticalPosition.AUTO */:\n                case \"top\" /* Dialogs.Dialog.DialogVerticalPosition.TOP */: {\n                    this.style.setProperty('--arrow-angle', '180deg');\n                    break;\n                }\n                case \"bottom\" /* Dialogs.Dialog.DialogVerticalPosition.BOTTOM */: {\n                    this.style.setProperty('--arrow-angle', '0deg');\n                    break;\n                }\n                default:\n                    Platform.assertNever(this.arrowDirection, `Unknown position type: ${this.arrowDirection}`);\n            }\n        });\n    }\n    #props = {\n        showArrow: false,\n        arrowDirection: \"bottom\" /* Dialogs.Dialog.DialogVerticalPosition.BOTTOM */,\n        disabled: false,\n        singleArrow: false,\n        jslogContext: '',\n    };\n    get showArrow() {\n        return this.#props.showArrow;\n    }\n    set showArrow(showArrow) {\n        this.#props.showArrow = showArrow;\n        void ComponentHelpers.ScheduledRender.scheduleRender(this, this.#renderBound);\n    }\n    get arrowDirection() {\n        return this.#props.arrowDirection;\n    }\n    set arrowDirection(arrowDirection) {\n        this.#props.arrowDirection = arrowDirection;\n        void ComponentHelpers.ScheduledRender.scheduleRender(this, this.#renderBound);\n    }\n    get disabled() {\n        return this.#props.disabled;\n    }\n    set disabled(disabled) {\n        this.#props.disabled = disabled;\n        void ComponentHelpers.ScheduledRender.scheduleRender(this, this.#renderBound);\n    }\n    set open(open) {\n        void coordinator.write(() => {\n            this.#getShowButton()?.setAttribute('aria-expanded', String(open));\n        });\n    }\n    set singleArrow(singleArrow) {\n        this.#props.singleArrow = singleArrow;\n        void ComponentHelpers.ScheduledRender.scheduleRender(this, this.#renderBound);\n    }\n    get jslogContext() {\n        return this.#props.jslogContext;\n    }\n    set jslogContext(jslogContext) {\n        this.#props.jslogContext = jslogContext;\n        void ComponentHelpers.ScheduledRender.scheduleRender(this, this.#renderBound);\n    }\n    click() {\n        this.#getShowButton()?.click();\n    }\n    #getShowButton() {\n        if (!this.#showButton) {\n            this.#showButton = this.#shadow.querySelector('button');\n        }\n        return this.#showButton;\n    }\n    #handleButtonKeyDown(evt) {\n        const key = evt.key;\n        const shouldShowDialogBelow = this.arrowDirection === \"bottom\" /* Dialogs.Dialog.DialogVerticalPosition.BOTTOM */ &&\n            key === \"ArrowDown\" /* Platform.KeyboardUtilities.ArrowKey.DOWN */;\n        const shouldShowDialogAbove = this.arrowDirection === \"top\" /* Dialogs.Dialog.DialogVerticalPosition.TOP */ &&\n            key === \"ArrowUp\" /* Platform.KeyboardUtilities.ArrowKey.UP */;\n        const isEnter = key === Platform.KeyboardUtilities.ENTER_KEY;\n        const isSpace = evt.code === 'Space';\n        if (shouldShowDialogBelow || shouldShowDialogAbove || isEnter || isSpace) {\n            this.dispatchEvent(new SelectMenuButtonTriggerEvent());\n            evt.preventDefault();\n        }\n    }\n    #handleClick() {\n        this.dispatchEvent(new SelectMenuButtonTriggerEvent());\n    }\n    async #render() {\n        if (!ComponentHelpers.ScheduledRender.isScheduledRender(this)) {\n            throw new Error('SelectMenuItem render was not scheduled');\n        }\n        const arrow = this.#props.showArrow ? html `<span id=\"arrow\"></span>` : LitHtml.nothing;\n        const classMap = { 'single-arrow': this.#props.singleArrow };\n        // clang-format off\n        const buttonTitle = html `\n      <span id=\"button-label-wrapper\">\n        <span id=\"label\" ?witharrow=${this.showArrow} class=${LitHtml.Directives.classMap(classMap)}><slot></slot></span>\n        ${arrow}\n      </span>\n      `;\n        // clang-format off\n        LitHtml.render(html `\n      <button aria-haspopup=\"true\" aria-expanded=\"false\" class=\"show\" @keydown=${this.#handleButtonKeyDown} @click=${this.#handleClick} ?disabled=${this.disabled} jslog=${VisualLogging.dropDown(this.jslogContext)}>${buttonTitle}</button>\n    `, this.#shadow, { host: this });\n        // clang-format on\n    }\n}\ncustomElements.define('devtools-select-menu', SelectMenu);\ncustomElements.define('devtools-select-menu-button', SelectMenuButton);\nexport class SelectMenuItemSelectedEvent extends Event {\n    itemValue;\n    static eventName = 'selectmenuselected';\n    constructor(itemValue) {\n        super(SelectMenuItemSelectedEvent.eventName, { bubbles: true, composed: true });\n        this.itemValue = itemValue;\n    }\n}\nexport class SelectMenuSideButtonClickEvent extends Event {\n    static eventName = 'selectmenusidebuttonclick';\n    constructor() {\n        super(SelectMenuSideButtonClickEvent.eventName, { bubbles: true, composed: true });\n    }\n}\nexport class SelectMenuButtonTriggerEvent extends Event {\n    static eventName = 'selectmenubuttontrigger';\n    constructor() {\n        super(SelectMenuButtonTriggerEvent.eventName, { bubbles: true, composed: true });\n    }\n}\nexport { MenuGroup as SelectMenuGroup };\n//# sourceMappingURL=SelectMenu.js.map"],"names":["styles","html","LitHtml","coordinator","Coordinator.RenderCoordinator.RenderCoordinator","selectedItemCheckmark","Menu","#shadow","#renderBound","#render","#dialog","#itemIsFocused","#props","origin","ComponentHelpers.ScheduledRender.scheduleRender","open","#getDialog","position","showConnector","showDivider","showSelectedItem","horizontalAlignment","connectorXPosition","menuStyles","dividerLine","#dialogDeployed","container","#focusFirstItem","#getFirstItem","firstItem","MenuGroup","#handleItemClick","evt","path","element","item","MenuItem","#updateSelectedValue","#handleDialogKeyDown","key","shouldFocusFirstItem","#focusLastItem","Platform.KeyboardUtilities.keyIsArrowKey","#handleArrowKeyNavigation","#handleHomeKeyDown","#closeDialog","MenuItemSelectedEvent","currentItem","nextSibling","#firstItemInNextGroup","#lastItemInPreviousGroup","parentElement","parentNextSibling","child","parentPreviousSibling","topMenuPart","lastMenuPart","MenuCloseRequest","ComponentHelpers.ScheduledRender.isScheduledRender","LitHtml.render","ComponentHelpers.Directives.nodeRenderedCallback","domNode","VisualLogging.menu","menuItemStyles","preventMenuCloseOnSelection","value","selected","LitHtml.Directives.classMap","menuGroupStyles","name","itemValue","deployMenuArrow","SelectMenu","#button","#open","buttonTitle","showArrow","sideButton","disabled","jslogContext","selectMenuStyles","#getButton","#showMenu","#sideButtonClicked","SelectMenuSideButtonClickEvent","#maybeGetArrowXPosition","arrowBounds","#getButtonText","#renderButton","buttonLabel","#onMenuClose","#onItemSelected","SelectMenuItemSelectedEvent","SelectMenuButton","#showButton","selectMenuButtonStyles","Platform.assertNever","arrowDirection","#getShowButton","singleArrow","#handleButtonKeyDown","shouldShowDialogBelow","shouldShowDialogAbove","isEnter","Platform.KeyboardUtilities.ENTER_KEY","isSpace","SelectMenuButtonTriggerEvent","#handleClick","arrow","LitHtml.nothing","classMap","VisualLogging.dropDown"],"mappings":"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"}