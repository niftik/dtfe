{"version":3,"file":"issues-Dp_OdmaE.js","sources":["../../panels/issues/IssueAggregator.js","../../panels/issues/HiddenIssuesRow.js","../../panels/issues/components/elementsPanelLink.css.js","../../panels/issues/components/ElementsPanelLink.js","../../panels/issues/components/hideIssuesMenu.css.js","../../panels/issues/components/HideIssuesMenu.js","../../panels/issues/IssueKindView.js","../../panels/issues/issuesPane.css.js","../../panels/issues/issuesTree.css.js","../../panels/issues/AffectedResourcesView.js","../../panels/issues/AffectedBlockedByResponseView.js","../../panels/issues/AffectedCookiesView.js","../../panels/issues/AffectedDirectivesView.js","../../panels/issues/AffectedElementsView.js","../../panels/issues/AffectedDocumentsInQuirksModeView.js","../../panels/issues/AffectedElementsWithLowContrastView.js","../../panels/issues/AffectedHeavyAdView.js","../../panels/issues/AffectedMetadataAllowedSitesView.js","../../panels/issues/AffectedSharedArrayBufferIssueDetailsView.js","../../panels/issues/AffectedSourcesView.js","../../panels/issues/AffectedTrackingSitesView.js","../../panels/issues/AttributionReportingIssueDetailsView.js","../../panels/issues/CorsIssueDetailsView.js","../../panels/issues/GenericIssueDetailsView.js","../../panels/issues/IssueView.js","../../panels/issues/IssuesPane.js","../../panels/issues/IssueRevealer.js"],"sourcesContent":["// Copyright 2020 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\nimport * as Common from '../../core/common/common.js';\nimport * as IssuesManager from '../../models/issues_manager/issues_manager.js';\n/**\n * An `AggregatedIssue` representes a number of `IssuesManager.Issue.Issue` objects that are displayed together.\n * Currently only grouping by issue code, is supported. The class provides helpers to support displaying\n * of all resources that are affected by the aggregated issues.\n */\nexport class AggregatedIssue extends IssuesManager.Issue.Issue {\n    #affectedCookies = new Map();\n    #affectedRawCookieLines = new Map();\n    #affectedRequests = new Map();\n    #affectedLocations = new Map();\n    #heavyAdIssues = new Set();\n    #blockedByResponseDetails = new Map();\n    #bounceTrackingSites = new Set();\n    #corsIssues = new Set();\n    #cspIssues = new Set();\n    #deprecationIssues = new Set();\n    #issueKind = \"Improvement\" /* IssuesManager.Issue.IssueKind.IMPROVEMENT */;\n    #lowContrastIssues = new Set();\n    #cookieDeprecationMetadataIssues = new Set();\n    #mixedContentIssues = new Set();\n    #sharedArrayBufferIssues = new Set();\n    #quirksModeIssues = new Set();\n    #attributionReportingIssues = new Set();\n    #genericIssues = new Set();\n    #representative;\n    #aggregatedIssuesCount = 0;\n    #key;\n    constructor(code, aggregationKey) {\n        super(code);\n        this.#key = aggregationKey;\n    }\n    primaryKey() {\n        throw new Error('This should never be called');\n    }\n    aggregationKey() {\n        return this.#key;\n    }\n    getBlockedByResponseDetails() {\n        return this.#blockedByResponseDetails.values();\n    }\n    cookies() {\n        return Array.from(this.#affectedCookies.values()).map(x => x.cookie);\n    }\n    getRawCookieLines() {\n        return this.#affectedRawCookieLines.values();\n    }\n    sources() {\n        return this.#affectedLocations.values();\n    }\n    getBounceTrackingSites() {\n        return this.#bounceTrackingSites.values();\n    }\n    cookiesWithRequestIndicator() {\n        return this.#affectedCookies.values();\n    }\n    getHeavyAdIssues() {\n        return this.#heavyAdIssues;\n    }\n    getCookieDeprecationMetadataIssues() {\n        return this.#cookieDeprecationMetadataIssues;\n    }\n    getMixedContentIssues() {\n        return this.#mixedContentIssues;\n    }\n    getCorsIssues() {\n        return this.#corsIssues;\n    }\n    getCspIssues() {\n        return this.#cspIssues;\n    }\n    getDeprecationIssues() {\n        return this.#deprecationIssues;\n    }\n    getLowContrastIssues() {\n        return this.#lowContrastIssues;\n    }\n    requests() {\n        return this.#affectedRequests.values();\n    }\n    getSharedArrayBufferIssues() {\n        return this.#sharedArrayBufferIssues;\n    }\n    getQuirksModeIssues() {\n        return this.#quirksModeIssues;\n    }\n    getAttributionReportingIssues() {\n        return this.#attributionReportingIssues;\n    }\n    getGenericIssues() {\n        return this.#genericIssues;\n    }\n    getDescription() {\n        if (this.#representative) {\n            return this.#representative.getDescription();\n        }\n        return null;\n    }\n    getCategory() {\n        if (this.#representative) {\n            return this.#representative.getCategory();\n        }\n        return \"Other\" /* IssuesManager.Issue.IssueCategory.OTHER */;\n    }\n    getAggregatedIssuesCount() {\n        return this.#aggregatedIssuesCount;\n    }\n    /**\n     * Produces a primary key for a cookie. Use this instead of `JSON.stringify` in\n     * case new fields are added to `AffectedCookie`.\n     */\n    #keyForCookie(cookie) {\n        const { domain, path, name } = cookie;\n        return `${domain};${path};${name}`;\n    }\n    addInstance(issue) {\n        this.#aggregatedIssuesCount++;\n        if (!this.#representative) {\n            this.#representative = issue;\n        }\n        this.#issueKind = IssuesManager.Issue.unionIssueKind(this.#issueKind, issue.getKind());\n        let hasRequest = false;\n        for (const request of issue.requests()) {\n            hasRequest = true;\n            if (!this.#affectedRequests.has(request.requestId)) {\n                this.#affectedRequests.set(request.requestId, request);\n            }\n        }\n        for (const cookie of issue.cookies()) {\n            const key = this.#keyForCookie(cookie);\n            if (!this.#affectedCookies.has(key)) {\n                this.#affectedCookies.set(key, { cookie, hasRequest });\n            }\n        }\n        for (const rawCookieLine of issue.rawCookieLines()) {\n            if (!this.#affectedRawCookieLines.has(rawCookieLine)) {\n                this.#affectedRawCookieLines.set(rawCookieLine, { rawCookieLine, hasRequest });\n            }\n        }\n        for (const site of issue.trackingSites()) {\n            if (!this.#bounceTrackingSites.has(site)) {\n                this.#bounceTrackingSites.add(site);\n            }\n        }\n        for (const location of issue.sources()) {\n            const key = JSON.stringify(location);\n            if (!this.#affectedLocations.has(key)) {\n                this.#affectedLocations.set(key, location);\n            }\n        }\n        if (issue instanceof IssuesManager.CookieDeprecationMetadataIssue.CookieDeprecationMetadataIssue) {\n            this.#cookieDeprecationMetadataIssues.add(issue);\n        }\n        if (issue instanceof IssuesManager.MixedContentIssue.MixedContentIssue) {\n            this.#mixedContentIssues.add(issue);\n        }\n        if (issue instanceof IssuesManager.HeavyAdIssue.HeavyAdIssue) {\n            this.#heavyAdIssues.add(issue);\n        }\n        for (const details of issue.getBlockedByResponseDetails()) {\n            const key = JSON.stringify(details, ['parentFrame', 'blockedFrame', 'requestId', 'frameId', 'reason', 'request']);\n            this.#blockedByResponseDetails.set(key, details);\n        }\n        if (issue instanceof IssuesManager.ContentSecurityPolicyIssue.ContentSecurityPolicyIssue) {\n            this.#cspIssues.add(issue);\n        }\n        if (issue instanceof IssuesManager.DeprecationIssue.DeprecationIssue) {\n            this.#deprecationIssues.add(issue);\n        }\n        if (issue instanceof IssuesManager.SharedArrayBufferIssue.SharedArrayBufferIssue) {\n            this.#sharedArrayBufferIssues.add(issue);\n        }\n        if (issue instanceof IssuesManager.LowTextContrastIssue.LowTextContrastIssue) {\n            this.#lowContrastIssues.add(issue);\n        }\n        if (issue instanceof IssuesManager.CorsIssue.CorsIssue) {\n            this.#corsIssues.add(issue);\n        }\n        if (issue instanceof IssuesManager.QuirksModeIssue.QuirksModeIssue) {\n            this.#quirksModeIssues.add(issue);\n        }\n        if (issue instanceof IssuesManager.AttributionReportingIssue.AttributionReportingIssue) {\n            this.#attributionReportingIssues.add(issue);\n        }\n        if (issue instanceof IssuesManager.GenericIssue.GenericIssue) {\n            this.#genericIssues.add(issue);\n        }\n    }\n    getKind() {\n        return this.#issueKind;\n    }\n    isHidden() {\n        return this.#representative?.isHidden() || false;\n    }\n    setHidden(_value) {\n        throw new Error('Should not call setHidden on aggregatedIssue');\n    }\n}\nexport class IssueAggregator extends Common.ObjectWrapper.ObjectWrapper {\n    issuesManager;\n    #aggregatedIssuesByKey = new Map();\n    #hiddenAggregatedIssuesByKey = new Map();\n    constructor(issuesManager) {\n        super();\n        this.issuesManager = issuesManager;\n        this.issuesManager.addEventListener(\"IssueAdded\" /* IssuesManager.IssuesManager.Events.ISSUE_ADDED */, this.#onIssueAdded, this);\n        this.issuesManager.addEventListener(\"FullUpdateRequired\" /* IssuesManager.IssuesManager.Events.FULL_UPDATE_REQUIRED */, this.#onFullUpdateRequired, this);\n        for (const issue of this.issuesManager.issues()) {\n            this.#aggregateIssue(issue);\n        }\n    }\n    #onIssueAdded(event) {\n        this.#aggregateIssue(event.data.issue);\n    }\n    #onFullUpdateRequired() {\n        this.#aggregatedIssuesByKey.clear();\n        this.#hiddenAggregatedIssuesByKey.clear();\n        for (const issue of this.issuesManager.issues()) {\n            this.#aggregateIssue(issue);\n        }\n        this.dispatchEventToListeners(\"FullUpdateRequired\" /* Events.FULL_UPDATE_REQUIRED */);\n    }\n    #aggregateIssue(issue) {\n        const map = issue.isHidden() ? this.#hiddenAggregatedIssuesByKey : this.#aggregatedIssuesByKey;\n        const aggregatedIssue = this.#aggregateIssueByStatus(map, issue);\n        this.dispatchEventToListeners(\"AggregatedIssueUpdated\" /* Events.AGGREGATED_ISSUE_UPDATED */, aggregatedIssue);\n        return aggregatedIssue;\n    }\n    #aggregateIssueByStatus(aggregatedIssuesMap, issue) {\n        const key = issue.code();\n        let aggregatedIssue = aggregatedIssuesMap.get(key);\n        if (!aggregatedIssue) {\n            aggregatedIssue = new AggregatedIssue(issue.code(), key);\n            aggregatedIssuesMap.set(key, aggregatedIssue);\n        }\n        aggregatedIssue.addInstance(issue);\n        return aggregatedIssue;\n    }\n    aggregatedIssues() {\n        return [...this.#aggregatedIssuesByKey.values(), ...this.#hiddenAggregatedIssuesByKey.values()];\n    }\n    hiddenAggregatedIssues() {\n        return this.#hiddenAggregatedIssuesByKey.values();\n    }\n    aggregatedIssueCodes() {\n        return new Set([...this.#aggregatedIssuesByKey.keys(), ...this.#hiddenAggregatedIssuesByKey.keys()]);\n    }\n    aggregatedIssueCategories() {\n        const result = new Set();\n        for (const issue of this.#aggregatedIssuesByKey.values()) {\n            result.add(issue.getCategory());\n        }\n        return result;\n    }\n    aggregatedIssueKinds() {\n        const result = new Set();\n        for (const issue of this.#aggregatedIssuesByKey.values()) {\n            result.add(issue.getKind());\n        }\n        return result;\n    }\n    numberOfAggregatedIssues() {\n        return this.#aggregatedIssuesByKey.size;\n    }\n    numberOfHiddenAggregatedIssues() {\n        return this.#hiddenAggregatedIssuesByKey.size;\n    }\n    keyForIssue(issue) {\n        return issue.code();\n    }\n}\n//# sourceMappingURL=IssueAggregator.js.map","// Copyright 2021 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\nimport * as i18n from '../../core/i18n/i18n.js';\nimport * as IssuesManager from '../../models/issues_manager/issues_manager.js';\nimport * as Adorners from '../../ui/components/adorners/adorners.js';\nimport * as UI from '../../ui/legacy/legacy.js';\nconst UIStrings = {\n    /**\n     * @description Title for the hidden issues row\n     */\n    hiddenIssues: 'Hidden issues',\n    /**\n     * @description Label for the button to unhide all hidden issues\n     */\n    unhideAll: 'Unhide all',\n};\nconst str_ = i18n.i18n.registerUIStrings('panels/issues/HiddenIssuesRow.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\nexport class HiddenIssuesRow extends UI.TreeOutline.TreeElement {\n    #numHiddenAggregatedIssues;\n    constructor() {\n        super(undefined, true);\n        this.#numHiddenAggregatedIssues = document.createElement('span');\n        this.toggleOnClick = true;\n        this.listItemElement.classList.add('issue-category', 'hidden-issues');\n        this.childrenListElement.classList.add('hidden-issues-body');\n        this.#appendHeader();\n    }\n    #appendHeader() {\n        const unhideAllIssuesBtn = UI.UIUtils.createTextButton(i18nString(UIStrings.unhideAll), () => IssuesManager.IssuesManager.IssuesManager.instance().unhideAllIssues(), { className: 'unhide-all-issues-button', jslogContext: 'issues.unhide-all-hiddes' });\n        const countAdorner = new Adorners.Adorner.Adorner();\n        countAdorner.data = {\n            name: 'countWrapper',\n            content: this.#numHiddenAggregatedIssues,\n        };\n        countAdorner.classList.add('aggregated-issues-count');\n        this.#numHiddenAggregatedIssues.textContent = '0';\n        const header = document.createElement('div');\n        const title = document.createElement('div');\n        header.classList.add('header');\n        title.classList.add('title');\n        title.textContent = i18nString(UIStrings.hiddenIssues);\n        header.appendChild(countAdorner);\n        header.appendChild(title);\n        header.appendChild(unhideAllIssuesBtn);\n        this.listItemElement.appendChild(header);\n    }\n    update(count) {\n        this.#numHiddenAggregatedIssues.textContent = `${count}`;\n    }\n}\n//# sourceMappingURL=HiddenIssuesRow.js.map","// Copyright 2024 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n// IMPORTANT: this file is auto generated. Please do not edit this file.\n/* istanbul ignore file */\nconst styles = new CSSStyleSheet();\nstyles.replaceSync(\n`/*\n * Copyright 2021 The Chromium Authors. All rights reserved.\n * Use of this source code is governed by a BSD-style license that can be\n * found in the LICENSE file.\n */\n\n.element-reveal-icon {\n  display: inline-block;\n  width: 20px;\n  height: 20px;\n  mask-image: var(--image-file-select-element);\n  background-color: var(--icon-default);\n}\n\n/*# sourceURL=./elementsPanelLink.css */\n`);\n\nexport default styles;\n","// Copyright 2020 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\nimport * as LitHtml from '../../../ui/lit-html/lit-html.js';\nimport * as VisualLogging from '../../../ui/visual_logging/visual_logging.js';\nimport elementsPanelLinkStyles from './elementsPanelLink.css.js';\nconst { html } = LitHtml;\nexport class ElementsPanelLink extends HTMLElement {\n    #shadow = this.attachShadow({ mode: 'open' });\n    #onElementRevealIconClick = () => { };\n    #onElementRevealIconMouseEnter = () => { };\n    #onElementRevealIconMouseLeave = () => { };\n    set data(data) {\n        this.#onElementRevealIconClick = data.onElementRevealIconClick;\n        this.#onElementRevealIconMouseEnter = data.onElementRevealIconMouseEnter;\n        this.#onElementRevealIconMouseLeave = data.onElementRevealIconMouseLeave;\n        this.#update();\n    }\n    #update() {\n        this.#render();\n    }\n    connectedCallback() {\n        this.#shadow.adoptedStyleSheets = [elementsPanelLinkStyles];\n    }\n    #render() {\n        // clang-format off\n        LitHtml.render(html `\n      <span\n        class=\"element-reveal-icon\"\n        jslog=${VisualLogging.link('elements-panel').track({ click: true })}\n        @click=${this.#onElementRevealIconClick}\n        @mouseenter=${this.#onElementRevealIconMouseEnter}\n        @mouseleave=${this.#onElementRevealIconMouseLeave}></span>\n      `, this.#shadow, { host: this });\n        // clang-format on\n    }\n}\ncustomElements.define('devtools-elements-panel-link', ElementsPanelLink);\n//# sourceMappingURL=ElementsPanelLink.js.map","// Copyright 2024 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n// IMPORTANT: this file is auto generated. Please do not edit this file.\n/* istanbul ignore file */\nconst styles = new CSSStyleSheet();\nstyles.replaceSync(\n`/*\n * Copyright 2021 The Chromium Authors. All rights reserved.\n * Use of this source code is governed by a BSD-style license that can be\n * found in the LICENSE file.\n */\n\n.hide-issues-menu-btn {\n  position: relative;\n  display: flex;\n  background-color: transparent;\n  flex: none;\n  align-items: center;\n  justify-content: center;\n  padding: 0;\n  margin: 0 -2px 0 4px;\n  overflow: hidden;\n  border-radius: 0;\n  border: none;\n\n  &:hover > devtools-icon {\n    color: var(--icon-default-hover);\n  }\n}\n\n/*# sourceURL=./hideIssuesMenu.css */\n`);\n\nexport default styles;\n","// Copyright 2021 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\nimport * as Common from '../../../core/common/common.js';\nimport * as i18n from '../../../core/i18n/i18n.js';\nimport * as Buttons from '../../../ui/components/buttons/buttons.js';\nimport * as UI from '../../../ui/legacy/legacy.js';\nimport * as LitHtml from '../../../ui/lit-html/lit-html.js';\nimport hideIssuesMenuStyles from './hideIssuesMenu.css.js';\nconst { html } = LitHtml;\nconst UIStrings = {\n    /**\n     *@description Title for the tooltip of the (3 dots) Hide Issues menu icon.\n     */\n    tooltipTitle: 'Hide issues',\n};\nconst str_ = i18n.i18n.registerUIStrings('panels/issues/components/HideIssuesMenu.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\nexport class HideIssuesMenu extends HTMLElement {\n    #shadow = this.attachShadow({ mode: 'open' });\n    #menuItemLabel = Common.UIString.LocalizedEmptyString;\n    #menuItemAction = () => { };\n    set data(data) {\n        this.#menuItemLabel = data.menuItemLabel;\n        this.#menuItemAction = data.menuItemAction;\n        this.#render();\n    }\n    connectedCallback() {\n        this.#shadow.adoptedStyleSheets = [hideIssuesMenuStyles];\n    }\n    onMenuOpen(event) {\n        event.stopPropagation();\n        const buttonElement = this.#shadow.querySelector('button');\n        const contextMenu = new UI.ContextMenu.ContextMenu(event, {\n            x: buttonElement?.getBoundingClientRect().left,\n            y: buttonElement?.getBoundingClientRect().bottom,\n        });\n        contextMenu.headerSection().appendItem(this.#menuItemLabel, () => this.#menuItemAction(), { jslogContext: 'toggle-similar-issues' });\n        void contextMenu.show();\n    }\n    #render() {\n        // Disabled until https://crbug.com/1079231 is fixed.\n        // clang-format off\n        LitHtml.render(html `\n    <devtools-button\n      .data=${{ variant: \"icon\" /* Buttons.Button.Variant.ICON */, iconName: 'dots-vertical', title: i18nString(UIStrings.tooltipTitle) }}\n      .jslogContext=${'hide-issues'}\n      class=\"hide-issues-menu-btn\"\n      @click=${this.onMenuOpen.bind(this)}></devtools-button>\n    `, this.#shadow, { host: this });\n    }\n}\ncustomElements.define('devtools-hide-issues-menu', HideIssuesMenu);\n//# sourceMappingURL=HideIssuesMenu.js.map","// Copyright 2021 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\nimport * as Common from '../../core/common/common.js';\nimport * as i18n from '../../core/i18n/i18n.js';\nimport * as IssuesManager from '../../models/issues_manager/issues_manager.js';\nimport * as Adorners from '../../ui/components/adorners/adorners.js';\nimport * as IconButton from '../../ui/components/icon_button/icon_button.js';\nimport * as IssueCounter from '../../ui/components/issue_counter/issue_counter.js';\nimport * as UI from '../../ui/legacy/legacy.js';\nimport * as Components from './components/components.js';\nconst UIStrings = {\n    /**\n     * @description Menu entry for hiding all current Page Errors.\n     */\n    hideAllCurrentPageErrors: 'Hide all current Page Errors',\n    /**\n     * @description Menu entry for hiding all current Breaking Changes.\n     */\n    hideAllCurrentBreakingChanges: 'Hide all current Breaking Changes',\n    /**\n     * @description Menu entry for hiding all current Page Errors.\n     */\n    hideAllCurrentImprovements: 'Hide all current Improvements',\n};\nconst str_ = i18n.i18n.registerUIStrings('panels/issues/IssueKindView.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\nexport function getGroupIssuesByKindSetting() {\n    return Common.Settings.Settings.instance().createSetting('group-issues-by-kind', false);\n}\nexport function issueKindViewSortPriority(a, b) {\n    if (a.getKind() === b.getKind()) {\n        return 0;\n    }\n    if (a.getKind() === \"PageError\" /* IssuesManager.Issue.IssueKind.PAGE_ERROR */) {\n        return -1;\n    }\n    if (a.getKind() === \"BreakingChange\" /* IssuesManager.Issue.IssueKind.BREAKING_CHANGE */ &&\n        b.getKind() === \"Improvement\" /* IssuesManager.Issue.IssueKind.IMPROVEMENT */) {\n        return -1;\n    }\n    return 1;\n}\nexport function getClassNameFromKind(kind) {\n    switch (kind) {\n        case \"BreakingChange\" /* IssuesManager.Issue.IssueKind.BREAKING_CHANGE */:\n            return 'breaking-changes';\n        case \"Improvement\" /* IssuesManager.Issue.IssueKind.IMPROVEMENT */:\n            return 'improvements';\n        case \"PageError\" /* IssuesManager.Issue.IssueKind.PAGE_ERROR */:\n            return 'page-errors';\n    }\n}\nexport class IssueKindView extends UI.TreeOutline.TreeElement {\n    #kind;\n    #issueCount;\n    constructor(kind) {\n        super(undefined, true);\n        this.#kind = kind;\n        this.#issueCount = document.createElement('span');\n        this.toggleOnClick = true;\n        this.listItemElement.classList.add('issue-kind');\n        this.listItemElement.classList.add(getClassNameFromKind(kind));\n        this.childrenListElement.classList.add('issue-kind-body');\n    }\n    getKind() {\n        return this.#kind;\n    }\n    getHideAllCurrentKindString() {\n        switch (this.#kind) {\n            case \"PageError\" /* IssuesManager.Issue.IssueKind.PAGE_ERROR */:\n                return i18nString(UIStrings.hideAllCurrentPageErrors);\n            case \"Improvement\" /* IssuesManager.Issue.IssueKind.IMPROVEMENT */:\n                return i18nString(UIStrings.hideAllCurrentImprovements);\n            case \"BreakingChange\" /* IssuesManager.Issue.IssueKind.BREAKING_CHANGE */:\n                return i18nString(UIStrings.hideAllCurrentBreakingChanges);\n        }\n    }\n    #appendHeader() {\n        const header = document.createElement('div');\n        header.classList.add('header');\n        const issueKindIcon = new IconButton.Icon.Icon();\n        issueKindIcon.data = IssueCounter.IssueCounter.getIssueKindIconData(this.#kind);\n        issueKindIcon.classList.add('leading-issue-icon');\n        const countAdorner = new Adorners.Adorner.Adorner();\n        countAdorner.data = {\n            name: 'countWrapper',\n            content: this.#issueCount,\n        };\n        countAdorner.classList.add('aggregated-issues-count');\n        this.#issueCount.textContent = '0';\n        const title = document.createElement('div');\n        title.classList.add('title');\n        title.textContent = IssuesManager.Issue.getIssueKindName(this.#kind);\n        const hideAvailableIssuesBtn = new Components.HideIssuesMenu.HideIssuesMenu();\n        hideAvailableIssuesBtn.classList.add('hide-available-issues');\n        hideAvailableIssuesBtn.data = {\n            menuItemLabel: this.getHideAllCurrentKindString(),\n            menuItemAction: () => {\n                const setting = IssuesManager.IssuesManager.getHideIssueByCodeSetting();\n                const values = setting.get();\n                for (const issue of IssuesManager.IssuesManager.IssuesManager.instance().issues()) {\n                    if (issue.getKind() === this.#kind) {\n                        values[issue.code()] = \"Hidden\" /* IssuesManager.IssuesManager.IssueStatus.HIDDEN */;\n                    }\n                }\n                setting.set(values);\n            },\n        };\n        header.appendChild(issueKindIcon);\n        header.appendChild(countAdorner);\n        header.appendChild(title);\n        header.appendChild(hideAvailableIssuesBtn);\n        this.listItemElement.appendChild(header);\n    }\n    onattach() {\n        this.#appendHeader();\n        this.expand();\n    }\n    update(count) {\n        this.#issueCount.textContent = `${count}`;\n    }\n}\n//# sourceMappingURL=IssueKindView.js.map","// Copyright 2024 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n// IMPORTANT: this file is auto generated. Please do not edit this file.\n/* istanbul ignore file */\nconst styles = new CSSStyleSheet();\nstyles.replaceSync(\n`/*\n * Copyright (c) 2020 The Chromium Authors. All rights reserved.\n * Use of this source code is governed by a BSD-style license that can be\n * found in the LICENSE file.\n */\n\n.issues-pane {\n  overflow: hidden;\n}\n\n.issues-pane-no-issues {\n  align-items: center;\n  background-color: var(--sys-color-cdt-base-container);\n  display: flex;\n  flex: 1 1 auto;\n  font-size: 14px;\n  justify-content: center;\n  padding: 30px;\n}\n\n.issues-toolbar-container {\n  display: flex;\n  flex: none;\n}\n\n.issues-toolbar-container > .toolbar {\n  background-color: var(--sys-color-cdt-base-container);\n  border-bottom: 1px solid var(--sys-color-divider);\n}\n\n.issues-toolbar-left {\n  flex: 1 1 auto;\n}\n\n.issues-toolbar-right {\n  padding-right: 6px;\n}\n\n/*# sourceURL=issuesPane.css */\n`);\n\nexport default styles;\n","// Copyright 2024 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n// IMPORTANT: this file is auto generated. Please do not edit this file.\n/* istanbul ignore file */\nconst styles = new CSSStyleSheet();\nstyles.replaceSync(\n`/*\n * Copyright (c) 2020 The Chromium Authors. All rights reserved.\n * Use of this source code is governed by a BSD-style license that can be\n * found in the LICENSE file.\n */\n\n/* Remove container padding from TreeOutline.\n * Allows issues to touch the edges of the container. */\n:host,\n.issues {\n  padding: 0;\n  overflow: auto;\n}\n\n.issues {\n  --issue-indent: 8px;\n}\n\n/* Override whitespace behavior for tree items to allow wrapping */\n.issues li {\n  white-space: normal;\n  align-items: flex-start;\n  min-height: var(--sys-size-13);\n}\n\n/* Hide toggle for tree items which cannot be collapsed */\n.issues .always-parent::before {\n  display: none;\n}\n\n.issues li.parent::before {\n  margin-top: 10px;\n}\n\n.issues .affected-resources li.parent::before {\n  margin-top: 3px;\n  margin-right: 0;\n}\n\n.issue-category,\n.issue-kind,\n.issue {\n  padding: 0 8px;\n  padding-left: var(--issue-indent);\n  overflow: hidden;\n  flex: none;\n  transition: background-color 200ms;\n  border: 1px solid var(--sys-color-divider);\n  border-width: 0 0 1px;\n}\n\n.issue-category.hidden-issues.parent.expanded,\n.issue-kind.parent.expanded {\n  border-width: 0 0 1px;\n  background-color: var(--sys-color-surface2);\n}\n\n.issue-category + .children .issue,\n.issue.expanded {\n  background: var(--sys-color-cdt-base-container);\n}\n\n.issue.expanded {\n  border-width: 0;\n}\n\n.issue.selected,\n.issue.expanded.selected {\n  background-color: var(--sys-color-surface2);\n\n  &:focus {\n    background-color: var(--sys-color-tonal-container);\n  }\n}\n\n.tree-outline li:not(.selected):hover .selection {\n  background-color: unset;\n}\n\n.tree-outline li.issue:not(.expanded):not(.selected):hover .selection {\n  background-color: var(--sys-color-state-hover-on-subtle);\n}\n\n.tree-outline li.issue.expanded:not(.selected):hover {\n  background-color: var(--sys-color-state-hover-on-subtle);\n}\n\n.unhide-all-issues-button {\n  margin: 0;\n}\n\np {\n  margin-block-start: 2px;\n  margin-block-end: 2px;\n}\n\n/* Override selected tree item styles for issues to avoid changing width. */\n.tree-outline-disclosure:not(.tree-outline-disclosure-hide-overflow) .tree-outline.hide-selection-when-blurred .issue-category.selected:focus-visible,\n.tree-outline-disclosure:not(.tree-outline-disclosure-hide-overflow) .tree-outline.hide-selection-when-blurred .issue-kind.selected:focus-visible,\n.tree-outline-disclosure:not(.tree-outline-disclosure-hide-overflow) .tree-outline.hide-selection-when-blurred .issue.selected:focus-visible {\n  width: auto;\n  padding-right: 8px;\n}\n\n.header {\n  display: flex;\n  flex-direction: row;\n  align-items: flex-start;\n  padding: 4px 0;\n  cursor: pointer;\n  width: 100%;\n\n  & > :not(.unhide-all-issues-button) {\n    margin-top: var(--sys-size-2);\n  }\n}\n\n.header devtools-hide-issues-menu {\n  visibility: hidden;\n}\n\n.header:hover devtools-hide-issues-menu,\n.issue.selected devtools-hide-issues-menu {\n  visibility: visible;\n}\n\n.title {\n  flex: 1;\n  font-size: 12px;\n  color: var(--sys-color-on-surface);\n  font-weight: normal;\n  user-select: text;\n  padding-top: 2px;\n}\n\n.issue.expanded .title {\n  font-weight: 450;\n}\n\n.issue-body.children {\n  border-bottom: 1px solid var(--sys-color-divider);\n  padding: 6px 0;\n  position: relative;\n  padding-left: calc(var(--issue-indent) + 43px);\n  padding-bottom: 26px;\n  padding-right: 8px;\n}\n\n.issue-category + .children,\n.issue-kind + .children {\n  --issue-indent: 24px;\n\n  padding-left: 0;\n}\n\n/* Show a colored border on the left side of opened issues. */\n.issue-body::before {\n  content: \"\";\n  display: block;\n  position: absolute;\n  left: calc(var(--issue-indent) + 23px);\n  top: 0;\n  bottom: 20px;\n  width: 2px;\n}\n\n.issue-kind-breaking-change.issue-body::before {\n  border-left: 2px solid var(--issue-color-yellow);\n}\n\n.issue-kind-page-error.issue-body::before {\n  border-left: 2px solid var(--issue-color-red);\n}\n\n.issue-kind-improvement.issue-body::before {\n  border-left: 2px solid var(--issue-color-blue);\n}\n\n.tree-outline .issue-body li:hover:not(:has(span[is=\"dt-checkbox\"])) .selection {\n  background-color: unset;\n}\n\ndevtools-icon.leading-issue-icon {\n  margin: 1px 0 -1px 7px;\n}\n\n.message {\n  line-height: 18px;\n  font-size: 12px;\n  color: var(--sys-color-token-subtle);\n  margin-bottom: 4px;\n  user-select: text;\n}\n\n.message p {\n  margin-bottom: 16px;\n}\n\n.message li {\n  margin-top: 8px;\n}\n\n.message code {\n  color: var(--sys-color-on-surface);\n  padding: 0 2px;\n  font-size: 12px;\n  user-select: text;\n  cursor: text;\n  background: var(--sys-color-surface2);\n}\n\n.separator::before {\n  content: \"·\";\n  padding-left: 1ex;\n  padding-right: 1ex;\n}\n\n.link {\n  font-size: 12px;\n  color: var(--sys-color-primary);\n}\n\n.link-wrapper {\n  margin-top: 15px;\n  user-select: text;\n}\n\n.affected-resources-label,\n.resolutions-label {\n  margin-top: 5px;\n  font-size: 10px;\n  font-weight: 500;\n  letter-spacing: 0.06em;\n  text-transform: uppercase;\n  color: var(--sys-color-on-surface);\n  display: inline-block;\n}\n\n.link-list {\n  list-style-type: none;\n  list-style-position: inside;\n  padding-inline-start: 0;\n}\n\n.resolutions-list {\n  list-style-type: none;\n  list-style-position: inside;\n  padding-inline-start: 0;\n}\n\n/* We inherit all the styles from treeoutline, but these are simple text <li>, so we override some styles */\n.link-list li::before {\n  content: none;\n  mask-image: none;\n}\n\n.resolutions-list li::before {\n  content: \"→\";\n  mask-image: none;\n  padding-right: 5px;\n  position: relative;\n  top: -1px;\n}\n\n.resolutions-list li {\n  display: list-item;\n}\n\nul > li.plain-enum {\n  display: list-item;\n}\n\n/* This is a hack because the tree view's CSS overrides list styling in a non-compositional way. This\n   can be removed once we've moved to proper components. */\nul > li.plain-enum::before {\n  content: \"\";\n  padding: 0;\n  margin: 0;\n  max-width: 0;\n}\n\n.affected-resources-label + .affected-resources {\n  padding: 3px 0 0;\n  position: relative;\n  user-select: text;\n}\n\n.affected-resource-label {\n  font-size: 12px;\n  line-height: 18px;\n  color: var(--sys-color-on-surface);\n  position: relative;\n  cursor: pointer;\n}\n\n.affected-resource-cookie {\n  font-size: 12px;\n  line-height: 18px;\n  border: 0;\n  border-collapse: collapse;\n}\n\n.affected-resource-element {\n  font-size: 12px;\n  line-height: 18px;\n  color: var(--sys-color-primary);\n  border: 0;\n  border-collapse: collapse;\n}\n\n.affected-resource-row {\n  font-size: 12px;\n  line-height: 18px;\n  border: 0;\n  border-collapse: collapse;\n  vertical-align: top;\n}\n\n.affected-resource-mixed-content {\n  font-size: 12px;\n  line-height: 18px;\n  border: 0;\n  border-collapse: collapse;\n}\n\n.affected-resource-heavy-ad {\n  font-size: 12px;\n  line-height: 18px;\n  border: 0;\n  border-collapse: collapse;\n}\n\n.affected-resource-request {\n  font-size: 12px;\n  line-height: 18px;\n  border: 0;\n  border-collapse: collapse;\n}\n\n.affected-resource-source {\n  font-size: 12px;\n  line-height: 18px;\n  color: var(--sys-color-primary);\n  border: 0;\n  border-collapse: collapse;\n}\n\n.affected-resource-list {\n  border-spacing: 10px 0;\n  margin-left: -12px;\n}\n\n.affected-resource-header {\n  font-size: 12px;\n  color: var(--sys-color-on-surface);\n  padding-left: 2px;\n}\n\n.code-example {\n  font-family: var(--monospace-font-family);\n  font-size: var(--monospace-font-size);\n}\n\n.affected-resource-blocked-status {\n  color: var(--issue-color-red);\n}\n\n.affected-resource-report-only-status {\n  color: var(--issue-color-yellow);\n}\n\n.affected-resource-cookie-info {\n  color: var(--sys-color-token-subtle);\n  padding: 2px;\n  text-align: right;\n}\n\n.affected-resource-cookie-info-header {\n  text-align: right;\n}\n\n.affected-resource-mixed-content-info {\n  color: var(--sys-color-token-subtle);\n  padding: 2px;\n}\n\n.affected-resource-heavy-ad-info {\n  color: var(--sys-color-token-subtle);\n  padding: 2px;\n}\n\n.affected-resource-heavy-ad-info-frame {\n  display: flex;\n  align-items: center;\n  color: var(--sys-color-token-subtle);\n  padding: 2px;\n}\n\n.affected-resource-cell {\n  color: var(--sys-color-token-subtle);\n  padding: 2px;\n}\n\n.affected-resource-cell.link {\n  color: var(--sys-color-primary);\n}\n\n.affected-resource-cell span.icon {\n  margin-right: 0.5ex;\n  vertical-align: sub;\n}\n\n.affected-resources > .parent {\n  margin-top: 0;\n  padding: 2px 5px 0;\n}\n\n.affected-resources > .parent.expanded {\n  background: var(--sys-color-cdt-base-container);\n}\n\n.affected-resources > .children.expanded {\n  background: var(--sys-color-cdt-base-container);\n  padding: 6px 0 9px 5px;\n}\n\n.aggregated-issues-count {\n  padding: 3px 7px 0;\n}\n\n.affected-resource-directive-info-header {\n  text-align: left;\n}\n\n.affected-resource-directive {\n  font-size: 12px;\n  line-height: 18px;\n  border: 0;\n  border-collapse: collapse;\n}\n\n.affected-resource-directive-info {\n  color: var(--sys-color-token-subtle);\n  padding: 2px;\n  text-align: left;\n}\n\n.devtools-link {\n  padding-top: 4px;\n}\n\ndevtools-icon.link-icon {\n  vertical-align: sub;\n  margin-right: 0.5ch;\n}\n\ndevtools-icon.elements-panel,\ndevtools-icon.network-panel {\n  margin-right: 0.5ex;\n  vertical-align: baseline;\n  height: 14px;\n}\n\n@media (forced-colors: active) {\n  .title {\n    color: ButtonText;\n  }\n\n  .tree-outline:not(.hide-selection-when-blurred) .selected .header .title,\n  .tree-outline.hide-selection-when-blurred .selected:focus-visible .header .title {\n    color: HighlightText;\n  }\n}\n\n/*# sourceURL=issuesTree.css */\n`);\n\nexport default styles;\n","// Copyright 2020 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\nimport * as Common from '../../core/common/common.js';\nimport * as Host from '../../core/host/host.js';\nimport * as i18n from '../../core/i18n/i18n.js';\nimport * as SDK from '../../core/sdk/sdk.js';\nimport * as Logs from '../../models/logs/logs.js';\nimport * as IconButton from '../../ui/components/icon_button/icon_button.js';\nimport * as RequestLinkIcon from '../../ui/components/request_link_icon/request_link_icon.js';\nimport * as Components from '../../ui/legacy/components/utils/utils.js';\nimport * as UI from '../../ui/legacy/legacy.js';\nimport * as VisualLogging from '../../ui/visual_logging/visual_logging.js';\nconst UIStrings = {\n    /**\n     *@description Text in Object Properties Section\n     */\n    unknown: 'unknown',\n    /**\n     *@description Tooltip for button linking to the Elements panel\n     */\n    clickToRevealTheFramesDomNodeIn: 'Click to reveal the frame\\'s DOM node in the Elements panel',\n    /**\n     *@description Replacement text for a link to an HTML element which is not available (anymore).\n     */\n    unavailable: 'unavailable',\n};\nconst str_ = i18n.i18n.registerUIStrings('panels/issues/AffectedResourcesView.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\nexport const extractShortPath = (path) => {\n    // 1st regex matches everything after last '/'\n    // if path ends with '/', 2nd regex returns everything between the last two '/'\n    return (/[^/]+$/.exec(path) || /[^/]+\\/$/.exec(path) || [''])[0];\n};\n/**\n * The base class for all affected resource views. It provides basic scaffolding\n * as well as machinery for resolving request and frame ids to SDK objects.\n */\nexport class AffectedResourcesView extends UI.TreeOutline.TreeElement {\n    #parentView;\n    issue;\n    affectedResourcesCountElement;\n    affectedResources;\n    #affectedResourcesCount;\n    #frameListeners;\n    #unresolvedFrameIds;\n    requestResolver;\n    constructor(parent, issue, jslogContext) {\n        super(/* title */ undefined, /* expandable */ undefined, jslogContext);\n        this.#parentView = parent;\n        this.issue = issue;\n        this.toggleOnClick = true;\n        this.affectedResourcesCountElement = this.createAffectedResourcesCounter();\n        this.affectedResources = this.createAffectedResources();\n        this.#affectedResourcesCount = 0;\n        this.requestResolver = new Logs.RequestResolver.RequestResolver();\n        this.#frameListeners = [];\n        this.#unresolvedFrameIds = new Set();\n    }\n    /**\n     * Sets the issue to take the resources from. Does not\n     * trigger an update, the caller needs to do that explicitly.\n     */\n    setIssue(issue) {\n        this.issue = issue;\n    }\n    createAffectedResourcesCounter() {\n        const counterLabel = document.createElement('div');\n        counterLabel.classList.add('affected-resource-label');\n        this.listItemElement.appendChild(counterLabel);\n        return counterLabel;\n    }\n    createAffectedResources() {\n        const body = new UI.TreeOutline.TreeElement();\n        const affectedResources = document.createElement('table');\n        affectedResources.classList.add('affected-resource-list');\n        body.listItemElement.appendChild(affectedResources);\n        this.appendChild(body);\n        return affectedResources;\n    }\n    updateAffectedResourceCount(count) {\n        this.#affectedResourcesCount = count;\n        this.affectedResourcesCountElement.textContent = this.getResourceNameWithCount(count);\n        this.hidden = this.#affectedResourcesCount === 0;\n        this.#parentView.updateAffectedResourceVisibility();\n    }\n    isEmpty() {\n        return this.#affectedResourcesCount === 0;\n    }\n    clear() {\n        this.affectedResources.textContent = '';\n        this.requestResolver.clear();\n    }\n    expandIfOneResource() {\n        if (this.#affectedResourcesCount === 1) {\n            this.expand();\n        }\n    }\n    /**\n     * This function resolves a frameId to a ResourceTreeFrame. If the frameId does not resolve, or hasn't navigated yet,\n     * a listener is installed that takes care of updating the view if the frame is added. This is useful if the issue is\n     * added before the frame gets reported.\n     */\n    #resolveFrameId(frameId) {\n        const frame = SDK.FrameManager.FrameManager.instance().getFrame(frameId);\n        if (!frame || !frame.url) {\n            this.#unresolvedFrameIds.add(frameId);\n            if (!this.#frameListeners.length) {\n                const addListener = SDK.FrameManager.FrameManager.instance().addEventListener(\"FrameAddedToTarget\" /* SDK.FrameManager.Events.FRAME_ADDED_TO_TARGET */, this.#onFrameChanged, this);\n                const navigateListener = SDK.FrameManager.FrameManager.instance().addEventListener(\"FrameNavigated\" /* SDK.FrameManager.Events.FRAME_NAVIGATED */, this.#onFrameChanged, this);\n                this.#frameListeners = [addListener, navigateListener];\n            }\n        }\n        return frame;\n    }\n    #onFrameChanged(event) {\n        const frame = event.data.frame;\n        if (!frame.url) {\n            return;\n        }\n        const frameWasUnresolved = this.#unresolvedFrameIds.delete(frame.id);\n        if (this.#unresolvedFrameIds.size === 0 && this.#frameListeners.length) {\n            // Stop listening once all requests are resolved.\n            Common.EventTarget.removeEventListeners(this.#frameListeners);\n            this.#frameListeners = [];\n        }\n        if (frameWasUnresolved) {\n            this.update();\n        }\n    }\n    createFrameCell(frameId, issueCategory) {\n        const frame = this.#resolveFrameId(frameId);\n        const url = frame && (frame.unreachableUrl() || frame.url) || i18nString(UIStrings.unknown);\n        const frameCell = document.createElement('td');\n        frameCell.classList.add('affected-resource-cell');\n        if (frame) {\n            const icon = new IconButton.Icon.Icon();\n            icon.data = { iconName: 'code-circle', color: 'var(--icon-link)', width: '16px', height: '16px' };\n            icon.classList.add('link', 'elements-panel');\n            icon.onclick = async () => {\n                Host.userMetrics.issuesPanelResourceOpened(issueCategory, \"Element\" /* AffectedItem.ELEMENT */);\n                const frame = SDK.FrameManager.FrameManager.instance().getFrame(frameId);\n                if (frame) {\n                    const ownerNode = await frame.getOwnerDOMNodeOrDocument();\n                    if (ownerNode) {\n                        void Common.Revealer.reveal(ownerNode);\n                    }\n                }\n            };\n            icon.title = i18nString(UIStrings.clickToRevealTheFramesDomNodeIn);\n            frameCell.appendChild(icon);\n        }\n        frameCell.appendChild(document.createTextNode(url));\n        frameCell.onmouseenter = () => {\n            const frame = SDK.FrameManager.FrameManager.instance().getFrame(frameId);\n            if (frame) {\n                void frame.highlight();\n            }\n        };\n        frameCell.onmouseleave = () => SDK.OverlayModel.OverlayModel.hideDOMNodeHighlight();\n        return frameCell;\n    }\n    createRequestCell(affectedRequest, options = {}) {\n        const requestCell = document.createElement('td');\n        requestCell.classList.add('affected-resource-cell');\n        const requestLinkIcon = new RequestLinkIcon.RequestLinkIcon.RequestLinkIcon();\n        requestLinkIcon.data = { ...options, affectedRequest, requestResolver: this.requestResolver, displayURL: true };\n        requestCell.appendChild(requestLinkIcon);\n        return requestCell;\n    }\n    async createElementCell({ backendNodeId, nodeName, target }, issueCategory) {\n        if (!target) {\n            const cellElement = document.createElement('td');\n            cellElement.textContent = nodeName || i18nString(UIStrings.unavailable);\n            return cellElement;\n        }\n        function sendTelemetry() {\n            Host.userMetrics.issuesPanelResourceOpened(issueCategory, \"Element\" /* AffectedItem.ELEMENT */);\n        }\n        const deferredDOMNode = new SDK.DOMModel.DeferredDOMNode(target, backendNodeId);\n        const anchorElement = (await Common.Linkifier.Linkifier.linkify(deferredDOMNode));\n        anchorElement.textContent = nodeName;\n        anchorElement.addEventListener('click', () => sendTelemetry());\n        anchorElement.addEventListener('keydown', (event) => {\n            if (event.key === 'Enter') {\n                sendTelemetry();\n            }\n        });\n        const cellElement = document.createElement('td');\n        cellElement.classList.add('affected-resource-element', 'devtools-link');\n        cellElement.appendChild(anchorElement);\n        return cellElement;\n    }\n    appendSourceLocation(element, sourceLocation, target) {\n        const sourceCodeLocation = document.createElement('td');\n        sourceCodeLocation.classList.add('affected-source-location');\n        if (sourceLocation) {\n            const maxLengthForDisplayedURLs = 40; // Same as console messages.\n            // TODO(crbug.com/1108503): Add some mechanism to be able to add telemetry to this element.\n            const linkifier = new Components.Linkifier.Linkifier(maxLengthForDisplayedURLs);\n            const sourceAnchor = linkifier.linkifyScriptLocation(target || null, sourceLocation.scriptId || null, sourceLocation.url, sourceLocation.lineNumber, { columnNumber: sourceLocation.columnNumber, inlineFrameIndex: 0 });\n            sourceAnchor.setAttribute('jslog', `${VisualLogging.link('source-location').track({ click: true })}`);\n            sourceCodeLocation.appendChild(sourceAnchor);\n        }\n        element.appendChild(sourceCodeLocation);\n    }\n    appendColumnTitle(header, title, additionalClass = null) {\n        const info = document.createElement('td');\n        info.classList.add('affected-resource-header');\n        if (additionalClass) {\n            info.classList.add(additionalClass);\n        }\n        info.textContent = title;\n        header.appendChild(info);\n    }\n    createIssueDetailCell(textContent, additionalClass = null) {\n        const cell = document.createElement('td');\n        if (typeof textContent === 'string') {\n            cell.textContent = textContent;\n        }\n        else {\n            cell.appendChild(textContent);\n        }\n        if (additionalClass) {\n            cell.classList.add(additionalClass);\n        }\n        return cell;\n    }\n    appendIssueDetailCell(element, textContent, additionalClass = null) {\n        const cell = this.createIssueDetailCell(textContent, additionalClass);\n        element.appendChild(cell);\n        return cell;\n    }\n}\n//# sourceMappingURL=AffectedResourcesView.js.map","// Copyright 2021 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\nimport * as i18n from '../../core/i18n/i18n.js';\nimport * as IssuesManager from '../../models/issues_manager/issues_manager.js';\nimport * as Host from '../../core/host/host.js';\nimport { AffectedResourcesView } from './AffectedResourcesView.js';\nconst UIStrings = {\n    /**\n     *@description Noun for singular or plural network requests. Label for the affected resources section in the issue view.\n     */\n    nRequests: '{n, plural, =1 {# request} other {# requests}}',\n    /**\n     *@description Noun for a singular network request. Label for a column in the affected resources table in the issue view.\n     */\n    requestC: 'Request',\n    /**\n     *@description Noun for a singular parent frame. Label for a column in the affected resources table in the issue view.\n     */\n    parentFrame: 'Parent Frame',\n    /**\n     *@description Noun for a singular resource that was blocked (an example for a blocked resource would be a frame). Label for a column in the affected resources table in the issue view.\n     */\n    blockedResource: 'Blocked Resource',\n};\nconst str_ = i18n.i18n.registerUIStrings('panels/issues/AffectedBlockedByResponseView.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\nexport class AffectedBlockedByResponseView extends AffectedResourcesView {\n    #appendDetails(details) {\n        const header = document.createElement('tr');\n        this.appendColumnTitle(header, i18nString(UIStrings.requestC));\n        this.appendColumnTitle(header, i18nString(UIStrings.parentFrame));\n        this.appendColumnTitle(header, i18nString(UIStrings.blockedResource));\n        this.affectedResources.appendChild(header);\n        let count = 0;\n        for (const detail of details) {\n            this.#appendDetail(detail);\n            count++;\n        }\n        this.updateAffectedResourceCount(count);\n    }\n    getResourceNameWithCount(count) {\n        return i18nString(UIStrings.nRequests, { n: count });\n    }\n    #appendDetail(details) {\n        const element = document.createElement('tr');\n        element.classList.add('affected-resource-row');\n        const requestCell = this.createRequestCell(details.request, {\n            additionalOnClickAction() {\n                Host.userMetrics.issuesPanelResourceOpened(\"CrossOriginEmbedderPolicy\" /* IssuesManager.Issue.IssueCategory.CROSS_ORIGIN_EMBEDDER_POLICY */, \"Request\" /* AffectedItem.REQUEST */);\n            },\n        });\n        element.appendChild(requestCell);\n        if (details.parentFrame) {\n            const frameUrl = this.createFrameCell(details.parentFrame.frameId, this.issue.getCategory());\n            element.appendChild(frameUrl);\n        }\n        else {\n            element.appendChild(document.createElement('td'));\n        }\n        if (details.blockedFrame) {\n            const frameUrl = this.createFrameCell(details.blockedFrame.frameId, this.issue.getCategory());\n            element.appendChild(frameUrl);\n        }\n        else {\n            element.appendChild(document.createElement('td'));\n        }\n        this.affectedResources.appendChild(element);\n    }\n    update() {\n        this.clear();\n        this.#appendDetails(this.issue.getBlockedByResponseDetails());\n    }\n}\n//# sourceMappingURL=AffectedBlockedByResponseView.js.map","// Copyright 2021 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\nimport * as Common from '../../core/common/common.js';\nimport * as Host from '../../core/host/host.js';\nimport * as i18n from '../../core/i18n/i18n.js';\nimport * as NetworkForward from '../../panels/network/forward/forward.js';\nimport * as VisualLogging from '../../ui/visual_logging/visual_logging.js';\nimport { AffectedResourcesView } from './AffectedResourcesView.js';\nconst UIStrings = {\n    /**\n     *@description Noun, singular or plural. Label for the kind and number of affected resources associated with a DevTools issue. A cookie is a small piece of data that a server sends to the user's web browser. See https://developer.mozilla.org/en-US/docs/Web/HTTP/Cookies.\n     */\n    nCookies: '{n, plural, =1 {# cookie} other {# cookies}}',\n    /**\n     *@description Noun, singular. Label for a column in a table which lists cookies in the affected resources section of a DevTools issue. Each cookie has a name.\n     */\n    name: 'Name',\n    /**\n     *@description Noun, singular. Label for a column in a table which lists cookies in the affected resources section of a DevTools issue. Cookies may have a 'Domain' attribute: https://developer.mozilla.org/en-US/docs/Web/HTTP/Cookies.#define_where_cookies_are_sent\n     */\n    domain: 'Domain',\n    /**\n     *@description Noun, singular. Label for a column in a table which lists cookies in the affected resources section of a DevTools issue. Cookies may have a 'Path' attribute: https://developer.mozilla.org/en-US/docs/Web/HTTP/Cookies.#define_where_cookies_are_sent\n     */\n    path: 'Path',\n    /**\n     *@description Label for the the number of affected `Set-Cookie` lines associated with a DevTools issue. `Set-Cookie` is a specific header line in an HTTP network request and consists of a single line of text.\n     */\n    nRawCookieLines: '{n, plural, =1 {1 Raw `Set-Cookie` header} other {# Raw `Set-Cookie` headers}}',\n    /**\n     *@description Title for text button in the Issues panel. Clicking the button navigates the user to the Network Panel. `Set-Cookie` is a specific header line in an HTTP network request and consists of a single line of text.\n     */\n    filterSetCookieTitle: 'Show network requests that include this `Set-Cookie` header in the network panel',\n};\nconst str_ = i18n.i18n.registerUIStrings('panels/issues/AffectedCookiesView.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\nexport class AffectedCookiesView extends AffectedResourcesView {\n    getResourceNameWithCount(count) {\n        return i18nString(UIStrings.nCookies, { n: count });\n    }\n    #appendAffectedCookies(cookies) {\n        const header = document.createElement('tr');\n        this.appendColumnTitle(header, i18nString(UIStrings.name));\n        this.appendColumnTitle(header, i18nString(UIStrings.domain) + ' & ' + i18nString(UIStrings.path), 'affected-resource-cookie-info-header');\n        this.affectedResources.appendChild(header);\n        let count = 0;\n        for (const cookie of cookies) {\n            count++;\n            this.#appendAffectedCookie(cookie.cookie, cookie.hasRequest);\n        }\n        this.updateAffectedResourceCount(count);\n    }\n    #appendAffectedCookie(cookie, hasAssociatedRequest) {\n        const element = document.createElement('tr');\n        element.classList.add('affected-resource-cookie');\n        const name = document.createElement('td');\n        if (hasAssociatedRequest) {\n            const link = document.createElement('button');\n            link.classList.add('link', 'devtools-link');\n            link.textContent = cookie.name;\n            link.tabIndex = 0;\n            link.setAttribute('jslog', `${VisualLogging.link('issues.filter-network-requests-by-cookie').track({ click: true })}`);\n            link.addEventListener('click', () => {\n                Host.userMetrics.issuesPanelResourceOpened(this.issue.getCategory(), \"Cookie\" /* AffectedItem.COOKIE */);\n                void Common.Revealer.reveal(NetworkForward.UIFilter.UIRequestFilter.filters([\n                    {\n                        filterType: NetworkForward.UIFilter.FilterType.CookieDomain,\n                        filterValue: cookie.domain,\n                    },\n                    {\n                        filterType: NetworkForward.UIFilter.FilterType.CookieName,\n                        filterValue: cookie.name,\n                    },\n                    {\n                        filterType: NetworkForward.UIFilter.FilterType.CookiePath,\n                        filterValue: cookie.path,\n                    },\n                ]));\n            });\n            name.appendChild(link);\n        }\n        else {\n            name.textContent = cookie.name;\n        }\n        element.appendChild(name);\n        this.appendIssueDetailCell(element, `${cookie.domain}${cookie.path}`, 'affected-resource-cookie-info');\n        this.affectedResources.appendChild(element);\n    }\n    update() {\n        this.clear();\n        this.#appendAffectedCookies(this.issue.cookiesWithRequestIndicator());\n    }\n}\nexport class AffectedRawCookieLinesView extends AffectedResourcesView {\n    getResourceNameWithCount(count) {\n        return i18nString(UIStrings.nRawCookieLines, { n: count });\n    }\n    update() {\n        this.clear();\n        const cookieLinesWithRequestIndicator = this.issue.getRawCookieLines();\n        let count = 0;\n        for (const cookie of cookieLinesWithRequestIndicator) {\n            const row = document.createElement('tr');\n            row.classList.add('affected-resource-directive');\n            if (cookie.hasRequest) {\n                const cookieLine = document.createElement('td');\n                const link = document.createElement('button');\n                link.classList.add('link', 'devtools-link');\n                link.textContent = cookie.rawCookieLine;\n                link.title = i18nString(UIStrings.filterSetCookieTitle);\n                link.tabIndex = 0;\n                link.setAttribute('jslog', `${VisualLogging.link('issues.filter-network-requests-by-raw-cookie').track({ click: true })}`);\n                link.addEventListener('click', () => {\n                    void Common.Revealer.reveal(NetworkForward.UIFilter.UIRequestFilter.filters([\n                        {\n                            filterType: NetworkForward.UIFilter.FilterType.ResponseHeaderValueSetCookie,\n                            filterValue: cookie.rawCookieLine,\n                        },\n                    ]));\n                });\n                cookieLine.appendChild(link);\n                row.appendChild(cookieLine);\n            }\n            else {\n                this.appendIssueDetailCell(row, cookie.rawCookieLine);\n            }\n            this.affectedResources.appendChild(row);\n            count++;\n        }\n        this.updateAffectedResourceCount(count);\n    }\n}\n//# sourceMappingURL=AffectedCookiesView.js.map","// Copyright 2021 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\nimport * as Common from '../../core/common/common.js';\nimport * as Host from '../../core/host/host.js';\nimport * as i18n from '../../core/i18n/i18n.js';\nimport * as Platform from '../../core/platform/platform.js';\nimport * as SDK from '../../core/sdk/sdk.js';\nimport * as IssuesManager from '../../models/issues_manager/issues_manager.js';\nimport * as IssuesComponents from './components/components.js';\nimport { AffectedResourcesView } from './AffectedResourcesView.js';\nconst UIStrings = {\n    /**\n     *@description Singular or plural label for number of affected CSP (content security policy,\n     * see https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP) directives in issue view.\n     */\n    nDirectives: '{n, plural, =1 {# directive} other {# directives}}',\n    /**\n     *@description Indicates that a CSP error should be treated as a warning\n     */\n    reportonly: 'report-only',\n    /**\n     *@description The kind of resolution for a mixed content issue\n     */\n    blocked: 'blocked',\n    /**\n     *@description Tooltip for button linking to the Elements panel\n     */\n    clickToRevealTheViolatingDomNode: 'Click to reveal the violating DOM node in the Elements panel',\n    /**\n     *@description Header for the section listing affected directives\n     */\n    directiveC: 'Directive',\n    /**\n     *@description Label for the column in the element list in the CSS overview report\n     */\n    element: 'Element',\n    /**\n     *@description Header for the source location column\n     */\n    sourceLocation: 'Source location',\n    /**\n     *@description Text for the status of something\n     */\n    status: 'Status',\n    /**\n     *@description Text that refers to the resources of the web page\n     */\n    resourceC: 'Resource',\n};\nconst str_ = i18n.i18n.registerUIStrings('panels/issues/AffectedDirectivesView.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\nexport class AffectedDirectivesView extends AffectedResourcesView {\n    #appendStatus(element, isReportOnly) {\n        const status = document.createElement('td');\n        if (isReportOnly) {\n            status.classList.add('affected-resource-report-only-status');\n            status.textContent = i18nString(UIStrings.reportonly);\n        }\n        else {\n            status.classList.add('affected-resource-blocked-status');\n            status.textContent = i18nString(UIStrings.blocked);\n        }\n        element.appendChild(status);\n    }\n    getResourceNameWithCount(count) {\n        return i18nString(UIStrings.nDirectives, { n: count });\n    }\n    #appendViolatedDirective(element, directive) {\n        const violatedDirective = document.createElement('td');\n        violatedDirective.textContent = directive;\n        element.appendChild(violatedDirective);\n    }\n    #appendBlockedURL(element, url) {\n        const info = document.createElement('td');\n        info.classList.add('affected-resource-directive-info');\n        info.textContent = url;\n        element.appendChild(info);\n    }\n    #appendBlockedElement(element, nodeId, model) {\n        const elementsPanelLinkComponent = new IssuesComponents.ElementsPanelLink.ElementsPanelLink();\n        if (nodeId) {\n            const violatingNodeId = nodeId;\n            elementsPanelLinkComponent.title = i18nString(UIStrings.clickToRevealTheViolatingDomNode);\n            const onElementRevealIconClick = () => {\n                const target = model.getTargetIfNotDisposed();\n                if (target) {\n                    Host.userMetrics.issuesPanelResourceOpened(this.issue.getCategory(), \"Element\" /* AffectedItem.ELEMENT */);\n                    const deferredDOMNode = new SDK.DOMModel.DeferredDOMNode(target, violatingNodeId);\n                    void Common.Revealer.reveal(deferredDOMNode);\n                }\n            };\n            const onElementRevealIconMouseEnter = () => {\n                const target = model.getTargetIfNotDisposed();\n                if (target) {\n                    const deferredDOMNode = new SDK.DOMModel.DeferredDOMNode(target, violatingNodeId);\n                    if (deferredDOMNode) {\n                        deferredDOMNode.highlight();\n                    }\n                }\n            };\n            const onElementRevealIconMouseLeave = () => {\n                SDK.OverlayModel.OverlayModel.hideDOMNodeHighlight();\n            };\n            elementsPanelLinkComponent\n                .data = { onElementRevealIconClick, onElementRevealIconMouseEnter, onElementRevealIconMouseLeave };\n        }\n        const violatingNode = document.createElement('td');\n        violatingNode.classList.add('affected-resource-csp-info-node');\n        violatingNode.appendChild(elementsPanelLinkComponent);\n        element.appendChild(violatingNode);\n    }\n    #appendAffectedContentSecurityPolicyDetails(cspIssues) {\n        const header = document.createElement('tr');\n        if (this.issue.code() === IssuesManager.ContentSecurityPolicyIssue.inlineViolationCode) {\n            this.appendColumnTitle(header, i18nString(UIStrings.directiveC));\n            this.appendColumnTitle(header, i18nString(UIStrings.element));\n            this.appendColumnTitle(header, i18nString(UIStrings.sourceLocation));\n            this.appendColumnTitle(header, i18nString(UIStrings.status));\n        }\n        else if (this.issue.code() === IssuesManager.ContentSecurityPolicyIssue.urlViolationCode) {\n            this.appendColumnTitle(header, i18nString(UIStrings.resourceC), 'affected-resource-directive-info-header');\n            this.appendColumnTitle(header, i18nString(UIStrings.status));\n            this.appendColumnTitle(header, i18nString(UIStrings.directiveC));\n            this.appendColumnTitle(header, i18nString(UIStrings.sourceLocation));\n        }\n        else if (this.issue.code() === IssuesManager.ContentSecurityPolicyIssue.evalViolationCode) {\n            this.appendColumnTitle(header, i18nString(UIStrings.sourceLocation));\n            this.appendColumnTitle(header, i18nString(UIStrings.directiveC));\n            this.appendColumnTitle(header, i18nString(UIStrings.status));\n        }\n        else if (this.issue.code() === IssuesManager.ContentSecurityPolicyIssue.trustedTypesSinkViolationCode) {\n            this.appendColumnTitle(header, i18nString(UIStrings.sourceLocation));\n            this.appendColumnTitle(header, i18nString(UIStrings.status));\n        }\n        else if (this.issue.code() === IssuesManager.ContentSecurityPolicyIssue.trustedTypesPolicyViolationCode) {\n            this.appendColumnTitle(header, i18nString(UIStrings.sourceLocation));\n            this.appendColumnTitle(header, i18nString(UIStrings.directiveC));\n            this.appendColumnTitle(header, i18nString(UIStrings.status));\n        }\n        else {\n            this.updateAffectedResourceCount(0);\n            return;\n        }\n        this.affectedResources.appendChild(header);\n        let count = 0;\n        for (const cspIssue of cspIssues) {\n            count++;\n            this.#appendAffectedContentSecurityPolicyDetail(cspIssue);\n        }\n        this.updateAffectedResourceCount(count);\n    }\n    #appendAffectedContentSecurityPolicyDetail(cspIssue) {\n        const element = document.createElement('tr');\n        element.classList.add('affected-resource-directive');\n        const cspIssueDetails = cspIssue.details();\n        const location = IssuesManager.Issue.toZeroBasedLocation(cspIssueDetails.sourceCodeLocation);\n        const model = cspIssue.model();\n        const maybeTarget = cspIssue.model()?.getTargetIfNotDisposed();\n        if (this.issue.code() === IssuesManager.ContentSecurityPolicyIssue.inlineViolationCode && model) {\n            this.#appendViolatedDirective(element, cspIssueDetails.violatedDirective);\n            this.#appendBlockedElement(element, cspIssueDetails.violatingNodeId, model);\n            this.appendSourceLocation(element, location, maybeTarget);\n            this.#appendStatus(element, cspIssueDetails.isReportOnly);\n        }\n        else if (this.issue.code() === IssuesManager.ContentSecurityPolicyIssue.urlViolationCode) {\n            const url = cspIssueDetails.blockedURL ? cspIssueDetails.blockedURL :\n                Platform.DevToolsPath.EmptyUrlString;\n            this.#appendBlockedURL(element, url);\n            this.#appendStatus(element, cspIssueDetails.isReportOnly);\n            this.#appendViolatedDirective(element, cspIssueDetails.violatedDirective);\n            this.appendSourceLocation(element, location, maybeTarget);\n        }\n        else if (this.issue.code() === IssuesManager.ContentSecurityPolicyIssue.evalViolationCode) {\n            this.appendSourceLocation(element, location, maybeTarget);\n            this.#appendViolatedDirective(element, cspIssueDetails.violatedDirective);\n            this.#appendStatus(element, cspIssueDetails.isReportOnly);\n        }\n        else if (this.issue.code() === IssuesManager.ContentSecurityPolicyIssue.trustedTypesSinkViolationCode) {\n            this.appendSourceLocation(element, location, maybeTarget);\n            this.#appendStatus(element, cspIssueDetails.isReportOnly);\n        }\n        else if (this.issue.code() === IssuesManager.ContentSecurityPolicyIssue.trustedTypesPolicyViolationCode) {\n            this.appendSourceLocation(element, location, maybeTarget);\n            this.#appendViolatedDirective(element, cspIssueDetails.violatedDirective);\n            this.#appendStatus(element, cspIssueDetails.isReportOnly);\n        }\n        else {\n            return;\n        }\n        this.affectedResources.appendChild(element);\n    }\n    update() {\n        this.clear();\n        this.#appendAffectedContentSecurityPolicyDetails(this.issue.getCspIssues());\n    }\n}\n//# sourceMappingURL=AffectedDirectivesView.js.map","// Copyright 2021 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\nimport * as i18n from '../../core/i18n/i18n.js';\nimport { AffectedResourcesView } from './AffectedResourcesView.js';\nconst UIStrings = {\n    /**\n     *@description Noun for singular or plural number of affected element resource indication in issue view.\n     */\n    nElements: '{n, plural, =1 {# element} other {# elements}}',\n};\nconst str_ = i18n.i18n.registerUIStrings('panels/issues/AffectedElementsView.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\nexport class AffectedElementsView extends AffectedResourcesView {\n    async #appendAffectedElements(affectedElements) {\n        let count = 0;\n        for (const element of affectedElements) {\n            await this.#appendAffectedElement(element);\n            count++;\n        }\n        this.updateAffectedResourceCount(count);\n    }\n    getResourceNameWithCount(count) {\n        return i18nString(UIStrings.nElements, { n: count });\n    }\n    async #appendAffectedElement(element) {\n        const cellElement = await this.createElementCell(element, this.issue.getCategory());\n        const rowElement = document.createElement('tr');\n        rowElement.appendChild(cellElement);\n        this.affectedResources.appendChild(rowElement);\n    }\n    update() {\n        this.clear();\n        void this.#appendAffectedElements(this.issue.elements());\n    }\n}\n//# sourceMappingURL=AffectedElementsView.js.map","// Copyright 2021 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\nimport * as i18n from '../../core/i18n/i18n.js';\nimport * as SDK from '../../core/sdk/sdk.js';\nimport { AffectedElementsView } from './AffectedElementsView.js';\nconst UIStrings = {\n    /**\n     *@description Noun for singular or plural number of affected document nodes indication in issue view.\n     */\n    nDocuments: '{n, plural, =1 { document} other { documents}}',\n    /**\n     *@description Column title for the Document in the DOM tree column in the quirks mode issue view\n     */\n    documentInTheDOMTree: 'Document in the DOM tree',\n    /**\n     *@description Column title for the url column in the quirks mode issue view\n     */\n    url: 'URL',\n    /**\n     *@description Column title for the Mode column in the quirks mode issue view\n     */\n    mode: 'Mode',\n};\nconst str_ = i18n.i18n.registerUIStrings('panels/issues/AffectedDocumentsInQuirksModeView.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\nexport class AffectedDocumentsInQuirksModeView extends AffectedElementsView {\n    #runningUpdatePromise = Promise.resolve();\n    update() {\n        // Ensure that doUpdate is invoked atomically by serializing the update calls\n        // because it's not re-entrace safe.\n        this.#runningUpdatePromise = this.#runningUpdatePromise.then(this.#doUpdate.bind(this));\n    }\n    getResourceName(count) {\n        return i18nString(UIStrings.nDocuments, { n: count });\n    }\n    async #doUpdate() {\n        this.clear();\n        await this.#appendQuirksModeDocuments(this.issue.getQuirksModeIssues());\n    }\n    async #appendQuirksModeDocument(issue) {\n        const row = document.createElement('tr');\n        row.classList.add('affected-resource-quirks-mode');\n        const details = issue.details();\n        const target = SDK.FrameManager.FrameManager.instance().getFrame(details.frameId)?.resourceTreeModel().target() || null;\n        row.appendChild(await this.createElementCell({ nodeName: 'document', backendNodeId: details.documentNodeId, target }, issue.getCategory()));\n        this.appendIssueDetailCell(row, details.isLimitedQuirksMode ? 'Limited Quirks Mode' : 'Quirks Mode');\n        this.appendIssueDetailCell(row, details.url);\n        this.affectedResources.appendChild(row);\n    }\n    async #appendQuirksModeDocuments(issues) {\n        const header = document.createElement('tr');\n        this.appendColumnTitle(header, i18nString(UIStrings.documentInTheDOMTree));\n        this.appendColumnTitle(header, i18nString(UIStrings.mode));\n        this.appendColumnTitle(header, i18nString(UIStrings.url));\n        this.affectedResources.appendChild(header);\n        let count = 0;\n        for (const issue of issues) {\n            count++;\n            await this.#appendQuirksModeDocument(issue);\n        }\n        this.updateAffectedResourceCount(count);\n    }\n}\n//# sourceMappingURL=AffectedDocumentsInQuirksModeView.js.map","// Copyright 2021 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\nimport * as i18n from '../../core/i18n/i18n.js';\nimport * as Platform from '../../core/platform/platform.js';\nimport { AffectedElementsView } from './AffectedElementsView.js';\nexport class AffectedElementsWithLowContrastView extends AffectedElementsView {\n    #runningUpdatePromise = Promise.resolve();\n    update() {\n        // Ensure that doUpdate is invoked atomically by serializing the update calls\n        // because it's not re-entrace safe.\n        this.#runningUpdatePromise = this.#runningUpdatePromise.then(this.#doUpdate.bind(this));\n    }\n    async #doUpdate() {\n        this.clear();\n        await this.#appendLowContrastElements(this.issue.getLowContrastIssues());\n    }\n    async #appendLowContrastElement(issue) {\n        const row = document.createElement('tr');\n        row.classList.add('affected-resource-low-contrast');\n        const details = issue.details();\n        const target = issue.model()?.target() || null;\n        row.appendChild(await this.createElementCell({ nodeName: details.violatingNodeSelector, backendNodeId: details.violatingNodeId, target }, issue.getCategory()));\n        this.appendIssueDetailCell(row, String(Platform.NumberUtilities.floor(details.contrastRatio, 2)));\n        this.appendIssueDetailCell(row, String(details.thresholdAA));\n        this.appendIssueDetailCell(row, String(details.thresholdAAA));\n        this.appendIssueDetailCell(row, details.fontSize);\n        this.appendIssueDetailCell(row, details.fontWeight);\n        this.affectedResources.appendChild(row);\n    }\n    async #appendLowContrastElements(issues) {\n        const header = document.createElement('tr');\n        this.appendColumnTitle(header, i18nString(UIStrings.element));\n        this.appendColumnTitle(header, i18nString(UIStrings.contrastRatio));\n        this.appendColumnTitle(header, i18nString(UIStrings.minimumAA));\n        this.appendColumnTitle(header, i18nString(UIStrings.minimumAAA));\n        this.appendColumnTitle(header, i18nString(UIStrings.textSize));\n        this.appendColumnTitle(header, i18nString(UIStrings.textWeight));\n        this.affectedResources.appendChild(header);\n        let count = 0;\n        for (const lowContrastIssue of issues) {\n            count++;\n            await this.#appendLowContrastElement(lowContrastIssue);\n        }\n        this.updateAffectedResourceCount(count);\n    }\n}\nconst UIStrings = {\n    /**\n     *@description Column title for the element column in the low contrast issue view\n     */\n    element: 'Element',\n    /**\n     *@description Column title for the contrast ratio column in the low contrast issue view\n     */\n    contrastRatio: 'Contrast ratio',\n    /**\n     *@description Column title for the minimum AA contrast ratio column in the low contrast issue view\n     */\n    minimumAA: 'Minimum AA ratio',\n    /**\n     *@description Column title for the minimum AAA contrast ratio column in the low contrast issue view\n     */\n    minimumAAA: 'Minimum AAA ratio',\n    /**\n     *@description Column title for the text size column in the low contrast issue view\n     */\n    textSize: 'Text size',\n    /**\n     *@description Column title for the text weight column in the low contrast issue view\n     */\n    textWeight: 'Text weight',\n};\nconst str_ = i18n.i18n.registerUIStrings('panels/issues/AffectedElementsWithLowContrastView.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\n//# sourceMappingURL=AffectedElementsWithLowContrastView.js.map","// Copyright 2021 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\nimport * as i18n from '../../core/i18n/i18n.js';\nimport { AffectedResourcesView } from './AffectedResourcesView.js';\nconst UIStrings = {\n    /**\n     *@description Label for number of affected resources indication in issue view\n     */\n    nResources: '{n, plural, =1 {# resource} other {# resources}}',\n    /**\n     *@description Title for a column in an Heavy Ads issue view\n     */\n    limitExceeded: 'Limit exceeded',\n    /**\n     *@description Title for a column in an Heavy Ads issue view\n     */\n    resolutionStatus: 'Resolution Status',\n    /**\n     *@description Title for a column in an Heavy Ads issue view\n     */\n    frameUrl: 'Frame URL',\n    /**\n     * @description When there is a Heavy Ad, the browser can choose to deal with it in different ways.\n     * This string indicates that the ad was bad enough that it was removed.\n     */\n    removed: 'Removed',\n    /**\n     * @description When there is a Heavy Ad, the browser can choose to deal with it in different ways.\n     * This string indicates that the ad was only warned, and not removed.\n     */\n    warned: 'Warned',\n    /**\n     *@description Reason for a Heavy Ad being flagged in issue view. The Ad has been flagged as a\n     *Heavy Ad because it exceeded the set limit for peak CPU usage, e.g. it blocked the main thread\n     *for more than 15 seconds in any 30-second window.\n     */\n    cpuPeakLimit: 'CPU peak limit',\n    /**\n     *@description Reason for a Heavy Ad being flagged in issue view\n     */\n    cpuTotalLimit: 'CPU total limit',\n    /**\n     *@description Reason for a Heavy Ad being flagged in issue view\n     */\n    networkLimit: 'Network limit',\n};\nconst str_ = i18n.i18n.registerUIStrings('panels/issues/AffectedHeavyAdView.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\nexport class AffectedHeavyAdView extends AffectedResourcesView {\n    #appendAffectedHeavyAds(heavyAds) {\n        const header = document.createElement('tr');\n        this.appendColumnTitle(header, i18nString(UIStrings.limitExceeded));\n        this.appendColumnTitle(header, i18nString(UIStrings.resolutionStatus));\n        this.appendColumnTitle(header, i18nString(UIStrings.frameUrl));\n        this.affectedResources.appendChild(header);\n        let count = 0;\n        for (const heavyAd of heavyAds) {\n            this.#appendAffectedHeavyAd(heavyAd.details());\n            count++;\n        }\n        this.updateAffectedResourceCount(count);\n    }\n    getResourceNameWithCount(count) {\n        return i18nString(UIStrings.nResources, { n: count });\n    }\n    #statusToString(status) {\n        switch (status) {\n            case \"HeavyAdBlocked\" /* Protocol.Audits.HeavyAdResolutionStatus.HeavyAdBlocked */:\n                return i18nString(UIStrings.removed);\n            case \"HeavyAdWarning\" /* Protocol.Audits.HeavyAdResolutionStatus.HeavyAdWarning */:\n                return i18nString(UIStrings.warned);\n        }\n        return '';\n    }\n    #limitToString(status) {\n        switch (status) {\n            case \"CpuPeakLimit\" /* Protocol.Audits.HeavyAdReason.CpuPeakLimit */:\n                return i18nString(UIStrings.cpuPeakLimit);\n            case \"CpuTotalLimit\" /* Protocol.Audits.HeavyAdReason.CpuTotalLimit */:\n                return i18nString(UIStrings.cpuTotalLimit);\n            case \"NetworkTotalLimit\" /* Protocol.Audits.HeavyAdReason.NetworkTotalLimit */:\n                return i18nString(UIStrings.networkLimit);\n        }\n        return '';\n    }\n    #appendAffectedHeavyAd(heavyAd) {\n        const element = document.createElement('tr');\n        element.classList.add('affected-resource-heavy-ad');\n        const reason = document.createElement('td');\n        reason.classList.add('affected-resource-heavy-ad-info');\n        reason.textContent = this.#limitToString(heavyAd.reason);\n        element.appendChild(reason);\n        const status = document.createElement('td');\n        status.classList.add('affected-resource-heavy-ad-info');\n        status.textContent = this.#statusToString(heavyAd.resolution);\n        element.appendChild(status);\n        const frameId = heavyAd.frame.frameId;\n        const frameUrl = this.createFrameCell(frameId, this.issue.getCategory());\n        element.appendChild(frameUrl);\n        this.affectedResources.appendChild(element);\n    }\n    update() {\n        this.clear();\n        this.#appendAffectedHeavyAds(this.issue.getHeavyAdIssues());\n    }\n}\n//# sourceMappingURL=AffectedHeavyAdView.js.map","// Copyright 2023 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\nimport * as i18n from '../../core/i18n/i18n.js';\nimport * as UI from '../../ui/legacy/legacy.js';\nimport { AffectedResourcesView } from './AffectedResourcesView.js';\nconst UIStrings = {\n    /**\n     *@description Label for the the number of affected `Allowed Sites` associated with a\n     *DevTools issue. In this context, `Allowed` refers to permission to access cookies\n     *via the third-party cookie deprecation global metadata, and `Site` is equivalent\n     *to eTLD+1.\n     *See https://developer.mozilla.org/en-US/docs/Glossary/eTLD.\n     */\n    nAllowedSites: '{n, plural, =1 {1 website allowed to access cookies} other {# websites allowed to access cookies}}',\n};\nconst str_ = i18n.i18n.registerUIStrings('panels/issues/AffectedMetadataAllowedSitesView.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\nexport class AffectedMetadataAllowedSitesView extends AffectedResourcesView {\n    getResourceNameWithCount(count) {\n        return i18nString(UIStrings.nAllowedSites, { n: count });\n    }\n    update() {\n        this.clear();\n        const issues = this.issue.getCookieDeprecationMetadataIssues();\n        let count = 0;\n        for (const issueData of issues) {\n            const row = document.createElement('tr');\n            row.classList.add('affected-resource-directive');\n            const textContentElement = document.createElement('div');\n            const textElement = document.createElement('span');\n            textElement.textContent = issueData.details().allowedSites.join(', ');\n            textContentElement.appendChild(textElement);\n            if (!issueData.details().isOptOutTopLevel && issueData.details().optOutPercentage > 0) {\n                const optOutTextElement = document.createElement('span');\n                optOutTextElement.textContent = ' (opt-out: ' + issueData.details().optOutPercentage + '% - ';\n                textContentElement.appendChild(optOutTextElement);\n                const linkElement = UI.XLink.XLink.create('https://developers.google.com/privacy-sandbox/blog/grace-period-opt-out', 'learn more');\n                textContentElement.appendChild(linkElement);\n                const endTextElement = document.createElement('span');\n                endTextElement.textContent = ')';\n                textContentElement.appendChild(endTextElement);\n            }\n            this.appendIssueDetailCell(row, textContentElement);\n            this.affectedResources.appendChild(row);\n            count++;\n        }\n        this.updateAffectedResourceCount(count);\n    }\n}\n//# sourceMappingURL=AffectedMetadataAllowedSitesView.js.map","// Copyright 2020 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\nimport * as i18n from '../../core/i18n/i18n.js';\nimport * as IssuesManager from '../../models/issues_manager/issues_manager.js';\nimport { AffectedResourcesView } from './AffectedResourcesView.js';\nconst UIStrings = {\n    /**\n     *@description Label for number of affected resources indication in issue view\n     */\n    nViolations: '{n, plural, =1 {# violation} other {# violations}}',\n    /**\n     *@description Value for the status column in SharedArrayBuffer issues\n     */\n    warning: 'warning',\n    /**\n     *@description The kind of resolution for a mixed content issue\n     */\n    blocked: 'blocked',\n    /**\n     *@description Value for the 'Trigger' column in the SAB affected resources list\n     */\n    instantiation: 'Instantiation',\n    /**\n     *@description Tooltip for the 'Trigger' column in the SAB affected resources list\n     */\n    aSharedarraybufferWas: 'A `SharedArrayBuffer` was instantiated in a context that is not cross-origin isolated',\n    /**\n     *@description Value for the 'Trigger' column in the SAB affected resources list\n     */\n    transfer: 'Transfer',\n    /**\n     *@description Tooltip for the 'Trigger' column in the SAB affected resources list\n     */\n    sharedarraybufferWasTransferedTo: '`SharedArrayBuffer` was transfered to a context that is not cross-origin isolated',\n    /**\n     *@description Header for the source location column\n     */\n    sourceLocation: 'Source Location',\n    /**\n     *@description Title for the 'Trigger' column in the SAB affected resources list\n     */\n    trigger: 'Trigger',\n    /**\n     *@description Title for the status column in the SAB affected resources list\n     */\n    status: 'Status',\n};\nconst str_ = i18n.i18n.registerUIStrings('panels/issues/AffectedSharedArrayBufferIssueDetailsView.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\nexport class AffectedSharedArrayBufferIssueDetailsView extends AffectedResourcesView {\n    getResourceNameWithCount(count) {\n        return i18nString(UIStrings.nViolations, { n: count });\n    }\n    #appendStatus(element, isWarning) {\n        const status = document.createElement('td');\n        if (isWarning) {\n            status.classList.add('affected-resource-report-only-status');\n            status.textContent = i18nString(UIStrings.warning);\n        }\n        else {\n            status.classList.add('affected-resource-blocked-status');\n            status.textContent = i18nString(UIStrings.blocked);\n        }\n        element.appendChild(status);\n    }\n    #appendType(element, type) {\n        const status = document.createElement('td');\n        switch (type) {\n            case \"CreationIssue\" /* Protocol.Audits.SharedArrayBufferIssueType.CreationIssue */:\n                status.textContent = i18nString(UIStrings.instantiation);\n                status.title = i18nString(UIStrings.aSharedarraybufferWas);\n                break;\n            case \"TransferIssue\" /* Protocol.Audits.SharedArrayBufferIssueType.TransferIssue */:\n                status.textContent = i18nString(UIStrings.transfer);\n                status.title = i18nString(UIStrings.sharedarraybufferWasTransferedTo);\n                break;\n        }\n        element.appendChild(status);\n    }\n    #appendDetails(sabIssues) {\n        const header = document.createElement('tr');\n        this.appendColumnTitle(header, i18nString(UIStrings.sourceLocation));\n        this.appendColumnTitle(header, i18nString(UIStrings.trigger));\n        this.appendColumnTitle(header, i18nString(UIStrings.status));\n        this.affectedResources.appendChild(header);\n        let count = 0;\n        for (const sabIssue of sabIssues) {\n            count++;\n            this.#appendDetail(sabIssue);\n        }\n        this.updateAffectedResourceCount(count);\n    }\n    #appendDetail(sabIssue) {\n        const element = document.createElement('tr');\n        element.classList.add('affected-resource-directive');\n        const sabIssueDetails = sabIssue.details();\n        const location = IssuesManager.Issue.toZeroBasedLocation(sabIssueDetails.sourceCodeLocation);\n        this.appendSourceLocation(element, location, sabIssue.model()?.getTargetIfNotDisposed());\n        this.#appendType(element, sabIssueDetails.type);\n        this.#appendStatus(element, sabIssueDetails.isWarning);\n        this.affectedResources.appendChild(element);\n    }\n    update() {\n        this.clear();\n        this.#appendDetails(this.issue.getSharedArrayBufferIssues());\n    }\n}\n//# sourceMappingURL=AffectedSharedArrayBufferIssueDetailsView.js.map","// Copyright 2021 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\nimport * as i18n from '../../core/i18n/i18n.js';\nimport * as Components from '../../ui/legacy/components/utils/utils.js';\nimport * as VisualLogging from '../../ui/visual_logging/visual_logging.js';\nimport { AffectedResourcesView } from './AffectedResourcesView.js';\nconst UIStrings = {\n    /**\n     *@description Singular or Plural label for number of affected sources (consisting of (source) file name + line number) in issue view\n     */\n    nSources: '{n, plural, =1 {# source} other {# sources}}',\n};\nconst str_ = i18n.i18n.registerUIStrings('panels/issues/AffectedSourcesView.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\nexport class AffectedSourcesView extends AffectedResourcesView {\n    #appendAffectedSources(affectedSources) {\n        let count = 0;\n        for (const source of affectedSources) {\n            this.#appendAffectedSource(source);\n            count++;\n        }\n        this.updateAffectedResourceCount(count);\n    }\n    getResourceNameWithCount(count) {\n        return i18nString(UIStrings.nSources, { n: count });\n    }\n    #appendAffectedSource({ url, lineNumber, columnNumber }) {\n        const cellElement = document.createElement('td');\n        // TODO(chromium:1072331): Check feasibility of plumping through scriptId for `linkifyScriptLocation`\n        //                         to support source maps and formatted scripts.\n        const linkifierURLOptions = { columnNumber, lineNumber, tabStop: true, showColumnNumber: false, inlineFrameIndex: 0 };\n        // An element created with linkifyURL can subscribe to the events\n        // 'click' neither 'keydown' if that key is the 'Enter' key.\n        // Also, this element has a context menu, so we should be able to\n        // track when the user use the context menu too.\n        // TODO(crbug.com/1108503): Add some mechanism to be able to add telemetry to this element.\n        const anchorElement = Components.Linkifier.Linkifier.linkifyURL(url, linkifierURLOptions);\n        anchorElement.setAttribute('jslog', `${VisualLogging.link('source-location').track({ click: true })}`);\n        cellElement.appendChild(anchorElement);\n        const rowElement = document.createElement('tr');\n        rowElement.classList.add('affected-resource-source');\n        rowElement.appendChild(cellElement);\n        this.affectedResources.appendChild(rowElement);\n    }\n    update() {\n        this.clear();\n        this.#appendAffectedSources(this.issue.sources());\n    }\n}\n//# sourceMappingURL=AffectedSourcesView.js.map","// Copyright 2023 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\nimport * as i18n from '../../core/i18n/i18n.js';\nimport { AffectedResourcesView } from './AffectedResourcesView.js';\nconst UIStrings = {\n    /**\n     *@description Label for the the number of affected `Potentially-tracking Sites` associated with a\n     *DevTools issue. In this context, `tracking` refers to bounce tracking and `Site` is equivalent\n     *to eTLD+1.\n     *See https://github.com/privacycg/nav-tracking-mitigations/blob/main/bounce-tracking-explainer.md\n     *and https://developer.mozilla.org/en-US/docs/Glossary/eTLD.\n     */\n    nTrackingSites: '{n, plural, =1 {1 potentially tracking website} other {# potentially tracking websites}}',\n};\nconst str_ = i18n.i18n.registerUIStrings('panels/issues/AffectedTrackingSitesView.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\nexport class AffectedTrackingSitesView extends AffectedResourcesView {\n    getResourceNameWithCount(count) {\n        return i18nString(UIStrings.nTrackingSites, { n: count });\n    }\n    update() {\n        this.clear();\n        const trackingSites = this.issue.getBounceTrackingSites();\n        let count = 0;\n        for (const site of trackingSites) {\n            const row = document.createElement('tr');\n            row.classList.add('affected-resource-directive');\n            this.appendIssueDetailCell(row, site);\n            this.affectedResources.appendChild(row);\n            count++;\n        }\n        this.updateAffectedResourceCount(count);\n    }\n}\n//# sourceMappingURL=AffectedTrackingSitesView.js.map","// Copyright 2021 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\nimport * as Host from '../../core/host/host.js';\nimport * as i18n from '../../core/i18n/i18n.js';\nimport * as IssuesManager from '../../models/issues_manager/issues_manager.js';\nimport { AffectedResourcesView } from './AffectedResourcesView.js';\nconst UIStrings = {\n    /**\n     * @description Label for number of rows in the issue details table.\n     */\n    nViolations: '{n, plural, =1 {# violation} other {# violations}}',\n    /**\n     * @description Noun, label for the column showing the associated HTML element in the issue details table.\n     */\n    element: 'Element',\n    /**\n     * @description Noun, label for the column showing the invalid header value in the issue details table.\n     */\n    invalidHeaderValue: 'Invalid Header Value',\n    /**\n     * @description Noun, label for the column showing the associated network request in the issue details table.\n     */\n    request: 'Request',\n    /**\n     * @description Label for the column showing the invalid URL used in an HTML anchor element (\"a link\").\n     * A origin is (roughly said) the front part of a URL.\n     */\n    untrustworthyOrigin: 'Untrustworthy origin',\n};\nconst str_ = i18n.i18n.registerUIStrings('panels/issues/AttributionReportingIssueDetailsView.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\nexport class AttributionReportingIssueDetailsView extends AffectedResourcesView {\n    getResourceNameWithCount(count) {\n        return i18nString(UIStrings.nViolations, { n: count });\n    }\n    update() {\n        this.clear();\n        const issues = this.issue.getAttributionReportingIssues();\n        const issue = issues.values().next();\n        if (issue.done) {\n            this.updateAffectedResourceCount(0);\n        }\n        else {\n            this.#appendDetails(issue.value.code(), issues);\n        }\n    }\n    #appendDetails(issueCode, issues) {\n        const header = document.createElement('tr');\n        switch (issueCode) {\n            case \"AttributionReportingIssue::InvalidRegisterSourceHeader\" /* IssuesManager.AttributionReportingIssue.IssueCode.INVALID_REGISTER_SOURCE_HEADER */:\n            case \"AttributionReportingIssue::InvalidRegisterTriggerHeader\" /* IssuesManager.AttributionReportingIssue.IssueCode.INVALID_REGISTER_TRIGGER_HEADER */:\n            case \"AttributionReportingIssue::InvalidRegisterOsSourceHeader\" /* IssuesManager.AttributionReportingIssue.IssueCode.INVALID_REGISTER_OS_SOURCE_HEADER */:\n            case \"AttributionReportingIssue::InvalidRegisterOsTriggerHeader\" /* IssuesManager.AttributionReportingIssue.IssueCode.INVALID_REGISTER_OS_TRIGGER_HEADER */:\n            case \"AttributionReportingIssue::OsSourceIgnored\" /* IssuesManager.AttributionReportingIssue.IssueCode.OS_SOURCE_IGNORED */:\n            case \"AttributionReportingIssue::OsTriggerIgnored\" /* IssuesManager.AttributionReportingIssue.IssueCode.OS_TRIGGER_IGNORED */:\n            case \"AttributionReportingIssue::SourceIgnored\" /* IssuesManager.AttributionReportingIssue.IssueCode.SOURCE_IGNORED */:\n            case \"AttributionReportingIssue::TriggerIgnored\" /* IssuesManager.AttributionReportingIssue.IssueCode.TRIGGER_IGNORED */:\n                this.appendColumnTitle(header, i18nString(UIStrings.request));\n                this.appendColumnTitle(header, i18nString(UIStrings.invalidHeaderValue));\n                break;\n            case \"AttributionReportingIssue::InsecureContext\" /* IssuesManager.AttributionReportingIssue.IssueCode.INSECURE_CONTEXT */:\n            case \"AttributionReportingIssue::UntrustworthyReportingOrigin\" /* IssuesManager.AttributionReportingIssue.IssueCode.UNTRUSTWORTHY_REPORTING_ORIGIN */:\n                this.appendColumnTitle(header, i18nString(UIStrings.element));\n                this.appendColumnTitle(header, i18nString(UIStrings.request));\n                this.appendColumnTitle(header, i18nString(UIStrings.untrustworthyOrigin));\n                break;\n            case \"AttributionReportingIssue::PermissionPolicyDisabled\" /* IssuesManager.AttributionReportingIssue.IssueCode.PERMISSION_POLICY_DISABLED */:\n                this.appendColumnTitle(header, i18nString(UIStrings.element));\n                this.appendColumnTitle(header, i18nString(UIStrings.request));\n                break;\n            case \"AttributionReportingIssue::SourceAndTriggerHeaders\" /* IssuesManager.AttributionReportingIssue.IssueCode.SOURCE_AND_TRIGGER_HEADERS */:\n            case \"AttributionReportingIssue::WebAndOsHeaders\" /* IssuesManager.AttributionReportingIssue.IssueCode.WEB_AND_OS_HEADERS */:\n                this.appendColumnTitle(header, i18nString(UIStrings.request));\n                break;\n            case \"AttributionReportingIssue::NavigationRegistrationWithoutTransientUserActivation\" /* IssuesManager.AttributionReportingIssue.IssueCode.NAVIGATION_REGISTRATION_WITHOUT_TRANSIENT_USER_ACTIVATION */:\n                this.appendColumnTitle(header, i18nString(UIStrings.element));\n                break;\n        }\n        this.affectedResources.appendChild(header);\n        let count = 0;\n        for (const issue of issues) {\n            count++;\n            void this.#appendDetail(issueCode, issue);\n        }\n        this.updateAffectedResourceCount(count);\n    }\n    async #appendDetail(issueCode, issue) {\n        const element = document.createElement('tr');\n        element.classList.add('affected-resource-directive');\n        const details = issue.issueDetails;\n        switch (issueCode) {\n            case \"AttributionReportingIssue::InvalidRegisterSourceHeader\" /* IssuesManager.AttributionReportingIssue.IssueCode.INVALID_REGISTER_SOURCE_HEADER */:\n            case \"AttributionReportingIssue::InvalidRegisterTriggerHeader\" /* IssuesManager.AttributionReportingIssue.IssueCode.INVALID_REGISTER_TRIGGER_HEADER */:\n            case \"AttributionReportingIssue::InvalidRegisterOsSourceHeader\" /* IssuesManager.AttributionReportingIssue.IssueCode.INVALID_REGISTER_OS_SOURCE_HEADER */:\n            case \"AttributionReportingIssue::InvalidRegisterOsTriggerHeader\" /* IssuesManager.AttributionReportingIssue.IssueCode.INVALID_REGISTER_OS_TRIGGER_HEADER */:\n            case \"AttributionReportingIssue::OsSourceIgnored\" /* IssuesManager.AttributionReportingIssue.IssueCode.OS_SOURCE_IGNORED */:\n            case \"AttributionReportingIssue::OsTriggerIgnored\" /* IssuesManager.AttributionReportingIssue.IssueCode.OS_TRIGGER_IGNORED */:\n            case \"AttributionReportingIssue::SourceIgnored\" /* IssuesManager.AttributionReportingIssue.IssueCode.SOURCE_IGNORED */:\n            case \"AttributionReportingIssue::TriggerIgnored\" /* IssuesManager.AttributionReportingIssue.IssueCode.TRIGGER_IGNORED */:\n                this.#appendRequestOrEmptyCell(element, details.request);\n                this.appendIssueDetailCell(element, details.invalidParameter || '');\n                break;\n            case \"AttributionReportingIssue::InsecureContext\" /* IssuesManager.AttributionReportingIssue.IssueCode.INSECURE_CONTEXT */:\n            case \"AttributionReportingIssue::UntrustworthyReportingOrigin\" /* IssuesManager.AttributionReportingIssue.IssueCode.UNTRUSTWORTHY_REPORTING_ORIGIN */:\n                await this.#appendElementOrEmptyCell(element, issue);\n                this.#appendRequestOrEmptyCell(element, details.request);\n                this.appendIssueDetailCell(element, details.invalidParameter || '');\n                break;\n            case \"AttributionReportingIssue::PermissionPolicyDisabled\" /* IssuesManager.AttributionReportingIssue.IssueCode.PERMISSION_POLICY_DISABLED */:\n                await this.#appendElementOrEmptyCell(element, issue);\n                this.#appendRequestOrEmptyCell(element, details.request);\n                break;\n            case \"AttributionReportingIssue::SourceAndTriggerHeaders\" /* IssuesManager.AttributionReportingIssue.IssueCode.SOURCE_AND_TRIGGER_HEADERS */:\n            case \"AttributionReportingIssue::WebAndOsHeaders\" /* IssuesManager.AttributionReportingIssue.IssueCode.WEB_AND_OS_HEADERS */:\n                this.#appendRequestOrEmptyCell(element, details.request);\n                break;\n            case \"AttributionReportingIssue::NavigationRegistrationWithoutTransientUserActivation\" /* IssuesManager.AttributionReportingIssue.IssueCode.NAVIGATION_REGISTRATION_WITHOUT_TRANSIENT_USER_ACTIVATION */:\n                await this.#appendElementOrEmptyCell(element, issue);\n                break;\n        }\n        this.affectedResources.appendChild(element);\n    }\n    async #appendElementOrEmptyCell(parent, issue) {\n        const details = issue.issueDetails;\n        if (details.violatingNodeId !== undefined) {\n            const target = issue.model()?.target() || null;\n            parent.appendChild(await this.createElementCell({ backendNodeId: details.violatingNodeId, target, nodeName: 'Attribution source element' }, issue.getCategory()));\n        }\n        else {\n            this.appendIssueDetailCell(parent, '');\n        }\n    }\n    #appendRequestOrEmptyCell(parent, request) {\n        if (!request) {\n            this.appendIssueDetailCell(parent, '');\n            return;\n        }\n        const opts = {\n            additionalOnClickAction() {\n                Host.userMetrics.issuesPanelResourceOpened(\"AttributionReporting\" /* IssuesManager.Issue.IssueCategory.ATTRIBUTION_REPORTING */, \"Request\" /* AffectedItem.REQUEST */);\n            },\n        };\n        parent.appendChild(this.createRequestCell(request, opts));\n    }\n}\n//# sourceMappingURL=AttributionReportingIssueDetailsView.js.map","// Copyright 2020 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\nimport * as Host from '../../core/host/host.js';\nimport * as i18n from '../../core/i18n/i18n.js';\nimport * as Platform from '../../core/platform/platform.js';\nimport * as IssuesManager from '../../models/issues_manager/issues_manager.js';\nimport * as NetworkForward from '../../panels/network/forward/forward.js';\nimport { AffectedResourcesView } from './AffectedResourcesView.js';\nconst UIStrings = {\n    /**\n     *@description Label for number of affected resources indication in issue view\n     */\n    nRequests: '{n, plural, =1 {# request} other {# requests}}',\n    /**\n     *@description Value for the status column in SharedArrayBuffer issues\n     */\n    warning: 'warning',\n    /**\n     *@description The kind of resolution for a mixed content issue\n     */\n    blocked: 'blocked',\n    /**\n     *@description Text for the status column in the item list in the CORS issue details view\n     */\n    status: 'Status',\n    /**\n     *@description Text for the column showing the associated network request in the item list in the CORS issue details view\n     */\n    request: 'Request',\n    /**\n     *@description Text for the column showing the resource's address in the item list in the CORS issue details view\n     */\n    resourceAddressSpace: 'Resource Address',\n    /**\n     *@description Text for the column showing the address of the resource load initiator in the item list in the CORS issue details view\n     */\n    initiatorAddressSpace: 'Initiator Address',\n    /**\n     *@description Text for the status of the initiator context\n     */\n    secure: 'secure',\n    /**\n     *@description Text for the status of the initiator context\n     */\n    insecure: 'insecure',\n    /**\n     *@description Title for a column showing the status of the initiator context. The initiator context is either secure or insecure depending on whether it was loaded via HTTP or HTTPS.\n     */\n    initiatorContext: 'Initiator Context',\n    /**\n     *@description Title for a column in the affected resources for a CORS issue showing a link to the associated preflight request in case the preflight request caused the issue.\n     */\n    preflightRequestIfProblematic: 'Preflight Request (if problematic)',\n    /**\n     *@description Title for a column in the affected resources for a CORS issue showing a link to the associated preflight request.\n     */\n    preflightRequest: 'Preflight Request',\n    /**\n     *@description Title for a column in the affected resources for a CORS issue showing the name of the problematic HTTP response header.\n     */\n    header: 'Header',\n    /**\n     *@description Title for a column in the affected resources for a CORS issue showing the problem associated with the resource.\n     */\n    problem: 'Problem',\n    /**\n     *@description Title for a column in the affected resources for a CORS issue showing the value that was invalid and caused the problem if it is available.\n     */\n    invalidValue: 'Invalid Value (if available)',\n    /**\n     *@description Content for the problem column in the affected resources table for a CORS issue that indicates that a response header was missing.\n     */\n    problemMissingHeader: 'Missing Header',\n    /**\n     *@description Content for the problem column in the affected resources table for a CORS issue that indicates that a response header contained multiple values.\n     */\n    problemMultipleValues: 'Multiple Values',\n    /**\n     *@description Content for the problem column in the affected resources table for a CORS issue that indicates that a response header contained an invalid value.\n     */\n    problemInvalidValue: 'Invalid Value',\n    /**\n     *@description Content for the problem column in the affected resources table for a CORS issue that indicates that the response to the preflight request was a redirect.\n     */\n    preflightDisallowedRedirect: 'Response to preflight was a redirect',\n    /**\n     *@description Content for the problem column in the affected resources table for a CORS issue that indicates that the HTTP status the preflight request was not successful.\n     */\n    preflightInvalidStatus: 'HTTP status of preflight request didn\\'t indicate success',\n    /**\n     *@description Title for a column in the affected resources for a CORS issue showing the origin that was allowed according to CORS headers.\n     */\n    allowedOrigin: 'Allowed Origin (from header)',\n    /**\n     *@description Title for a column in the affected resources for a CORS issue showing the value of the Access-Control-Allow-Credentials response header.\n     */\n    allowCredentialsValueFromHeader: '`Access-Control-Allow-Credentials` Header Value',\n    /**\n     *@description Title for a column in the affected resources for a CORS issue showing the request method that was disallowed.\n     */\n    disallowedRequestMethod: 'Disallowed Request Method',\n    /**\n     *@description Title for a column in the affected resources for a CORS issue showing the request header that was disallowed.\n     */\n    disallowedRequestHeader: 'Disallowed Request Header',\n    /**\n     *@description Header for the source location column\n     */\n    sourceLocation: 'Source Location',\n    /**\n     *@description Header for the column with the URL scheme that is not supported by fetch\n     */\n    unsupportedScheme: 'Unsupported Scheme',\n    /**\n     *@description A failed network request.\n     */\n    failedRequest: 'Failed Request',\n};\nconst str_ = i18n.i18n.registerUIStrings('panels/issues/CorsIssueDetailsView.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\nexport class CorsIssueDetailsView extends AffectedResourcesView {\n    constructor(parent, issue, jslogContext) {\n        super(parent, issue, jslogContext);\n        this.affectedResourcesCountElement.classList.add('cors-issue-affected-resource-label');\n    }\n    #appendStatus(element, isWarning) {\n        const status = document.createElement('td');\n        if (isWarning) {\n            status.classList.add('affected-resource-report-only-status');\n            status.textContent = i18nString(UIStrings.warning);\n        }\n        else {\n            status.classList.add('affected-resource-blocked-status');\n            status.textContent = i18nString(UIStrings.blocked);\n        }\n        element.appendChild(status);\n    }\n    getResourceNameWithCount(count) {\n        return i18nString(UIStrings.nRequests, { n: count });\n    }\n    #appendDetails(issueCode, issues) {\n        const header = document.createElement('tr');\n        this.appendColumnTitle(header, i18nString(UIStrings.request));\n        this.appendColumnTitle(header, i18nString(UIStrings.status));\n        switch (issueCode) {\n            case \"CorsIssue::InvalidHeaders\" /* IssuesManager.CorsIssue.IssueCode.INVALID_HEADER_VALUES */:\n                this.appendColumnTitle(header, i18nString(UIStrings.preflightRequestIfProblematic));\n                this.appendColumnTitle(header, i18nString(UIStrings.header));\n                this.appendColumnTitle(header, i18nString(UIStrings.problem));\n                this.appendColumnTitle(header, i18nString(UIStrings.invalidValue));\n                break;\n            case \"CorsIssue::WildcardOriginWithCredentials\" /* IssuesManager.CorsIssue.IssueCode.WILDCARD_ORIGN_NOT_ALLOWED */:\n                this.appendColumnTitle(header, i18nString(UIStrings.preflightRequestIfProblematic));\n                break;\n            case \"CorsIssue::PreflightResponseInvalid\" /* IssuesManager.CorsIssue.IssueCode.PREFLIGHT_RESPONSE_INVALID */:\n                this.appendColumnTitle(header, i18nString(UIStrings.preflightRequest));\n                this.appendColumnTitle(header, i18nString(UIStrings.problem));\n                break;\n            case \"CorsIssue::OriginMismatch\" /* IssuesManager.CorsIssue.IssueCode.ORIGIN_MISMATCH */:\n                this.appendColumnTitle(header, i18nString(UIStrings.preflightRequestIfProblematic));\n                this.appendColumnTitle(header, i18nString(UIStrings.initiatorContext));\n                this.appendColumnTitle(header, i18nString(UIStrings.allowedOrigin));\n                break;\n            case \"CorsIssue::AllowCredentialsRequired\" /* IssuesManager.CorsIssue.IssueCode.ALLOW_CREDENTIALS_REQUIRED */:\n                this.appendColumnTitle(header, i18nString(UIStrings.preflightRequestIfProblematic));\n                this.appendColumnTitle(header, i18nString(UIStrings.allowCredentialsValueFromHeader));\n                break;\n            case \"CorsIssue::InsecurePrivateNetwork\" /* IssuesManager.CorsIssue.IssueCode.INSECURE_PRIVATE_NETWORK */:\n                this.appendColumnTitle(header, i18nString(UIStrings.resourceAddressSpace));\n                this.appendColumnTitle(header, i18nString(UIStrings.initiatorAddressSpace));\n                this.appendColumnTitle(header, i18nString(UIStrings.initiatorContext));\n                break;\n            case \"CorsIssue::PreflightAllowPrivateNetworkError\" /* IssuesManager.CorsIssue.IssueCode.PREFLIGHT_ALLOW_PRIVATE_NETWORK_ERROR */:\n                this.appendColumnTitle(header, i18nString(UIStrings.preflightRequest));\n                this.appendColumnTitle(header, i18nString(UIStrings.invalidValue));\n                this.appendColumnTitle(header, i18nString(UIStrings.initiatorAddressSpace));\n                this.appendColumnTitle(header, i18nString(UIStrings.initiatorContext));\n                break;\n            case \"CorsIssue::PreflightMissingPrivateNetworkAccessId\" /* IssuesManager.CorsIssue.IssueCode.PREFLIGHT_MISSING_PRIVATE_NETWORK_ACCESS_ID */:\n            case \"CorsIssue::PreflightMissingPrivateNetworkAccessName\" /* IssuesManager.CorsIssue.IssueCode.PREFLIGHT_MISSING_PRIVATE_NETWORK_ACCESS_NAME */:\n                this.appendColumnTitle(header, i18nString(UIStrings.preflightRequest));\n                this.appendColumnTitle(header, i18nString(UIStrings.invalidValue));\n                this.appendColumnTitle(header, i18nString(UIStrings.resourceAddressSpace));\n                this.appendColumnTitle(header, i18nString(UIStrings.initiatorAddressSpace));\n                this.appendColumnTitle(header, i18nString(UIStrings.initiatorContext));\n                break;\n            case \"CorsIssue::MethodDisallowedByPreflightResponse\" /* IssuesManager.CorsIssue.IssueCode.METHOD_DISALLOWED_BY_PREFLIGHT_RESPONSE */:\n                this.appendColumnTitle(header, i18nString(UIStrings.preflightRequest));\n                this.appendColumnTitle(header, i18nString(UIStrings.disallowedRequestMethod));\n                break;\n            case \"CorsIssue::HeaderDisallowedByPreflightResponse\" /* IssuesManager.CorsIssue.IssueCode.HEADER_DISALLOWED_BY_PREFLIGHT_RESPONSE */:\n                this.appendColumnTitle(header, i18nString(UIStrings.preflightRequest));\n                this.appendColumnTitle(header, i18nString(UIStrings.disallowedRequestHeader));\n                break;\n            case \"CorsIssue::RedirectContainsCredentials\" /* IssuesManager.CorsIssue.IssueCode.REDIRECT_CONTAINS_CREDENTIALS */:\n                // The default columns suffice.\n                break;\n            case \"CorsIssue::DisallowedByMode\" /* IssuesManager.CorsIssue.IssueCode.DISALLOWED_BY_MODE */:\n                this.appendColumnTitle(header, i18nString(UIStrings.initiatorContext));\n                this.appendColumnTitle(header, i18nString(UIStrings.sourceLocation));\n                break;\n            case \"CorsIssue::CorsDisabledScheme\" /* IssuesManager.CorsIssue.IssueCode.CORS_DISABLED_SCHEME */:\n                this.appendColumnTitle(header, i18nString(UIStrings.initiatorContext));\n                this.appendColumnTitle(header, i18nString(UIStrings.sourceLocation));\n                this.appendColumnTitle(header, i18nString(UIStrings.unsupportedScheme));\n                break;\n            case \"CorsIssue::NoCorsRedirectModeNotFollow\" /* IssuesManager.CorsIssue.IssueCode.NO_CORS_REDIRECT_MODE_NOT_FOLLOW */:\n                this.appendColumnTitle(header, i18nString(UIStrings.sourceLocation));\n                break;\n            default:\n                Platform.assertUnhandled(issueCode);\n        }\n        this.affectedResources.appendChild(header);\n        let count = 0;\n        for (const issue of issues) {\n            count++;\n            this.#appendDetail(issueCode, issue);\n        }\n        this.updateAffectedResourceCount(count);\n    }\n    #appendSecureContextCell(element, isSecureContext) {\n        if (isSecureContext === undefined) {\n            this.appendIssueDetailCell(element, '');\n            return;\n        }\n        this.appendIssueDetailCell(element, isSecureContext ? i18nString(UIStrings.secure) : i18nString(UIStrings.insecure));\n    }\n    static getHeaderFromError(corsError) {\n        switch (corsError) {\n            case \"InvalidAllowHeadersPreflightResponse\" /* Protocol.Network.CorsError.InvalidAllowHeadersPreflightResponse */:\n                return 'Access-Control-Allow-Headers';\n            case \"InvalidAllowMethodsPreflightResponse\" /* Protocol.Network.CorsError.InvalidAllowMethodsPreflightResponse */:\n            case \"MethodDisallowedByPreflightResponse\" /* Protocol.Network.CorsError.MethodDisallowedByPreflightResponse */:\n                return 'Access-Control-Allow-Methods';\n            case \"PreflightMissingAllowOriginHeader\" /* Protocol.Network.CorsError.PreflightMissingAllowOriginHeader */:\n            case \"PreflightMultipleAllowOriginValues\" /* Protocol.Network.CorsError.PreflightMultipleAllowOriginValues */:\n            case \"PreflightInvalidAllowOriginValue\" /* Protocol.Network.CorsError.PreflightInvalidAllowOriginValue */:\n            case \"MissingAllowOriginHeader\" /* Protocol.Network.CorsError.MissingAllowOriginHeader */:\n            case \"MultipleAllowOriginValues\" /* Protocol.Network.CorsError.MultipleAllowOriginValues */:\n            case \"InvalidAllowOriginValue\" /* Protocol.Network.CorsError.InvalidAllowOriginValue */:\n            case \"WildcardOriginNotAllowed\" /* Protocol.Network.CorsError.WildcardOriginNotAllowed */:\n            case \"PreflightWildcardOriginNotAllowed\" /* Protocol.Network.CorsError.PreflightWildcardOriginNotAllowed */:\n            case \"AllowOriginMismatch\" /* Protocol.Network.CorsError.AllowOriginMismatch */:\n            case \"PreflightAllowOriginMismatch\" /* Protocol.Network.CorsError.PreflightAllowOriginMismatch */:\n                return 'Access-Control-Allow-Origin';\n            case \"InvalidAllowCredentials\" /* Protocol.Network.CorsError.InvalidAllowCredentials */:\n            case \"PreflightInvalidAllowCredentials\" /* Protocol.Network.CorsError.PreflightInvalidAllowCredentials */:\n                return 'Access-Control-Allow-Credentials';\n            case \"PreflightMissingAllowPrivateNetwork\" /* Protocol.Network.CorsError.PreflightMissingAllowPrivateNetwork */:\n            case \"PreflightInvalidAllowPrivateNetwork\" /* Protocol.Network.CorsError.PreflightInvalidAllowPrivateNetwork */:\n                return 'Access-Control-Allow-Private-Network';\n            case \"RedirectContainsCredentials\" /* Protocol.Network.CorsError.RedirectContainsCredentials */:\n            case \"PreflightDisallowedRedirect\" /* Protocol.Network.CorsError.PreflightDisallowedRedirect */:\n                return 'Location';\n            case \"PreflightInvalidStatus\" /* Protocol.Network.CorsError.PreflightInvalidStatus */:\n                return 'Status-Code';\n            case \"PreflightMissingPrivateNetworkAccessId\" /* Protocol.Network.CorsError.PreflightMissingPrivateNetworkAccessId */:\n                return 'Private-Network-Access-Id';\n            case \"PreflightMissingPrivateNetworkAccessName\" /* Protocol.Network.CorsError.PreflightMissingPrivateNetworkAccessName */:\n                return 'Private-Network-Access-Name';\n        }\n        return '';\n    }\n    static getProblemFromError(corsErrorStatus) {\n        switch (corsErrorStatus.corsError) {\n            case \"InvalidAllowHeadersPreflightResponse\" /* Protocol.Network.CorsError.InvalidAllowHeadersPreflightResponse */:\n            case \"InvalidAllowMethodsPreflightResponse\" /* Protocol.Network.CorsError.InvalidAllowMethodsPreflightResponse */:\n            case \"PreflightInvalidAllowOriginValue\" /* Protocol.Network.CorsError.PreflightInvalidAllowOriginValue */:\n            case \"InvalidAllowOriginValue\" /* Protocol.Network.CorsError.InvalidAllowOriginValue */:\n                return i18nString(UIStrings.problemInvalidValue);\n            case \"PreflightMultipleAllowOriginValues\" /* Protocol.Network.CorsError.PreflightMultipleAllowOriginValues */:\n            case \"MultipleAllowOriginValues\" /* Protocol.Network.CorsError.MultipleAllowOriginValues */:\n                return i18nString(UIStrings.problemMultipleValues);\n            case \"MissingAllowOriginHeader\" /* Protocol.Network.CorsError.MissingAllowOriginHeader */:\n            case \"PreflightMissingAllowOriginHeader\" /* Protocol.Network.CorsError.PreflightMissingAllowOriginHeader */:\n                return i18nString(UIStrings.problemMissingHeader);\n            case \"PreflightInvalidStatus\" /* Protocol.Network.CorsError.PreflightInvalidStatus */:\n                return i18nString(UIStrings.preflightInvalidStatus);\n            case \"PreflightDisallowedRedirect\" /* Protocol.Network.CorsError.PreflightDisallowedRedirect */:\n                return i18nString(UIStrings.preflightDisallowedRedirect);\n            case \"InvalidResponse\" /* Protocol.Network.CorsError.InvalidResponse */:\n                return i18nString(UIStrings.failedRequest);\n        }\n        throw new Error('Invalid Argument');\n    }\n    #appendDetail(issueCode, issue) {\n        const element = document.createElement('tr');\n        element.classList.add('affected-resource-directive');\n        const details = issue.details();\n        const corsErrorStatus = details.corsErrorStatus;\n        const corsError = details.corsErrorStatus.corsError;\n        const highlightHeader = {\n            section: \"Response\" /* NetworkForward.UIRequestLocation.UIHeaderSection.RESPONSE */,\n            name: CorsIssueDetailsView.getHeaderFromError(corsError),\n        };\n        const opts = {\n            additionalOnClickAction() {\n                Host.userMetrics.issuesPanelResourceOpened(\"Cors\" /* IssuesManager.Issue.IssueCategory.CORS */, \"Request\" /* AffectedItem.REQUEST */);\n            },\n        };\n        switch (issueCode) {\n            case \"CorsIssue::InvalidHeaders\" /* IssuesManager.CorsIssue.IssueCode.INVALID_HEADER_VALUES */:\n                element.appendChild(this.createRequestCell(details.request, opts));\n                this.#appendStatus(element, details.isWarning);\n                if (corsError.includes('Preflight')) {\n                    element.appendChild(this.createRequestCell(details.request, { ...opts, linkToPreflight: true, highlightHeader }));\n                }\n                else {\n                    this.appendIssueDetailCell(element, '');\n                }\n                this.appendIssueDetailCell(element, CorsIssueDetailsView.getHeaderFromError(corsError), 'code-example');\n                this.appendIssueDetailCell(element, CorsIssueDetailsView.getProblemFromError(details.corsErrorStatus));\n                this.appendIssueDetailCell(element, details.corsErrorStatus.failedParameter, 'code-example');\n                break;\n            case \"CorsIssue::WildcardOriginWithCredentials\" /* IssuesManager.CorsIssue.IssueCode.WILDCARD_ORIGN_NOT_ALLOWED */:\n                element.appendChild(this.createRequestCell(details.request, opts));\n                this.#appendStatus(element, details.isWarning);\n                if (corsError.includes('Preflight')) {\n                    element.appendChild(this.createRequestCell(details.request, { ...opts, linkToPreflight: true, highlightHeader }));\n                }\n                else {\n                    this.appendIssueDetailCell(element, '');\n                }\n                break;\n            case \"CorsIssue::PreflightResponseInvalid\" /* IssuesManager.CorsIssue.IssueCode.PREFLIGHT_RESPONSE_INVALID */: {\n                element.appendChild(this.createRequestCell(details.request, opts));\n                this.#appendStatus(element, details.isWarning);\n                const specialHighlightHeader = corsError === \"PreflightInvalidStatus\" /* Protocol.Network.CorsError.PreflightInvalidStatus */ ?\n                    {\n                        section: \"General\" /* NetworkForward.UIRequestLocation.UIHeaderSection.GENERAL */,\n                        name: 'Status-Code',\n                    } :\n                    highlightHeader;\n                element.appendChild(this.createRequestCell(details.request, { ...opts, linkToPreflight: true, highlightHeader: specialHighlightHeader }));\n                this.appendIssueDetailCell(element, CorsIssueDetailsView.getProblemFromError(details.corsErrorStatus));\n                break;\n            }\n            case \"CorsIssue::OriginMismatch\" /* IssuesManager.CorsIssue.IssueCode.ORIGIN_MISMATCH */:\n                element.appendChild(this.createRequestCell(details.request, opts));\n                this.#appendStatus(element, details.isWarning);\n                if (corsError.includes('Preflight')) {\n                    element.appendChild(this.createRequestCell(details.request, { ...opts, linkToPreflight: true, highlightHeader }));\n                }\n                else {\n                    this.appendIssueDetailCell(element, '');\n                }\n                this.appendIssueDetailCell(element, details.initiatorOrigin ?? '', 'code-example');\n                this.appendIssueDetailCell(element, details.corsErrorStatus.failedParameter, 'code-example');\n                break;\n            case \"CorsIssue::AllowCredentialsRequired\" /* IssuesManager.CorsIssue.IssueCode.ALLOW_CREDENTIALS_REQUIRED */:\n                element.appendChild(this.createRequestCell(details.request, opts));\n                this.#appendStatus(element, details.isWarning);\n                if (corsError.includes('Preflight')) {\n                    element.appendChild(this.createRequestCell(details.request, { ...opts, linkToPreflight: true, highlightHeader }));\n                }\n                else {\n                    this.appendIssueDetailCell(element, '');\n                }\n                this.appendIssueDetailCell(element, details.corsErrorStatus.failedParameter, 'code-example');\n                break;\n            case \"CorsIssue::InsecurePrivateNetwork\" /* IssuesManager.CorsIssue.IssueCode.INSECURE_PRIVATE_NETWORK */:\n                element.appendChild(this.createRequestCell(details.request, opts));\n                this.#appendStatus(element, details.isWarning);\n                this.appendIssueDetailCell(element, details.resourceIPAddressSpace ?? '');\n                this.appendIssueDetailCell(element, details.clientSecurityState?.initiatorIPAddressSpace ?? '');\n                this.#appendSecureContextCell(element, details.clientSecurityState?.initiatorIsSecureContext);\n                break;\n            case \"CorsIssue::PreflightAllowPrivateNetworkError\" /* IssuesManager.CorsIssue.IssueCode.PREFLIGHT_ALLOW_PRIVATE_NETWORK_ERROR */: {\n                element.appendChild(this.createRequestCell(details.request, opts));\n                this.#appendStatus(element, details.isWarning);\n                element.appendChild(this.createRequestCell(details.request, { ...opts, linkToPreflight: true, highlightHeader }));\n                this.appendIssueDetailCell(element, details.corsErrorStatus.failedParameter, 'code-example');\n                this.appendIssueDetailCell(element, details.clientSecurityState?.initiatorIPAddressSpace ?? '');\n                this.#appendSecureContextCell(element, details.clientSecurityState?.initiatorIsSecureContext);\n                break;\n            }\n            case \"CorsIssue::MethodDisallowedByPreflightResponse\" /* IssuesManager.CorsIssue.IssueCode.METHOD_DISALLOWED_BY_PREFLIGHT_RESPONSE */:\n                element.appendChild(this.createRequestCell(details.request, opts));\n                this.#appendStatus(element, details.isWarning);\n                element.appendChild(this.createRequestCell(details.request, { ...opts, linkToPreflight: true, highlightHeader }));\n                this.appendIssueDetailCell(element, details.corsErrorStatus.failedParameter, 'code-example');\n                break;\n            case \"CorsIssue::HeaderDisallowedByPreflightResponse\" /* IssuesManager.CorsIssue.IssueCode.HEADER_DISALLOWED_BY_PREFLIGHT_RESPONSE */:\n                element.appendChild(this.createRequestCell(details.request, {\n                    ...opts,\n                    highlightHeader: {\n                        section: \"Request\" /* NetworkForward.UIRequestLocation.UIHeaderSection.REQUEST */,\n                        name: corsErrorStatus.failedParameter,\n                    },\n                }));\n                this.#appendStatus(element, details.isWarning);\n                element.appendChild(this.createRequestCell(details.request, {\n                    ...opts,\n                    linkToPreflight: true,\n                    highlightHeader: {\n                        section: \"Response\" /* NetworkForward.UIRequestLocation.UIHeaderSection.RESPONSE */,\n                        name: 'Access-Control-Allow-Headers',\n                    },\n                }));\n                this.appendIssueDetailCell(element, details.corsErrorStatus.failedParameter, 'code-example');\n                break;\n            case \"CorsIssue::RedirectContainsCredentials\" /* IssuesManager.CorsIssue.IssueCode.REDIRECT_CONTAINS_CREDENTIALS */:\n                element.appendChild(this.createRequestCell(details.request, {\n                    ...opts,\n                    highlightHeader: {\n                        section: \"Response\" /* NetworkForward.UIRequestLocation.UIHeaderSection.RESPONSE */,\n                        name: CorsIssueDetailsView.getHeaderFromError(corsError),\n                    },\n                }));\n                this.#appendStatus(element, details.isWarning);\n                break;\n            case \"CorsIssue::DisallowedByMode\" /* IssuesManager.CorsIssue.IssueCode.DISALLOWED_BY_MODE */:\n                element.appendChild(this.createRequestCell(details.request, opts));\n                this.#appendStatus(element, details.isWarning);\n                this.appendIssueDetailCell(element, details.initiatorOrigin ?? '', 'code-example');\n                this.appendSourceLocation(element, details.location, issue.model()?.getTargetIfNotDisposed());\n                break;\n            case \"CorsIssue::CorsDisabledScheme\" /* IssuesManager.CorsIssue.IssueCode.CORS_DISABLED_SCHEME */:\n                element.appendChild(this.createRequestCell(details.request, {\n                    ...opts,\n                    highlightHeader: {\n                        section: \"Response\" /* NetworkForward.UIRequestLocation.UIHeaderSection.RESPONSE */,\n                        name: CorsIssueDetailsView.getHeaderFromError(corsError),\n                    },\n                }));\n                this.#appendStatus(element, details.isWarning);\n                this.appendIssueDetailCell(element, details.initiatorOrigin ?? '', 'code-example');\n                this.appendSourceLocation(element, details.location, issue.model()?.getTargetIfNotDisposed());\n                this.appendIssueDetailCell(element, details.corsErrorStatus.failedParameter ?? '', 'code-example');\n                break;\n            case \"CorsIssue::NoCorsRedirectModeNotFollow\" /* IssuesManager.CorsIssue.IssueCode.NO_CORS_REDIRECT_MODE_NOT_FOLLOW */:\n                element.appendChild(this.createRequestCell(details.request, opts));\n                this.#appendStatus(element, details.isWarning);\n                this.appendSourceLocation(element, details.location, issue.model()?.getTargetIfNotDisposed());\n                break;\n            case \"CorsIssue::PreflightMissingPrivateNetworkAccessId\" /* IssuesManager.CorsIssue.IssueCode.PREFLIGHT_MISSING_PRIVATE_NETWORK_ACCESS_ID */:\n            case \"CorsIssue::PreflightMissingPrivateNetworkAccessName\" /* IssuesManager.CorsIssue.IssueCode.PREFLIGHT_MISSING_PRIVATE_NETWORK_ACCESS_NAME */:\n                element.appendChild(this.createRequestCell(details.request, opts));\n                this.#appendStatus(element, details.isWarning);\n                element.appendChild(this.createRequestCell(details.request, { ...opts, linkToPreflight: true, highlightHeader }));\n                this.appendIssueDetailCell(element, CorsIssueDetailsView.getHeaderFromError(corsError));\n                this.appendIssueDetailCell(element, details.resourceIPAddressSpace ?? '');\n                this.appendIssueDetailCell(element, details.clientSecurityState?.initiatorIPAddressSpace ?? '');\n                this.#appendSecureContextCell(element, details.clientSecurityState?.initiatorIsSecureContext);\n                break;\n            default:\n                element.appendChild(this.createRequestCell(details.request, opts));\n                this.#appendStatus(element, details.isWarning);\n                Platform.assertUnhandled(issueCode);\n                break;\n        }\n        this.affectedResources.appendChild(element);\n    }\n    update() {\n        this.clear();\n        const issues = this.issue.getCorsIssues();\n        const issue = issues.values().next();\n        if (issue.done) {\n            this.updateAffectedResourceCount(0);\n        }\n        else {\n            this.#appendDetails(issue.value.code(), issues);\n        }\n    }\n}\n//# sourceMappingURL=CorsIssueDetailsView.js.map","// Copyright 2021 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\nimport * as i18n from '../../core/i18n/i18n.js';\nimport { AffectedResourcesView } from './AffectedResourcesView.js';\nconst UIStrings = {\n    /**\n     *@description Label for number of affected resources indication in issue view\n     */\n    nResources: '{n, plural, =1 {# resource} other {# resources}}',\n    /**\n     *@description Title for the 'Frame' column.\n     */\n    frameId: 'Frame',\n    /**\n     *@description Label for the violating node link in the issue view.\n     */\n    violatingNode: 'Violating node',\n};\nconst str_ = i18n.i18n.registerUIStrings('panels/issues/GenericIssueDetailsView.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\nexport class GenericIssueDetailsView extends AffectedResourcesView {\n    getResourceNameWithCount(count) {\n        return i18nString(UIStrings.nResources, { n: count });\n    }\n    #appendDetails(genericIssues) {\n        const header = document.createElement('tr');\n        const sampleIssueDetails = genericIssues.values().next().value?.details();\n        if (sampleIssueDetails?.frameId) {\n            this.appendColumnTitle(header, i18nString(UIStrings.frameId));\n        }\n        // Only some `GenericIssueDetails` have information for the 'affected\n        // resources' view. We'll count them and only call `#appendDetail` for\n        // those. `updateAffectedResourceCount` will hide the section if the\n        // count is zero.\n        this.affectedResources.appendChild(header);\n        let count = 0;\n        for (const genericIssue of genericIssues) {\n            const hasAffectedResource = genericIssue.details().frameId || genericIssue.details().violatingNodeId;\n            if (hasAffectedResource) {\n                count++;\n                void this.#appendDetail(genericIssue);\n            }\n        }\n        this.updateAffectedResourceCount(count);\n    }\n    async #appendDetail(genericIssue) {\n        const element = document.createElement('tr');\n        element.classList.add('affected-resource-directive');\n        const details = genericIssue.details();\n        if (details.frameId) {\n            element.appendChild(this.createFrameCell(details.frameId, genericIssue.getCategory()));\n        }\n        if (details.violatingNodeId) {\n            const target = genericIssue.model()?.target() || null;\n            element.appendChild(await this.createElementCell({ backendNodeId: details.violatingNodeId, nodeName: this.violatingNodeIdName(details.errorType), target }, genericIssue.getCategory()));\n        }\n        this.affectedResources.appendChild(element);\n    }\n    violatingNodeIdName(errorType) {\n        switch (errorType) {\n            case \"FormLabelForNameError\" /* Protocol.Audits.GenericIssueErrorType.FormLabelForNameError */:\n                // Since the error is referencing the <label> tag, this string doesn't\n                // need to be translated.\n                return i18n.i18n.lockedString('Label');\n            default:\n                return i18nString(UIStrings.violatingNode);\n        }\n    }\n    update() {\n        this.clear();\n        const issues = this.issue.getGenericIssues();\n        if (issues.size > 0) {\n            this.#appendDetails(issues);\n        }\n        else {\n            this.updateAffectedResourceCount(0);\n        }\n    }\n}\n//# sourceMappingURL=GenericIssueDetailsView.js.map","// Copyright 2020 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\nimport * as Common from '../../core/common/common.js';\nimport * as Host from '../../core/host/host.js';\nimport * as i18n from '../../core/i18n/i18n.js';\nimport * as IssuesManager from '../../models/issues_manager/issues_manager.js';\nimport * as NetworkForward from '../../panels/network/forward/forward.js';\nimport * as Adorners from '../../ui/components/adorners/adorners.js';\nimport * as IconButton from '../../ui/components/icon_button/icon_button.js';\nimport * as IssueCounter from '../../ui/components/issue_counter/issue_counter.js';\nimport * as MarkdownView from '../../ui/components/markdown_view/markdown_view.js';\nimport * as UI from '../../ui/legacy/legacy.js';\nimport * as VisualLogging from '../../ui/visual_logging/visual_logging.js';\nimport { AffectedBlockedByResponseView } from './AffectedBlockedByResponseView.js';\nimport { AffectedCookiesView, AffectedRawCookieLinesView } from './AffectedCookiesView.js';\nimport { AffectedDirectivesView } from './AffectedDirectivesView.js';\nimport { AffectedDocumentsInQuirksModeView } from './AffectedDocumentsInQuirksModeView.js';\nimport { AffectedElementsView } from './AffectedElementsView.js';\nimport { AffectedElementsWithLowContrastView } from './AffectedElementsWithLowContrastView.js';\nimport { AffectedHeavyAdView } from './AffectedHeavyAdView.js';\nimport { AffectedMetadataAllowedSitesView } from './AffectedMetadataAllowedSitesView.js';\nimport { AffectedResourcesView, extractShortPath } from './AffectedResourcesView.js';\nimport { AffectedSharedArrayBufferIssueDetailsView } from './AffectedSharedArrayBufferIssueDetailsView.js';\nimport { AffectedSourcesView } from './AffectedSourcesView.js';\nimport { AffectedTrackingSitesView } from './AffectedTrackingSitesView.js';\nimport { AttributionReportingIssueDetailsView } from './AttributionReportingIssueDetailsView.js';\nimport * as Components from './components/components.js';\nimport { CorsIssueDetailsView } from './CorsIssueDetailsView.js';\nimport { GenericIssueDetailsView } from './GenericIssueDetailsView.js';\nconst UIStrings = {\n    /**\n     *@description Noun, singular. Label for a column or field containing the name of an entity.\n     */\n    name: 'Name',\n    /**\n     *@description The kind of resolution for a mixed content issue\n     */\n    blocked: 'blocked',\n    /**\n     *@description Label for a type of issue that can appear in the Issues view. Noun for singular or plural number of network requests.\n     */\n    nRequests: '{n, plural, =1 {# request} other {# requests}}',\n    /**\n     *@description Label for singular or plural number of affected resources in issue view\n     */\n    nResources: '{n, plural, =1 {# resource} other {# resources}}',\n    /**\n     *@description Label for mixed content issue's restriction status\n     */\n    restrictionStatus: 'Restriction Status',\n    /**\n     * @description When there is a Heavy Ad, the browser can choose to deal with it in different ways.\n     * This string indicates that the ad was only warned, and not removed.\n     */\n    warned: 'Warned',\n    /**\n     *@description Header for the section listing affected resources\n     */\n    affectedResources: 'Affected Resources',\n    /**\n     *@description Title for a link to further information in issue view\n     *@example {SameSite Cookies Explained} PH1\n     */\n    learnMoreS: 'Learn more: {PH1}',\n    /**\n     *@description The kind of resolution for a mixed content issue\n     */\n    automaticallyUpgraded: 'automatically upgraded',\n    /**\n     *@description Menu entry for hiding a particular issue, in the Hide Issues context menu.\n     */\n    hideIssuesLikeThis: 'Hide issues like this',\n    /**\n     *@description Menu entry for unhiding a particular issue, in the Hide Issues context menu.\n     */\n    unhideIssuesLikeThis: 'Unhide issues like this',\n};\nconst str_ = i18n.i18n.registerUIStrings('panels/issues/IssueView.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\nclass AffectedRequestsView extends AffectedResourcesView {\n    #appendAffectedRequests(affectedRequests) {\n        let count = 0;\n        for (const affectedRequest of affectedRequests) {\n            const element = document.createElement('tr');\n            element.classList.add('affected-resource-request');\n            const category = this.issue.getCategory();\n            const tab = issueTypeToNetworkHeaderMap.get(category) || \"headers-component\" /* NetworkForward.UIRequestLocation.UIRequestTabs.HEADERS_COMPONENT */;\n            element.appendChild(this.createRequestCell(affectedRequest, {\n                networkTab: tab,\n                additionalOnClickAction() {\n                    Host.userMetrics.issuesPanelResourceOpened(category, \"Request\" /* AffectedItem.REQUEST */);\n                },\n            }));\n            this.affectedResources.appendChild(element);\n            count++;\n        }\n        this.updateAffectedResourceCount(count);\n    }\n    getResourceNameWithCount(count) {\n        return i18nString(UIStrings.nRequests, { n: count });\n    }\n    update() {\n        this.clear();\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        for (const unused of this.issue.getBlockedByResponseDetails()) {\n            // If the issue has blockedByResponseDetails, the corresponding AffectedBlockedByResponseView\n            // will take care of displaying the request.\n            this.updateAffectedResourceCount(0);\n            return;\n        }\n        if (this.issue.getCategory() === \"MixedContent\" /* IssuesManager.Issue.IssueCategory.MIXED_CONTENT */) {\n            // The AffectedMixedContentView takes care of displaying the resources.\n            this.updateAffectedResourceCount(0);\n            return;\n        }\n        this.#appendAffectedRequests(this.issue.requests());\n    }\n}\nconst issueTypeToNetworkHeaderMap = new Map([\n    [\n        \"Cookie\" /* IssuesManager.Issue.IssueCategory.COOKIE */,\n        \"cookies\" /* NetworkForward.UIRequestLocation.UIRequestTabs.COOKIES */,\n    ],\n    [\n        \"CrossOriginEmbedderPolicy\" /* IssuesManager.Issue.IssueCategory.CROSS_ORIGIN_EMBEDDER_POLICY */,\n        \"headers-component\" /* NetworkForward.UIRequestLocation.UIRequestTabs.HEADERS_COMPONENT */,\n    ],\n    [\n        \"MixedContent\" /* IssuesManager.Issue.IssueCategory.MIXED_CONTENT */,\n        \"headers-component\" /* NetworkForward.UIRequestLocation.UIRequestTabs.HEADERS_COMPONENT */,\n    ],\n]);\nclass AffectedMixedContentView extends AffectedResourcesView {\n    #appendAffectedMixedContentDetails(mixedContentIssues) {\n        const header = document.createElement('tr');\n        this.appendColumnTitle(header, i18nString(UIStrings.name));\n        this.appendColumnTitle(header, i18nString(UIStrings.restrictionStatus));\n        this.affectedResources.appendChild(header);\n        let count = 0;\n        for (const issue of mixedContentIssues) {\n            const details = issue.getDetails();\n            this.appendAffectedMixedContent(details);\n            count++;\n        }\n        this.updateAffectedResourceCount(count);\n    }\n    getResourceNameWithCount(count) {\n        return i18nString(UIStrings.nResources, { n: count });\n    }\n    appendAffectedMixedContent(mixedContent) {\n        const element = document.createElement('tr');\n        element.classList.add('affected-resource-mixed-content');\n        if (mixedContent.request) {\n            const networkTab = issueTypeToNetworkHeaderMap.get(this.issue.getCategory()) ||\n                \"headers-component\" /* NetworkForward.UIRequestLocation.UIRequestTabs.HEADERS_COMPONENT */;\n            element.appendChild(this.createRequestCell(mixedContent.request, {\n                networkTab,\n                additionalOnClickAction() {\n                    Host.userMetrics.issuesPanelResourceOpened(\"MixedContent\" /* IssuesManager.Issue.IssueCategory.MIXED_CONTENT */, \"Request\" /* AffectedItem.REQUEST */);\n                },\n            }));\n        }\n        else {\n            const filename = extractShortPath(mixedContent.insecureURL);\n            const cell = this.appendIssueDetailCell(element, filename, 'affected-resource-mixed-content-info');\n            cell.title = mixedContent.insecureURL;\n        }\n        this.appendIssueDetailCell(element, AffectedMixedContentView.translateStatus(mixedContent.resolutionStatus), 'affected-resource-mixed-content-info');\n        this.affectedResources.appendChild(element);\n    }\n    static translateStatus(resolutionStatus) {\n        switch (resolutionStatus) {\n            case \"MixedContentBlocked\" /* Protocol.Audits.MixedContentResolutionStatus.MixedContentBlocked */:\n                return i18nString(UIStrings.blocked);\n            case \"MixedContentAutomaticallyUpgraded\" /* Protocol.Audits.MixedContentResolutionStatus.MixedContentAutomaticallyUpgraded */:\n                return i18nString(UIStrings.automaticallyUpgraded);\n            case \"MixedContentWarning\" /* Protocol.Audits.MixedContentResolutionStatus.MixedContentWarning */:\n                return i18nString(UIStrings.warned);\n        }\n    }\n    update() {\n        this.clear();\n        this.#appendAffectedMixedContentDetails(this.issue.getMixedContentIssues());\n    }\n}\nexport class IssueView extends UI.TreeOutline.TreeElement {\n    #issue;\n    #description;\n    toggleOnClick;\n    affectedResources;\n    #affectedResourceViews;\n    #aggregatedIssuesCount;\n    #issueKindIcon = null;\n    #hasBeenExpandedBefore;\n    #throttle;\n    #needsUpdateOnExpand = true;\n    #hiddenIssuesMenu;\n    #contentCreated = false;\n    constructor(issue, description) {\n        super();\n        this.#issue = issue;\n        this.#description = description;\n        this.#throttle = new Common.Throttler.Throttler(250);\n        this.toggleOnClick = true;\n        this.listItemElement.classList.add('issue');\n        this.childrenListElement.classList.add('issue-body');\n        this.childrenListElement.classList.add(IssueView.getBodyCSSClass(this.#issue.getKind()));\n        this.affectedResources = this.#createAffectedResources();\n        this.#affectedResourceViews = [\n            new AffectedCookiesView(this, this.#issue, 'affected-cookies'),\n            new AffectedElementsView(this, this.#issue, 'affected-elements'),\n            new AffectedRequestsView(this, this.#issue, 'affected-requests'),\n            new AffectedMixedContentView(this, this.#issue, 'mixed-content-details'),\n            new AffectedSourcesView(this, this.#issue, 'affected-sources'),\n            new AffectedHeavyAdView(this, this.#issue, 'heavy-ad-details'),\n            new AffectedDirectivesView(this, this.#issue, 'directives-details'),\n            new AffectedBlockedByResponseView(this, this.#issue, 'blocked-by-response-details'),\n            new AffectedSharedArrayBufferIssueDetailsView(this, this.#issue, 'sab-details'),\n            new AffectedElementsWithLowContrastView(this, this.#issue, 'low-contrast-details'),\n            new CorsIssueDetailsView(this, this.#issue, 'cors-details'),\n            new GenericIssueDetailsView(this, this.#issue, 'generic-details'),\n            new AffectedDocumentsInQuirksModeView(this, this.#issue, 'affected-documents'),\n            new AttributionReportingIssueDetailsView(this, this.#issue, 'attribution-reporting-details'),\n            new AffectedRawCookieLinesView(this, this.#issue, 'affected-raw-cookies'),\n            new AffectedTrackingSitesView(this, this.#issue, 'tracking-sites-details'),\n            new AffectedMetadataAllowedSitesView(this, this.#issue, 'metadata-allowed-sites-details'),\n        ];\n        this.#hiddenIssuesMenu = new Components.HideIssuesMenu.HideIssuesMenu();\n        this.#aggregatedIssuesCount = null;\n        this.#hasBeenExpandedBefore = false;\n    }\n    /**\n     * Sets the issue to take the resources from. Assumes that the description\n     * this IssueView was initialized with fits the new issue as well, i.e.\n     * title and issue description will not be updated.\n     */\n    setIssue(issue) {\n        if (this.#issue !== issue) {\n            this.#needsUpdateOnExpand = true;\n        }\n        this.#issue = issue;\n        this.#affectedResourceViews.forEach(view => view.setIssue(issue));\n    }\n    static getBodyCSSClass(issueKind) {\n        switch (issueKind) {\n            case \"BreakingChange\" /* IssuesManager.Issue.IssueKind.BREAKING_CHANGE */:\n                return 'issue-kind-breaking-change';\n            case \"PageError\" /* IssuesManager.Issue.IssueKind.PAGE_ERROR */:\n                return 'issue-kind-page-error';\n            case \"Improvement\" /* IssuesManager.Issue.IssueKind.IMPROVEMENT */:\n                return 'issue-kind-improvement';\n        }\n    }\n    getIssueTitle() {\n        return this.#description.title;\n    }\n    onattach() {\n        if (!this.#contentCreated) {\n            this.createContent();\n            return;\n        }\n        this.update();\n    }\n    createContent() {\n        this.#appendHeader();\n        this.#createBody();\n        this.appendChild(this.affectedResources);\n        const visibleAffectedResource = [];\n        for (const view of this.#affectedResourceViews) {\n            this.appendAffectedResource(view);\n            view.update();\n            if (!view.isEmpty()) {\n                visibleAffectedResource.push(view);\n            }\n        }\n        this.#updateAffectedResourcesPositionAndSize(visibleAffectedResource);\n        this.#createReadMoreLinks();\n        this.updateAffectedResourceVisibility();\n        this.#contentCreated = true;\n    }\n    appendAffectedResource(resource) {\n        this.affectedResources.appendChild(resource);\n    }\n    #updateAffectedResourcesPositionAndSize(visibleAffectedResource) {\n        for (let i = 0; i < visibleAffectedResource.length; i++) {\n            const element = visibleAffectedResource[i].listItemElement;\n            UI.ARIAUtils.setPositionInSet(element, i + 1);\n            UI.ARIAUtils.setSetSize(element, visibleAffectedResource.length);\n        }\n    }\n    #appendHeader() {\n        const header = document.createElement('div');\n        header.classList.add('header');\n        this.#issueKindIcon = new IconButton.Icon.Icon();\n        this.#issueKindIcon.classList.add('leading-issue-icon');\n        this.#aggregatedIssuesCount = document.createElement('span');\n        const countAdorner = new Adorners.Adorner.Adorner();\n        countAdorner.data = {\n            name: 'countWrapper',\n            content: this.#aggregatedIssuesCount,\n        };\n        countAdorner.classList.add('aggregated-issues-count');\n        header.appendChild(this.#issueKindIcon);\n        header.appendChild(countAdorner);\n        const title = document.createElement('div');\n        title.classList.add('title');\n        title.textContent = this.#description.title;\n        header.appendChild(title);\n        if (this.#hiddenIssuesMenu) {\n            header.appendChild(this.#hiddenIssuesMenu);\n        }\n        this.#updateFromIssue();\n        this.listItemElement.appendChild(header);\n    }\n    onexpand() {\n        const category = this.#issue.getCategory();\n        // Handle sub type for cookie issues.\n        if (category === \"Cookie\" /* IssuesManager.Issue.IssueCategory.COOKIE */) {\n            const cookieIssueSubCatagory = IssuesManager.CookieIssue.CookieIssue.getSubCategory(this.#issue.code());\n            Host.userMetrics.issuesPanelIssueExpanded(cookieIssueSubCatagory);\n        }\n        else {\n            Host.userMetrics.issuesPanelIssueExpanded(category);\n        }\n        if (this.#needsUpdateOnExpand) {\n            this.#doUpdate();\n        }\n        if (!this.#hasBeenExpandedBefore) {\n            this.#hasBeenExpandedBefore = true;\n            for (const view of this.#affectedResourceViews) {\n                view.expandIfOneResource();\n            }\n        }\n    }\n    #updateFromIssue() {\n        if (this.#issueKindIcon) {\n            const kind = this.#issue.getKind();\n            this.#issueKindIcon.data = IssueCounter.IssueCounter.getIssueKindIconData(kind);\n            this.#issueKindIcon.title = IssuesManager.Issue.getIssueKindDescription(kind);\n        }\n        if (this.#aggregatedIssuesCount) {\n            this.#aggregatedIssuesCount.textContent = `${this.#issue.getAggregatedIssuesCount()}`;\n        }\n        this.listItemElement.classList.toggle('hidden-issue', this.#issue.isHidden());\n        if (this.#hiddenIssuesMenu) {\n            const data = {\n                menuItemLabel: this.#issue.isHidden() ? i18nString(UIStrings.unhideIssuesLikeThis) :\n                    i18nString(UIStrings.hideIssuesLikeThis),\n                menuItemAction: () => {\n                    const setting = IssuesManager.IssuesManager.getHideIssueByCodeSetting();\n                    const values = setting.get();\n                    values[this.#issue.code()] = this.#issue.isHidden() ? \"Unhidden\" /* IssuesManager.IssuesManager.IssueStatus.UNHIDDEN */ :\n                        \"Hidden\" /* IssuesManager.IssuesManager.IssueStatus.HIDDEN */;\n                    setting.set(values);\n                },\n            };\n            this.#hiddenIssuesMenu.data = data;\n        }\n    }\n    updateAffectedResourceVisibility() {\n        const noResources = this.#affectedResourceViews.every(view => view.isEmpty());\n        this.affectedResources.hidden = noResources;\n    }\n    #createAffectedResources() {\n        const wrapper = new UI.TreeOutline.TreeElement();\n        wrapper.setCollapsible(false);\n        wrapper.setExpandable(true);\n        wrapper.expand();\n        wrapper.selectable = false;\n        wrapper.listItemElement.classList.add('affected-resources-label');\n        wrapper.listItemElement.textContent = i18nString(UIStrings.affectedResources);\n        wrapper.childrenListElement.classList.add('affected-resources');\n        UI.ARIAUtils.setPositionInSet(wrapper.listItemElement, 2);\n        UI.ARIAUtils.setSetSize(wrapper.listItemElement, this.#description.links.length === 0 ? 2 : 3);\n        return wrapper;\n    }\n    #createBody() {\n        const messageElement = new UI.TreeOutline.TreeElement();\n        messageElement.setCollapsible(false);\n        messageElement.selectable = false;\n        const markdownComponent = new MarkdownView.MarkdownView.MarkdownView();\n        markdownComponent.data = { tokens: this.#description.markdown };\n        messageElement.listItemElement.appendChild(markdownComponent);\n        UI.ARIAUtils.setPositionInSet(messageElement.listItemElement, 1);\n        UI.ARIAUtils.setSetSize(messageElement.listItemElement, this.#description.links.length === 0 ? 2 : 3);\n        this.appendChild(messageElement);\n    }\n    #createReadMoreLinks() {\n        if (this.#description.links.length === 0) {\n            return;\n        }\n        const linkWrapper = new UI.TreeOutline.TreeElement();\n        linkWrapper.setCollapsible(false);\n        linkWrapper.listItemElement.classList.add('link-wrapper');\n        UI.ARIAUtils.setPositionInSet(linkWrapper.listItemElement, 3);\n        UI.ARIAUtils.setSetSize(linkWrapper.listItemElement, 3);\n        const linkList = linkWrapper.listItemElement.createChild('ul', 'link-list');\n        for (const description of this.#description.links) {\n            const link = UI.Fragment.html `<x-link class=\"link devtools-link\" tabindex=\"0\" href=${description.link}>${i18nString(UIStrings.learnMoreS, { PH1: description.linkTitle })}</x-link>`;\n            link.setAttribute('jslog', `${VisualLogging.link('learn-more').track({ click: true })}`);\n            const linkListItem = linkList.createChild('li');\n            linkListItem.appendChild(link);\n        }\n        this.appendChild(linkWrapper);\n    }\n    #doUpdate() {\n        if (this.expanded) {\n            this.#affectedResourceViews.forEach(view => view.update());\n            this.updateAffectedResourceVisibility();\n        }\n        this.#needsUpdateOnExpand = !this.expanded;\n        this.#updateFromIssue();\n    }\n    update() {\n        void this.#throttle.schedule(async () => this.#doUpdate());\n    }\n    clear() {\n        this.#affectedResourceViews.forEach(view => view.clear());\n    }\n    getIssueKind() {\n        return this.#issue.getKind();\n    }\n    isForHiddenIssue() {\n        return this.#issue.isHidden();\n    }\n    toggle(expand) {\n        if (expand || (expand === undefined && !this.expanded)) {\n            this.expand();\n        }\n        else {\n            this.collapse();\n        }\n    }\n}\n//# sourceMappingURL=IssueView.js.map","// Copyright 2021 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\nimport * as Common from '../../core/common/common.js';\nimport * as i18n from '../../core/i18n/i18n.js';\nimport * as IssuesManager from '../../models/issues_manager/issues_manager.js';\nimport * as IssueCounter from '../../ui/components/issue_counter/issue_counter.js';\nimport * as UI from '../../ui/legacy/legacy.js';\nimport * as VisualLogging from '../../ui/visual_logging/visual_logging.js';\nimport { HiddenIssuesRow } from './HiddenIssuesRow.js';\nimport { IssueAggregator, } from './IssueAggregator.js';\nimport { getGroupIssuesByKindSetting, IssueKindView, issueKindViewSortPriority } from './IssueKindView.js';\nimport issuesPaneStyles from './issuesPane.css.js';\nimport issuesTreeStyles from './issuesTree.css.js';\nimport { IssueView } from './IssueView.js';\nconst UIStrings = {\n    /**\n     * @description Category title for a group of cross origin embedder policy (COEP) issues\n     */\n    crossOriginEmbedderPolicy: 'Cross Origin Embedder Policy',\n    /**\n     * @description Category title for a group of mixed content issues\n     */\n    mixedContent: 'Mixed Content',\n    /**\n     * @description Category title for a group of SameSite cookie issues\n     */\n    samesiteCookie: 'SameSite Cookie',\n    /**\n     * @description Category title for a group of heavy ads issues\n     */\n    heavyAds: 'Heavy Ads',\n    /**\n     * @description Category title for a group of content security policy (CSP) issues\n     */\n    contentSecurityPolicy: 'Content Security Policy',\n    /**\n     * @description Text for other types of items\n     */\n    other: 'Other',\n    /**\n     * @description Category title for the different 'low text contrast' issues. Low text contrast refers\n     *              to the difference between the color of a text and the background color where that text\n     *              appears.\n     */\n    lowTextContrast: 'Low Text Contrast',\n    /**\n     * @description Category title for the different 'Cross-Origin Resource Sharing' (CORS) issues. CORS\n     *              refers to one origin (e.g 'a.com') loading resources from another origin (e.g. 'b.com').\n     */\n    cors: 'Cross Origin Resource Sharing',\n    /**\n     * @description Title for a checkbox which toggles grouping by category in the issues tab\n     */\n    groupDisplayedIssuesUnder: 'Group displayed issues under associated categories',\n    /**\n     * @description Label for a checkbox which toggles grouping by category in the issues tab\n     */\n    groupByCategory: 'Group by category',\n    /**\n     * @description Title for a checkbox which toggles grouping by kind in the issues tab\n     */\n    groupDisplayedIssuesUnderKind: 'Group displayed issues as Page errors, Breaking changes and Improvements',\n    /**\n     * @description Label for a checkbox which toggles grouping by kind in the issues tab\n     */\n    groupByKind: 'Group by kind',\n    /**\n     * @description Title for a checkbox. Whether the issues tab should include third-party issues or not.\n     */\n    includeCookieIssuesCausedBy: 'Include cookie Issues caused by third-party sites',\n    /**\n     * @description Label for a checkbox. Whether the issues tab should include third-party issues or not.\n     */\n    includeThirdpartyCookieIssues: 'Include third-party cookie issues',\n    /**\n     * @description Label on the issues tab\n     */\n    onlyThirdpartyCookieIssues: 'Only third-party cookie issues detected so far',\n    /**\n     * @description Label in the issues panel\n     */\n    noIssuesDetectedSoFar: 'No issues detected so far',\n    /**\n     * @description Category title for the different 'Attribution Reporting API' issues. The\n     * Attribution Reporting API is a newly proposed web API (see https://github.com/WICG/conversion-measurement-api).\n     */\n    attributionReporting: 'Attribution Reporting `API`',\n    /**\n     * @description Category title for the different 'Quirks Mode' issues. Quirks Mode refers\n     *              to the legacy browser modes that displays web content according to outdated\n     *              browser behaviors.\n     */\n    quirksMode: 'Quirks Mode',\n    /**\n     * @description Category title for the different 'Generic' issues.\n     */\n    generic: 'Generic',\n};\nconst str_ = i18n.i18n.registerUIStrings('panels/issues/IssuesPane.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\nclass IssueCategoryView extends UI.TreeOutline.TreeElement {\n    #category;\n    constructor(category) {\n        super();\n        this.#category = category;\n        this.toggleOnClick = true;\n        this.listItemElement.classList.add('issue-category');\n        this.childrenListElement.classList.add('issue-category-body');\n    }\n    getCategoryName() {\n        switch (this.#category) {\n            case \"CrossOriginEmbedderPolicy\" /* IssuesManager.Issue.IssueCategory.CROSS_ORIGIN_EMBEDDER_POLICY */:\n                return i18nString(UIStrings.crossOriginEmbedderPolicy);\n            case \"MixedContent\" /* IssuesManager.Issue.IssueCategory.MIXED_CONTENT */:\n                return i18nString(UIStrings.mixedContent);\n            case \"Cookie\" /* IssuesManager.Issue.IssueCategory.COOKIE */:\n                return i18nString(UIStrings.samesiteCookie);\n            case \"HeavyAd\" /* IssuesManager.Issue.IssueCategory.HEAVY_AD */:\n                return i18nString(UIStrings.heavyAds);\n            case \"ContentSecurityPolicy\" /* IssuesManager.Issue.IssueCategory.CONTENT_SECURITY_POLICY */:\n                return i18nString(UIStrings.contentSecurityPolicy);\n            case \"LowTextContrast\" /* IssuesManager.Issue.IssueCategory.LOW_TEXT_CONTRAST */:\n                return i18nString(UIStrings.lowTextContrast);\n            case \"Cors\" /* IssuesManager.Issue.IssueCategory.CORS */:\n                return i18nString(UIStrings.cors);\n            case \"AttributionReporting\" /* IssuesManager.Issue.IssueCategory.ATTRIBUTION_REPORTING */:\n                return i18nString(UIStrings.attributionReporting);\n            case \"QuirksMode\" /* IssuesManager.Issue.IssueCategory.QUIRKS_MODE */:\n                return i18nString(UIStrings.quirksMode);\n            case \"Generic\" /* IssuesManager.Issue.IssueCategory.GENERIC */:\n                return i18nString(UIStrings.generic);\n            case \"Other\" /* IssuesManager.Issue.IssueCategory.OTHER */:\n                return i18nString(UIStrings.other);\n        }\n    }\n    onattach() {\n        this.#appendHeader();\n    }\n    #appendHeader() {\n        const header = document.createElement('div');\n        header.classList.add('header');\n        const title = document.createElement('div');\n        title.classList.add('title');\n        title.textContent = this.getCategoryName();\n        header.appendChild(title);\n        this.listItemElement.appendChild(header);\n    }\n}\nexport function getGroupIssuesByCategorySetting() {\n    return Common.Settings.Settings.instance().createSetting('group-issues-by-category', false);\n}\nexport class IssuesPane extends UI.Widget.VBox {\n    #categoryViews;\n    #issueViews;\n    #kindViews;\n    #showThirdPartyCheckbox;\n    #issuesTree;\n    #hiddenIssuesRow;\n    #noIssuesMessageDiv;\n    #issuesManager;\n    #aggregator;\n    #issueViewUpdatePromise = Promise.resolve();\n    constructor() {\n        super(true);\n        this.element.setAttribute('jslog', `${VisualLogging.panel('issues')}`);\n        this.contentElement.classList.add('issues-pane');\n        this.#categoryViews = new Map();\n        this.#kindViews = new Map();\n        this.#issueViews = new Map();\n        this.#showThirdPartyCheckbox = null;\n        this.#createToolbars();\n        this.#issuesTree = new UI.TreeOutline.TreeOutlineInShadow();\n        this.#issuesTree.setShowSelectionOnKeyboardFocus(true);\n        this.#issuesTree.contentElement.classList.add('issues');\n        this.contentElement.appendChild(this.#issuesTree.element);\n        this.#hiddenIssuesRow = new HiddenIssuesRow();\n        this.#issuesTree.appendChild(this.#hiddenIssuesRow);\n        this.#noIssuesMessageDiv = document.createElement('div');\n        this.#noIssuesMessageDiv.classList.add('issues-pane-no-issues');\n        this.contentElement.appendChild(this.#noIssuesMessageDiv);\n        this.#issuesManager = IssuesManager.IssuesManager.IssuesManager.instance();\n        this.#aggregator = new IssueAggregator(this.#issuesManager);\n        this.#aggregator.addEventListener(\"AggregatedIssueUpdated\" /* IssueAggregatorEvents.AGGREGATED_ISSUE_UPDATED */, this.#issueUpdated, this);\n        this.#aggregator.addEventListener(\"FullUpdateRequired\" /* IssueAggregatorEvents.FULL_UPDATE_REQUIRED */, this.#onFullUpdate, this);\n        this.#hiddenIssuesRow.hidden = this.#issuesManager.numberOfHiddenIssues() === 0;\n        this.#onFullUpdate();\n        this.#issuesManager.addEventListener(\"IssuesCountUpdated\" /* IssuesManager.IssuesManager.Events.ISSUES_COUNT_UPDATED */, this.#updateCounts, this);\n    }\n    elementsToRestoreScrollPositionsFor() {\n        return [this.#issuesTree.element];\n    }\n    #createToolbars() {\n        const toolbarContainer = this.contentElement.createChild('div', 'issues-toolbar-container');\n        toolbarContainer.setAttribute('jslog', `${VisualLogging.toolbar()}`);\n        new UI.Toolbar.Toolbar('issues-toolbar-left', toolbarContainer);\n        const rightToolbar = new UI.Toolbar.Toolbar('issues-toolbar-right', toolbarContainer);\n        const groupByCategorySetting = getGroupIssuesByCategorySetting();\n        const groupByCategoryCheckbox = new UI.Toolbar.ToolbarSettingCheckbox(groupByCategorySetting, i18nString(UIStrings.groupDisplayedIssuesUnder), i18nString(UIStrings.groupByCategory));\n        // Hide the option to toggle category grouping for now.\n        groupByCategoryCheckbox.setVisible(false);\n        rightToolbar.appendToolbarItem(groupByCategoryCheckbox);\n        groupByCategorySetting.addChangeListener(() => {\n            this.#fullUpdate(true);\n        });\n        const groupByKindSetting = getGroupIssuesByKindSetting();\n        const groupByKindSettingCheckbox = new UI.Toolbar.ToolbarSettingCheckbox(groupByKindSetting, i18nString(UIStrings.groupDisplayedIssuesUnderKind), i18nString(UIStrings.groupByKind));\n        rightToolbar.appendToolbarItem(groupByKindSettingCheckbox);\n        groupByKindSetting.addChangeListener(() => {\n            this.#fullUpdate(true);\n        });\n        groupByKindSettingCheckbox.setVisible(true);\n        const thirdPartySetting = IssuesManager.Issue.getShowThirdPartyIssuesSetting();\n        this.#showThirdPartyCheckbox = new UI.Toolbar.ToolbarSettingCheckbox(thirdPartySetting, i18nString(UIStrings.includeCookieIssuesCausedBy), i18nString(UIStrings.includeThirdpartyCookieIssues));\n        rightToolbar.appendToolbarItem(this.#showThirdPartyCheckbox);\n        this.setDefaultFocusedElement(this.#showThirdPartyCheckbox.inputElement);\n        rightToolbar.appendSeparator();\n        const issueCounter = new IssueCounter.IssueCounter.IssueCounter();\n        issueCounter.data = {\n            tooltipCallback: () => {\n                const issueEnumeration = IssueCounter.IssueCounter.getIssueCountsEnumeration(IssuesManager.IssuesManager.IssuesManager.instance(), false);\n                issueCounter.title = issueEnumeration;\n            },\n            displayMode: \"ShowAlways\" /* IssueCounter.IssueCounter.DisplayMode.SHOW_ALWAYS */,\n            issuesManager: IssuesManager.IssuesManager.IssuesManager.instance(),\n        };\n        issueCounter.id = 'console-issues-counter';\n        issueCounter.setAttribute('jslog', `${VisualLogging.counter('issues')}`);\n        const issuesToolbarItem = new UI.Toolbar.ToolbarItem(issueCounter);\n        rightToolbar.appendToolbarItem(issuesToolbarItem);\n        return { toolbarContainer };\n    }\n    #issueUpdated(event) {\n        this.#scheduleIssueViewUpdate(event.data);\n    }\n    #scheduleIssueViewUpdate(issue) {\n        this.#issueViewUpdatePromise = this.#issueViewUpdatePromise.then(() => this.#updateIssueView(issue));\n    }\n    /** Don't call directly. Use `scheduleIssueViewUpdate` instead. */\n    async #updateIssueView(issue) {\n        let issueView = this.#issueViews.get(issue.aggregationKey());\n        if (!issueView) {\n            const description = issue.getDescription();\n            if (!description) {\n                console.warn('Could not find description for issue code:', issue.code());\n                return;\n            }\n            const markdownDescription = await IssuesManager.MarkdownIssueDescription.createIssueDescriptionFromMarkdown(description);\n            issueView = new IssueView(issue, markdownDescription);\n            this.#issueViews.set(issue.aggregationKey(), issueView);\n            const parent = this.#getIssueViewParent(issue);\n            this.appendIssueViewToParent(issueView, parent);\n        }\n        else {\n            issueView.setIssue(issue);\n            const newParent = this.#getIssueViewParent(issue);\n            if (issueView.parent !== newParent &&\n                !(newParent instanceof UI.TreeOutline.TreeOutline && issueView.parent === newParent.rootElement())) {\n                issueView.parent?.removeChild(issueView);\n                this.appendIssueViewToParent(issueView, newParent);\n            }\n        }\n        issueView.update();\n        this.#updateCounts();\n    }\n    appendIssueViewToParent(issueView, parent) {\n        parent.appendChild(issueView, (a, b) => {\n            if (a instanceof HiddenIssuesRow) {\n                return 1;\n            }\n            if (b instanceof HiddenIssuesRow) {\n                return -1;\n            }\n            if (a instanceof IssueView && b instanceof IssueView) {\n                return a.getIssueTitle().localeCompare(b.getIssueTitle());\n            }\n            console.error('The issues tree should only contain IssueView objects as direct children');\n            return 0;\n        });\n        if (parent instanceof UI.TreeOutline.TreeElement) {\n            // This is an aggregated view, so we need to update the label for position and size of the treeItem.\n            this.#updateItemPositionAndSize(parent);\n        }\n    }\n    #updateItemPositionAndSize(parent) {\n        const childNodes = parent.childrenListNode.children;\n        let treeItemCount = 0;\n        for (let i = 0; i < childNodes.length; i++) {\n            const node = childNodes[i];\n            if (node.classList.contains('issue')) {\n                UI.ARIAUtils.setPositionInSet(node, ++treeItemCount);\n                UI.ARIAUtils.setSetSize(node, childNodes.length / 2); // Each issue has 2 nodes (issue + description).\n            }\n        }\n    }\n    #getIssueViewParent(issue) {\n        if (issue.isHidden()) {\n            return this.#hiddenIssuesRow;\n        }\n        if (getGroupIssuesByKindSetting().get()) {\n            const kind = issue.getKind();\n            const view = this.#kindViews.get(kind);\n            if (view) {\n                return view;\n            }\n            const newView = new IssueKindView(kind);\n            this.#issuesTree.appendChild(newView, (a, b) => {\n                if (a instanceof IssueKindView && b instanceof IssueKindView) {\n                    return issueKindViewSortPriority(a, b);\n                }\n                return 0;\n            });\n            this.#kindViews.set(kind, newView);\n            return newView;\n        }\n        if (getGroupIssuesByCategorySetting().get()) {\n            const category = issue.getCategory();\n            const view = this.#categoryViews.get(category);\n            if (view) {\n                return view;\n            }\n            const newView = new IssueCategoryView(category);\n            this.#issuesTree.appendChild(newView, (a, b) => {\n                if (a instanceof IssueCategoryView && b instanceof IssueCategoryView) {\n                    return a.getCategoryName().localeCompare(b.getCategoryName());\n                }\n                return 0;\n            });\n            this.#categoryViews.set(category, newView);\n            return newView;\n        }\n        return this.#issuesTree;\n    }\n    #clearViews(views, preservedSet) {\n        for (const [key, view] of Array.from(views.entries())) {\n            if (preservedSet?.has(key)) {\n                continue;\n            }\n            view.parent && view.parent.removeChild(view);\n            views.delete(key);\n        }\n    }\n    #onFullUpdate() {\n        this.#fullUpdate(false);\n    }\n    #fullUpdate(force) {\n        this.#clearViews(this.#categoryViews, force ? undefined : this.#aggregator.aggregatedIssueCategories());\n        this.#clearViews(this.#kindViews, force ? undefined : this.#aggregator.aggregatedIssueKinds());\n        this.#clearViews(this.#issueViews, force ? undefined : this.#aggregator.aggregatedIssueCodes());\n        if (this.#aggregator) {\n            for (const issue of this.#aggregator.aggregatedIssues()) {\n                this.#scheduleIssueViewUpdate(issue);\n            }\n        }\n        this.#updateCounts();\n    }\n    #updateIssueKindViewsCount() {\n        for (const view of this.#kindViews.values()) {\n            const count = this.#issuesManager.numberOfIssues(view.getKind());\n            view.update(count);\n        }\n    }\n    #updateCounts() {\n        this.#showIssuesTreeOrNoIssuesDetectedMessage(this.#issuesManager.numberOfIssues(), this.#issuesManager.numberOfHiddenIssues());\n        if (getGroupIssuesByKindSetting().get()) {\n            this.#updateIssueKindViewsCount();\n        }\n    }\n    #showIssuesTreeOrNoIssuesDetectedMessage(issuesCount, hiddenIssueCount) {\n        if (issuesCount > 0 || hiddenIssueCount > 0) {\n            this.#hiddenIssuesRow.hidden = hiddenIssueCount === 0;\n            this.#hiddenIssuesRow.update(hiddenIssueCount);\n            this.#issuesTree.element.hidden = false;\n            this.#noIssuesMessageDiv.style.display = 'none';\n            const firstChild = this.#issuesTree.firstChild();\n            if (firstChild) {\n                firstChild.select(/* omitFocus= */ true);\n                this.setDefaultFocusedElement(firstChild.listItemElement);\n            }\n        }\n        else {\n            this.#issuesTree.element.hidden = true;\n            if (this.#showThirdPartyCheckbox) {\n                this.setDefaultFocusedElement(this.#showThirdPartyCheckbox.inputElement);\n            }\n            // We alreay know that issesCount is zero here.\n            const hasOnlyThirdPartyIssues = this.#issuesManager.numberOfAllStoredIssues() > 0;\n            this.#noIssuesMessageDiv.textContent = hasOnlyThirdPartyIssues ?\n                i18nString(UIStrings.onlyThirdpartyCookieIssues) :\n                i18nString(UIStrings.noIssuesDetectedSoFar);\n            this.#noIssuesMessageDiv.style.display = 'flex';\n        }\n    }\n    async reveal(issue) {\n        await this.#issueViewUpdatePromise;\n        const key = this.#aggregator.keyForIssue(issue);\n        const issueView = this.#issueViews.get(key);\n        if (issueView) {\n            if (issueView.isForHiddenIssue()) {\n                this.#hiddenIssuesRow.expand();\n                this.#hiddenIssuesRow.reveal();\n            }\n            if (getGroupIssuesByKindSetting().get() && !issueView.isForHiddenIssue()) {\n                const kindView = this.#kindViews.get(issueView.getIssueKind());\n                kindView?.expand();\n                kindView?.reveal();\n            }\n            issueView.expand();\n            issueView.reveal();\n            issueView.select(false, true);\n        }\n    }\n    wasShown() {\n        super.wasShown();\n        this.#issuesTree.registerCSSFiles([issuesTreeStyles]);\n        this.registerCSSFiles([issuesPaneStyles]);\n    }\n}\n//# sourceMappingURL=IssuesPane.js.map","// Copyright 2020 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\nimport * as UI from '../../ui/legacy/legacy.js';\nimport { IssuesPane } from './IssuesPane.js';\nexport class IssueRevealer {\n    async reveal(issue) {\n        await UI.ViewManager.ViewManager.instance().showView('issues-pane');\n        const view = UI.ViewManager.ViewManager.instance().view('issues-pane');\n        if (view) {\n            const issuesPane = await view.widget();\n            if (issuesPane instanceof IssuesPane) {\n                await issuesPane.reveal(issue);\n            }\n            else {\n                throw new Error('Expected issues pane to be an instance of IssuesPane');\n            }\n        }\n    }\n}\n//# sourceMappingURL=IssueRevealer.js.map"],"names":["AggregatedIssue","IssuesManager.Issue.Issue","#affectedCookies","#affectedRawCookieLines","#affectedRequests","#affectedLocations","#heavyAdIssues","#blockedByResponseDetails","#bounceTrackingSites","#corsIssues","#cspIssues","#deprecationIssues","#issueKind","#lowContrastIssues","#cookieDeprecationMetadataIssues","#mixedContentIssues","#sharedArrayBufferIssues","#quirksModeIssues","#attributionReportingIssues","#genericIssues","#representative","#aggregatedIssuesCount","#key","code","aggregationKey","x","#keyForCookie","cookie","domain","path","name","issue","IssuesManager.Issue.unionIssueKind","hasRequest","request","key","rawCookieLine","site","location","IssuesManager.CookieDeprecationMetadataIssue.CookieDeprecationMetadataIssue","IssuesManager.MixedContentIssue.MixedContentIssue","IssuesManager.HeavyAdIssue.HeavyAdIssue","details","IssuesManager.ContentSecurityPolicyIssue.ContentSecurityPolicyIssue","IssuesManager.DeprecationIssue.DeprecationIssue","IssuesManager.SharedArrayBufferIssue.SharedArrayBufferIssue","IssuesManager.LowTextContrastIssue.LowTextContrastIssue","IssuesManager.CorsIssue.CorsIssue","IssuesManager.QuirksModeIssue.QuirksModeIssue","IssuesManager.AttributionReportingIssue.AttributionReportingIssue","IssuesManager.GenericIssue.GenericIssue","_value","IssueAggregator","Common.ObjectWrapper.ObjectWrapper","#aggregatedIssuesByKey","#hiddenAggregatedIssuesByKey","issuesManager","#onIssueAdded","#onFullUpdateRequired","#aggregateIssue","event","map","aggregatedIssue","#aggregateIssueByStatus","aggregatedIssuesMap","result","UIStrings","str_","i18n.i18n.registerUIStrings","i18nString","i18n.i18n.getLocalizedString","HiddenIssuesRow","UI.TreeOutline.TreeElement","#numHiddenAggregatedIssues","#appendHeader","unhideAllIssuesBtn","UI.UIUtils.createTextButton","IssuesManager.IssuesManager.IssuesManager","countAdorner","Adorners.Adorner.Adorner","header","title","count","styles","html","LitHtml","ElementsPanelLink","#shadow","#onElementRevealIconClick","#onElementRevealIconMouseEnter","#onElementRevealIconMouseLeave","data","#update","#render","elementsPanelLinkStyles","LitHtml.render","VisualLogging.link","HideIssuesMenu","#menuItemLabel","Common.UIString.LocalizedEmptyString","#menuItemAction","hideIssuesMenuStyles","buttonElement","contextMenu","UI.ContextMenu.ContextMenu","getGroupIssuesByKindSetting","Common.Settings.Settings","issueKindViewSortPriority","a","b","getClassNameFromKind","kind","IssueKindView","#kind","#issueCount","issueKindIcon","IconButton.Icon.Icon","IssueCounter.IssueCounter.getIssueKindIconData","IssuesManager.Issue.getIssueKindName","hideAvailableIssuesBtn","Components.HideIssuesMenu.HideIssuesMenu","setting","IssuesManager.IssuesManager.getHideIssueByCodeSetting","values","extractShortPath","AffectedResourcesView","#parentView","#affectedResourcesCount","#frameListeners","#unresolvedFrameIds","parent","jslogContext","Logs.RequestResolver.RequestResolver","counterLabel","body","affectedResources","#resolveFrameId","frameId","frame","SDK.FrameManager.FrameManager","addListener","#onFrameChanged","navigateListener","frameWasUnresolved","Common.EventTarget.removeEventListeners","issueCategory","url","frameCell","icon","Host.userMetrics","ownerNode","Common.Revealer.reveal","SDK.OverlayModel.OverlayModel","affectedRequest","options","requestCell","requestLinkIcon","RequestLinkIcon.RequestLinkIcon.RequestLinkIcon","backendNodeId","nodeName","target","cellElement","sendTelemetry","deferredDOMNode","SDK.DOMModel.DeferredDOMNode","anchorElement","Common.Linkifier.Linkifier","element","sourceLocation","sourceCodeLocation","sourceAnchor","Components.Linkifier.Linkifier","additionalClass","info","textContent","cell","AffectedBlockedByResponseView","#appendDetails","detail","#appendDetail","frameUrl","AffectedCookiesView","#appendAffectedCookies","cookies","#appendAffectedCookie","hasAssociatedRequest","link","NetworkForward.UIFilter.UIRequestFilter","NetworkForward.UIFilter.FilterType","AffectedRawCookieLinesView","cookieLinesWithRequestIndicator","row","cookieLine","AffectedDirectivesView","#appendStatus","isReportOnly","status","#appendViolatedDirective","directive","violatedDirective","#appendBlockedURL","#appendBlockedElement","nodeId","model","elementsPanelLinkComponent","IssuesComponents.ElementsPanelLink.ElementsPanelLink","violatingNodeId","onElementRevealIconClick","onElementRevealIconMouseEnter","onElementRevealIconMouseLeave","violatingNode","#appendAffectedContentSecurityPolicyDetails","cspIssues","IssuesManager.ContentSecurityPolicyIssue.inlineViolationCode","IssuesManager.ContentSecurityPolicyIssue.urlViolationCode","IssuesManager.ContentSecurityPolicyIssue.evalViolationCode","IssuesManager.ContentSecurityPolicyIssue.trustedTypesSinkViolationCode","IssuesManager.ContentSecurityPolicyIssue.trustedTypesPolicyViolationCode","cspIssue","#appendAffectedContentSecurityPolicyDetail","cspIssueDetails","IssuesManager.Issue.toZeroBasedLocation","maybeTarget","Platform.DevToolsPath.EmptyUrlString","AffectedElementsView","#appendAffectedElements","affectedElements","#appendAffectedElement","rowElement","AffectedDocumentsInQuirksModeView","#runningUpdatePromise","#doUpdate","#appendQuirksModeDocuments","#appendQuirksModeDocument","issues","AffectedElementsWithLowContrastView","#appendLowContrastElements","#appendLowContrastElement","Platform.NumberUtilities.floor","lowContrastIssue","AffectedHeavyAdView","#appendAffectedHeavyAds","heavyAds","heavyAd","#appendAffectedHeavyAd","#statusToString","#limitToString","reason","AffectedMetadataAllowedSitesView","issueData","textContentElement","textElement","optOutTextElement","linkElement","UI.XLink.XLink","endTextElement","AffectedSharedArrayBufferIssueDetailsView","isWarning","#appendType","type","sabIssues","sabIssue","sabIssueDetails","AffectedSourcesView","#appendAffectedSources","affectedSources","source","#appendAffectedSource","lineNumber","columnNumber","linkifierURLOptions","AffectedTrackingSitesView","trackingSites","AttributionReportingIssueDetailsView","issueCode","#appendRequestOrEmptyCell","#appendElementOrEmptyCell","opts","CorsIssueDetailsView","#appendSecureContextCell","isSecureContext","corsError","corsErrorStatus","highlightHeader","specialHighlightHeader","GenericIssueDetailsView","genericIssues","genericIssue","errorType","i18n.i18n.lockedString","AffectedRequestsView","#appendAffectedRequests","affectedRequests","category","tab","issueTypeToNetworkHeaderMap","unused","AffectedMixedContentView","#appendAffectedMixedContentDetails","mixedContentIssues","mixedContent","networkTab","filename","resolutionStatus","IssueView","#issue","#description","#affectedResourceViews","#issueKindIcon","#hasBeenExpandedBefore","#throttle","#needsUpdateOnExpand","#hiddenIssuesMenu","#contentCreated","description","Common.Throttler.Throttler","#createAffectedResources","view","issueKind","#createBody","visibleAffectedResource","#updateAffectedResourcesPositionAndSize","#createReadMoreLinks","resource","i","UI.ARIAUtils.setPositionInSet","UI.ARIAUtils.setSetSize","#updateFromIssue","cookieIssueSubCatagory","IssuesManager.CookieIssue.CookieIssue","IssuesManager.Issue.getIssueKindDescription","noResources","wrapper","messageElement","markdownComponent","MarkdownView.MarkdownView.MarkdownView","linkWrapper","linkList","UI.Fragment.html","expand","IssueCategoryView","#category","getGroupIssuesByCategorySetting","IssuesPane","UI.Widget.VBox","#categoryViews","#issueViews","#kindViews","#showThirdPartyCheckbox","#issuesTree","#hiddenIssuesRow","#noIssuesMessageDiv","#issuesManager","#aggregator","#issueViewUpdatePromise","VisualLogging.panel","#createToolbars","UI.TreeOutline.TreeOutlineInShadow","#issueUpdated","#onFullUpdate","#updateCounts","toolbarContainer","VisualLogging.toolbar","UI.Toolbar.Toolbar","rightToolbar","groupByCategorySetting","groupByCategoryCheckbox","UI.Toolbar.ToolbarSettingCheckbox","#fullUpdate","groupByKindSetting","groupByKindSettingCheckbox","thirdPartySetting","IssuesManager.Issue.getShowThirdPartyIssuesSetting","issueCounter","IssueCounter.IssueCounter.IssueCounter","issueEnumeration","IssueCounter.IssueCounter.getIssueCountsEnumeration","VisualLogging.counter","issuesToolbarItem","UI.Toolbar.ToolbarItem","#scheduleIssueViewUpdate","#updateIssueView","issueView","newParent","#getIssueViewParent","UI.TreeOutline.TreeOutline","markdownDescription","IssuesManager.MarkdownIssueDescription.createIssueDescriptionFromMarkdown","#updateItemPositionAndSize","childNodes","treeItemCount","node","newView","#clearViews","views","preservedSet","force","#updateIssueKindViewsCount","#showIssuesTreeOrNoIssuesDetectedMessage","issuesCount","hiddenIssueCount","firstChild","hasOnlyThirdPartyIssues","kindView","issuesTreeStyles","issuesPaneStyles","IssueRevealer","UI.ViewManager.ViewManager","issuesPane"],"mappings":"isBAUO,MAAMA,WAAwBC,EAA0B,CAC3DC,GAAmB,IAAI,IACvBC,GAA0B,IAAI,IAC9BC,GAAoB,IAAI,IACxBC,GAAqB,IAAI,IACzBC,GAAiB,IAAI,IACrBC,GAA4B,IAAI,IAChCC,GAAuB,IAAI,IAC3BC,GAAc,IAAI,IAClBC,GAAa,IAAI,IACjBC,GAAqB,IAAI,IACzBC,GAAa,cACbC,GAAqB,IAAI,IACzBC,GAAmC,IAAI,IACvCC,GAAsB,IAAI,IAC1BC,GAA2B,IAAI,IAC/BC,GAAoB,IAAI,IACxBC,GAA8B,IAAI,IAClCC,GAAiB,IAAI,IACrBC,GACAC,GAAyB,EACzBC,GACA,YAAYC,EAAMC,EAAgB,CAC9B,MAAMD,CAAI,EACV,KAAKD,GAAOE,CACf,CACD,YAAa,CACT,MAAM,IAAI,MAAM,6BAA6B,CAChD,CACD,gBAAiB,CACb,OAAO,KAAKF,EACf,CACD,6BAA8B,CAC1B,OAAO,KAAKf,GAA0B,QACzC,CACD,SAAU,CACN,OAAO,MAAM,KAAK,KAAKL,GAAiB,QAAQ,EAAE,IAAIuB,GAAKA,EAAE,MAAM,CACtE,CACD,mBAAoB,CAChB,OAAO,KAAKtB,GAAwB,QACvC,CACD,SAAU,CACN,OAAO,KAAKE,GAAmB,QAClC,CACD,wBAAyB,CACrB,OAAO,KAAKG,GAAqB,QACpC,CACD,6BAA8B,CAC1B,OAAO,KAAKN,GAAiB,QAChC,CACD,kBAAmB,CACf,OAAO,KAAKI,EACf,CACD,oCAAqC,CACjC,OAAO,KAAKQ,EACf,CACD,uBAAwB,CACpB,OAAO,KAAKC,EACf,CACD,eAAgB,CACZ,OAAO,KAAKN,EACf,CACD,cAAe,CACX,OAAO,KAAKC,EACf,CACD,sBAAuB,CACnB,OAAO,KAAKC,EACf,CACD,sBAAuB,CACnB,OAAO,KAAKE,EACf,CACD,UAAW,CACP,OAAO,KAAKT,GAAkB,QACjC,CACD,4BAA6B,CACzB,OAAO,KAAKY,EACf,CACD,qBAAsB,CAClB,OAAO,KAAKC,EACf,CACD,+BAAgC,CAC5B,OAAO,KAAKC,EACf,CACD,kBAAmB,CACf,OAAO,KAAKC,EACf,CACD,gBAAiB,CACb,OAAI,KAAKC,GACE,KAAKA,GAAgB,iBAEzB,IACV,CACD,aAAc,CACV,OAAI,KAAKA,GACE,KAAKA,GAAgB,cAEzB,OACV,CACD,0BAA2B,CACvB,OAAO,KAAKC,EACf,CAKDK,GAAcC,EAAQ,CAClB,KAAM,CAAE,OAAAC,EAAQ,KAAAC,EAAM,KAAAC,CAAI,EAAKH,EAC/B,MAAO,GAAGC,CAAM,IAAIC,CAAI,IAAIC,CAAI,EACnC,CACD,YAAYC,EAAO,CACf,KAAKV,KACA,KAAKD,KACN,KAAKA,GAAkBW,GAE3B,KAAKnB,GAAaoB,GAAmC,KAAKpB,GAAYmB,EAAM,QAAO,CAAE,EACrF,IAAIE,EAAa,GACjB,UAAWC,KAAWH,EAAM,WACxBE,EAAa,GACR,KAAK7B,GAAkB,IAAI8B,EAAQ,SAAS,GAC7C,KAAK9B,GAAkB,IAAI8B,EAAQ,UAAWA,CAAO,EAG7D,UAAWP,KAAUI,EAAM,UAAW,CAClC,MAAMI,EAAM,KAAKT,GAAcC,CAAM,EAChC,KAAKzB,GAAiB,IAAIiC,CAAG,GAC9B,KAAKjC,GAAiB,IAAIiC,EAAK,CAAE,OAAAR,EAAQ,WAAAM,CAAU,CAAE,CAE5D,CACD,UAAWG,KAAiBL,EAAM,iBACzB,KAAK5B,GAAwB,IAAIiC,CAAa,GAC/C,KAAKjC,GAAwB,IAAIiC,EAAe,CAAE,cAAAA,EAAe,WAAAH,CAAU,CAAE,EAGrF,UAAWI,KAAQN,EAAM,gBAChB,KAAKvB,GAAqB,IAAI6B,CAAI,GACnC,KAAK7B,GAAqB,IAAI6B,CAAI,EAG1C,UAAWC,KAAYP,EAAM,UAAW,CACpC,MAAMI,EAAM,KAAK,UAAUG,CAAQ,EAC9B,KAAKjC,GAAmB,IAAI8B,CAAG,GAChC,KAAK9B,GAAmB,IAAI8B,EAAKG,CAAQ,CAEhD,CACGP,aAAiBQ,IACjB,KAAKzB,GAAiC,IAAIiB,CAAK,EAE/CA,aAAiBS,IACjB,KAAKzB,GAAoB,IAAIgB,CAAK,EAElCA,aAAiBU,IACjB,KAAKnC,GAAe,IAAIyB,CAAK,EAEjC,UAAWW,KAAWX,EAAM,8BAA+B,CACvD,MAAMI,EAAM,KAAK,UAAUO,EAAS,CAAC,cAAe,eAAgB,YAAa,UAAW,SAAU,SAAS,CAAC,EAChH,KAAKnC,GAA0B,IAAI4B,EAAKO,CAAO,CAClD,CACGX,aAAiBY,IACjB,KAAKjC,GAAW,IAAIqB,CAAK,EAEzBA,aAAiBa,IACjB,KAAKjC,GAAmB,IAAIoB,CAAK,EAEjCA,aAAiBc,IACjB,KAAK7B,GAAyB,IAAIe,CAAK,EAEvCA,aAAiBe,IACjB,KAAKjC,GAAmB,IAAIkB,CAAK,EAEjCA,aAAiBgB,IACjB,KAAKtC,GAAY,IAAIsB,CAAK,EAE1BA,aAAiBiB,IACjB,KAAK/B,GAAkB,IAAIc,CAAK,EAEhCA,aAAiBkB,IACjB,KAAK/B,GAA4B,IAAIa,CAAK,EAE1CA,aAAiBmB,IACjB,KAAK/B,GAAe,IAAIY,CAAK,CAEpC,CACD,SAAU,CACN,OAAO,KAAKnB,EACf,CACD,UAAW,CACP,OAAO,KAAKQ,IAAiB,SAAQ,GAAM,EAC9C,CACD,UAAU+B,EAAQ,CACd,MAAM,IAAI,MAAM,8CAA8C,CACjE,CACL,CACO,MAAMC,WAAwBC,EAAmC,CACpE,cACAC,GAAyB,IAAI,IAC7BC,GAA+B,IAAI,IACnC,YAAYC,EAAe,CACvB,QACA,KAAK,cAAgBA,EACrB,KAAK,cAAc,iBAAiB,aAAmE,KAAKC,GAAe,IAAI,EAC/H,KAAK,cAAc,iBAAiB,qBAAoF,KAAKC,GAAuB,IAAI,EACxJ,UAAW3B,KAAS,KAAK,cAAc,OAAM,EACzC,KAAK4B,GAAgB5B,CAAK,CAEjC,CACD0B,GAAcG,EAAO,CACjB,KAAKD,GAAgBC,EAAM,KAAK,KAAK,CACxC,CACDF,IAAwB,CACpB,KAAKJ,GAAuB,QAC5B,KAAKC,GAA6B,QAClC,UAAWxB,KAAS,KAAK,cAAc,OAAM,EACzC,KAAK4B,GAAgB5B,CAAK,EAE9B,KAAK,yBAAyB,qBACjC,CACD4B,GAAgB5B,EAAO,CACnB,MAAM8B,EAAM9B,EAAM,SAAQ,EAAK,KAAKwB,GAA+B,KAAKD,GAClEQ,EAAkB,KAAKC,GAAwBF,EAAK9B,CAAK,EAC/D,YAAK,yBAAyB,yBAAgE+B,CAAe,EACtGA,CACV,CACDC,GAAwBC,EAAqBjC,EAAO,CAChD,MAAMI,EAAMJ,EAAM,OAClB,IAAI+B,EAAkBE,EAAoB,IAAI7B,CAAG,EACjD,OAAK2B,IACDA,EAAkB,IAAI9D,GAAgB+B,EAAM,KAAM,EAAEI,CAAG,EACvD6B,EAAoB,IAAI7B,EAAK2B,CAAe,GAEhDA,EAAgB,YAAY/B,CAAK,EAC1B+B,CACV,CACD,kBAAmB,CACf,MAAO,CAAC,GAAG,KAAKR,GAAuB,OAAM,EAAI,GAAG,KAAKC,GAA6B,OAAM,CAAE,CACjG,CACD,wBAAyB,CACrB,OAAO,KAAKA,GAA6B,QAC5C,CACD,sBAAuB,CACnB,OAAO,IAAI,IAAI,CAAC,GAAG,KAAKD,GAAuB,OAAQ,GAAG,KAAKC,GAA6B,KAAI,CAAE,CAAC,CACtG,CACD,2BAA4B,CACxB,MAAMU,EAAS,IAAI,IACnB,UAAWlC,KAAS,KAAKuB,GAAuB,OAAM,EAClDW,EAAO,IAAIlC,EAAM,YAAa,CAAA,EAElC,OAAOkC,CACV,CACD,sBAAuB,CACnB,MAAMA,EAAS,IAAI,IACnB,UAAWlC,KAAS,KAAKuB,GAAuB,OAAM,EAClDW,EAAO,IAAIlC,EAAM,QAAS,CAAA,EAE9B,OAAOkC,CACV,CACD,0BAA2B,CACvB,OAAO,KAAKX,GAAuB,IACtC,CACD,gCAAiC,CAC7B,OAAO,KAAKC,GAA6B,IAC5C,CACD,YAAYxB,EAAO,CACf,OAAOA,EAAM,MAChB,CACL,2IC3QMmC,GAAY,CAId,aAAc,gBAId,UAAW,YACf,EACMC,GAAOC,EAA4B,mCAAoCF,EAAS,EAChFG,GAAaC,EAA6B,KAAK,OAAWH,EAAI,EAC7D,MAAMI,UAAwBC,CAA2B,CAC5DC,GACA,aAAc,CACV,MAAM,OAAW,EAAI,EACrB,KAAKA,GAA6B,SAAS,cAAc,MAAM,EAC/D,KAAK,cAAgB,GACrB,KAAK,gBAAgB,UAAU,IAAI,iBAAkB,eAAe,EACpE,KAAK,oBAAoB,UAAU,IAAI,oBAAoB,EAC3D,KAAKC,GAAa,CACrB,CACDA,IAAgB,CACZ,MAAMC,EAAqBC,GAA4BP,GAAWH,GAAU,SAAS,EAAG,IAAMW,EAA0C,SAAQ,EAAG,gBAAiB,EAAE,CAAE,UAAW,2BAA4B,aAAc,0BAA0B,CAAE,EACnPC,EAAe,IAAIC,GACzBD,EAAa,KAAO,CAChB,KAAM,eACN,QAAS,KAAKL,EAC1B,EACQK,EAAa,UAAU,IAAI,yBAAyB,EACpD,KAAKL,GAA2B,YAAc,IAC9C,MAAMO,EAAS,SAAS,cAAc,KAAK,EACrCC,EAAQ,SAAS,cAAc,KAAK,EAC1CD,EAAO,UAAU,IAAI,QAAQ,EAC7BC,EAAM,UAAU,IAAI,OAAO,EAC3BA,EAAM,YAAcZ,GAAWH,GAAU,YAAY,EACrDc,EAAO,YAAYF,CAAY,EAC/BE,EAAO,YAAYC,CAAK,EACxBD,EAAO,YAAYL,CAAkB,EACrC,KAAK,gBAAgB,YAAYK,CAAM,CAC1C,CACD,OAAOE,EAAO,CACV,KAAKT,GAA2B,YAAc,GAAGS,CAAK,EACzD,CACL,CC9CA,MAAMC,GAAS,IAAI,cACnBA,GAAO,YACP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAeC,EChBD,KAAM,CAAEC,KAAAA,EAAM,EAAGC,GACV,MAAMC,WAA0B,WAAY,CAC/CC,GAAU,KAAK,aAAa,CAAE,KAAM,MAAQ,CAAA,EAC5CC,GAA4B,IAAM,CAAA,EAClCC,GAAiC,IAAM,CAAA,EACvCC,GAAiC,IAAM,CAAA,EACvC,IAAI,KAAKC,EAAM,CACX,KAAKH,GAA4BG,EAAK,yBACtC,KAAKF,GAAiCE,EAAK,8BAC3C,KAAKD,GAAiCC,EAAK,8BAC3C,KAAKC,GAAO,CACf,CACDA,IAAU,CACN,KAAKC,GAAO,CACf,CACD,mBAAoB,CAChB,KAAKN,GAAQ,mBAAqB,CAACO,EAAuB,CAC7D,CACDD,IAAU,CAENE,GAAeX;AAAAA;AAAAA;AAAAA,gBAGPY,EAAmB,gBAAgB,EAAE,MAAM,CAAE,MAAO,EAAI,CAAE,CAAC;AAAA,iBAC1D,KAAKR,EAAyB;AAAA,sBACzB,KAAKC,EAA8B;AAAA,sBACnC,KAAKC,EAA8B;AAAA,QAChD,KAAKH,GAAS,CAAE,KAAM,IAAM,CAAA,CAEhC,CACL,CACA,eAAe,OAAO,+BAAgCD,EAAiB,EChCvE,MAAMH,GAAS,IAAI,cACnBA,GAAO,YACP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAyBC,ECvBD,KAAM,CAAE,KAAAC,EAAM,EAAGC,GACXnB,GAAY,CAId,aAAc,aAClB,EACMC,GAAOC,EAA4B,6CAA8CF,EAAS,EAC1FG,GAAaC,EAA6B,KAAK,OAAWH,EAAI,EAC7D,MAAM8B,WAAuB,WAAY,CAC5CV,GAAU,KAAK,aAAa,CAAE,KAAM,MAAQ,CAAA,EAC5CW,GAAiBC,GACjBC,GAAkB,IAAM,CAAA,EACxB,IAAI,KAAKT,EAAM,CACX,KAAKO,GAAiBP,EAAK,cAC3B,KAAKS,GAAkBT,EAAK,eAC5B,KAAKE,GAAO,CACf,CACD,mBAAoB,CAChB,KAAKN,GAAQ,mBAAqB,CAACc,EAAoB,CAC1D,CACD,WAAWzC,EAAO,CACdA,EAAM,gBAAe,EACrB,MAAM0C,EAAgB,KAAKf,GAAQ,cAAc,QAAQ,EACnDgB,EAAc,IAAIC,GAA2B5C,EAAO,CACtD,EAAG0C,GAAe,sBAAqB,EAAG,KAC1C,EAAGA,GAAe,sBAAqB,EAAG,MACtD,CAAS,EACDC,EAAY,cAAa,EAAG,WAAW,KAAKL,GAAgB,IAAM,KAAKE,GAAe,EAAI,CAAE,aAAc,uBAAyB,CAAA,EAC9HG,EAAY,MACpB,CACDV,IAAU,CAGNE,GAAeX;AAAA;AAAA,cAET,CAAE,QAAS,OAA0C,SAAU,gBAAiB,MAAOf,GAAWH,GAAU,YAAY,EAAG;AAAA,sBACnH,aAAa;AAAA;AAAA,eAEpB,KAAK,WAAW,KAAK,IAAI,CAAC;AAAA,MAClC,KAAKqB,GAAS,CAAE,KAAM,IAAM,CAAA,CAC9B,CACL,CACA,eAAe,OAAO,4BAA6BU,EAAc,ECzCjE,MAAM/B,EAAY,CAId,yBAA0B,+BAI1B,8BAA+B,oCAI/B,2BAA4B,+BAChC,EACMC,GAAOC,EAA4B,iCAAkCF,CAAS,EAC9EG,GAAaC,EAA6B,KAAK,OAAWH,EAAI,EAC7D,SAASsC,GAA8B,CAC1C,OAAOC,GAAyB,SAAU,EAAC,cAAc,uBAAwB,EAAK,CAC1F,CACO,SAASC,GAA0BC,EAAGC,EAAG,CAC5C,OAAID,EAAE,QAAO,IAAOC,EAAE,QAAO,EAClB,EAEPD,EAAE,QAAS,IAAK,aAGhBA,EAAE,QAAO,IAAO,kBAChBC,EAAE,QAAS,IAAK,cACT,GAEJ,CACX,CACO,SAASC,GAAqBC,EAAM,CACvC,OAAQA,EAAI,CACR,IAAK,iBACD,MAAO,mBACX,IAAK,cACD,MAAO,eACX,IAAK,YACD,MAAO,aACd,CACL,CACO,MAAMC,WAAsBxC,CAA2B,CAC1DyC,GACAC,GACA,YAAYH,EAAM,CACd,MAAM,OAAW,EAAI,EACrB,KAAKE,GAAQF,EACb,KAAKG,GAAc,SAAS,cAAc,MAAM,EAChD,KAAK,cAAgB,GACrB,KAAK,gBAAgB,UAAU,IAAI,YAAY,EAC/C,KAAK,gBAAgB,UAAU,IAAIJ,GAAqBC,CAAI,CAAC,EAC7D,KAAK,oBAAoB,UAAU,IAAI,iBAAiB,CAC3D,CACD,SAAU,CACN,OAAO,KAAKE,EACf,CACD,6BAA8B,CAC1B,OAAQ,KAAKA,GAAK,CACd,IAAK,YACD,OAAO5C,GAAWH,EAAU,wBAAwB,EACxD,IAAK,cACD,OAAOG,GAAWH,EAAU,0BAA0B,EAC1D,IAAK,iBACD,OAAOG,GAAWH,EAAU,6BAA6B,CAChE,CACJ,CACDQ,IAAgB,CACZ,MAAMM,EAAS,SAAS,cAAc,KAAK,EAC3CA,EAAO,UAAU,IAAI,QAAQ,EAC7B,MAAMmC,EAAgB,IAAIC,GAC1BD,EAAc,KAAOE,GAA+C,KAAKJ,EAAK,EAC9EE,EAAc,UAAU,IAAI,oBAAoB,EAChD,MAAMrC,EAAe,IAAIC,GACzBD,EAAa,KAAO,CAChB,KAAM,eACN,QAAS,KAAKoC,EAC1B,EACQpC,EAAa,UAAU,IAAI,yBAAyB,EACpD,KAAKoC,GAAY,YAAc,IAC/B,MAAMjC,EAAQ,SAAS,cAAc,KAAK,EAC1CA,EAAM,UAAU,IAAI,OAAO,EAC3BA,EAAM,YAAcqC,GAAqC,KAAKL,EAAK,EACnE,MAAMM,EAAyB,IAAIC,GACnCD,EAAuB,UAAU,IAAI,uBAAuB,EAC5DA,EAAuB,KAAO,CAC1B,cAAe,KAAK,4BAA6B,EACjD,eAAgB,IAAM,CAClB,MAAME,EAAUC,KACVC,EAASF,EAAQ,MACvB,UAAW1F,KAAS8C,EAA0C,SAAU,EAAC,OAAM,EACvE9C,EAAM,YAAc,KAAKkF,KACzBU,EAAO5F,EAAM,KAAM,CAAA,EAAI,UAG/B0F,EAAQ,IAAIE,CAAM,CACrB,CACb,EACQ3C,EAAO,YAAYmC,CAAa,EAChCnC,EAAO,YAAYF,CAAY,EAC/BE,EAAO,YAAYC,CAAK,EACxBD,EAAO,YAAYuC,CAAsB,EACzC,KAAK,gBAAgB,YAAYvC,CAAM,CAC1C,CACD,UAAW,CACP,KAAKN,GAAa,EAClB,KAAK,OAAM,CACd,CACD,OAAOQ,EAAO,CACV,KAAKgC,GAAY,YAAc,GAAGhC,CAAK,EAC1C,CACL,CCrHA,MAAMC,GAAS,IAAI,cACnBA,GAAO,YACP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAuCC,ECzCD,MAAMA,GAAS,IAAI,cACnBA,GAAO,YACP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA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"}