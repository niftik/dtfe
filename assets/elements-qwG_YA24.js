import{aJ as a,i as s,as as n,aj as r,aK as d,aL as l,aM as c}from"./inspector-CyOA7R9n.js";import{E as p}from"./ElementStatePaneWidget-6aoZ4Fwh.js";import{A as K,a as U,e as q,C as V,b as z,c as J,d as $,D as B,f as G,i as Q,g as X,h as Y,j as Z,k as ee,l as te,m as se,L as oe,M as ne,n as ie,N as re,P as ae,o as de,p as le,q as ce,S as pe,r as me,s as he,t as ge,u as ue,v as Se,T as Me,W as ye}from"./ElementStatePaneWidget-6aoZ4Fwh.js";import"./EventListenersView-ZykD45RN.js";import"./UserVisibleError-YMOzvDSx.js";import"./TreeOutline-CeMGdnsP.js";import"./directives-BpSiwtWR.js";import"./StylePropertyEditor-BEGc-Ch4.js";import"./swatchPopover.css-CdLS3b97.js";import"./cssOverview.css-C_I9lWrq.js";import"./PanelIntroductionSteps-BeLT2-qM.js";import"./PreviewToggle-D6BBIbZ3.js";import"./inspectorCommon.css-gVYvLA0h.js";import"./FloatingButton-ChdjBnjy.js";import"./Debouncer-BW_30p93.js";import"./BezierUI-Cu0bTMGR.js";import"./Helper-Wu6lA3aw.js";import"./PopoverHelper-fEnxzApM.js";import"./WorkspaceDiff-_8IW6Oi2.js";import"./ScriptFormatter-CdcZyJ9a.js";import"./utils-C4_HKhgT.js";import"./emulation-CRgKT_2f.js";import"./RootView-hYGHqrG8.js";import"./DeviceModeModel-fDJ3OPwb.js";import"./mobile_throttling-CIMam4T2.js";let t;class i{toggleSearchAction;mode;showDetailedInspectTooltipSetting;constructor(){this.toggleSearchAction=a.instance().getAction("elements.toggle-element-search"),this.mode="none",s.instance().addEventListener("SuspendStateChanged",this.suspendStateChanged,this),s.instance().addModelListener(n,"InspectModeExited",()=>this.setMode("none"),void 0,{scoped:!0}),n.setInspectNodeHandler(this.inspectNode.bind(this)),s.instance().observeModels(n,this,{scoped:!0}),this.showDetailedInspectTooltipSetting=r.instance().moduleSetting("show-detailed-inspect-tooltip"),this.showDetailedInspectTooltipSetting.addChangeListener(this.showDetailedInspectTooltipChanged.bind(this)),document.addEventListener("keydown",e=>{e.keyCode===d.Esc.code&&this.isInInspectElementMode()&&(this.setMode("none"),e.consume(!0),l(null,e,"cancel-inspect-mode"))},!0)}static instance({forceNew:e}={forceNew:!1}){return(!t||e)&&(t=new i),t}modelAdded(e){this.mode!=="none"&&e.setInspectMode(this.mode,this.showDetailedInspectTooltipSetting.get())}modelRemoved(e){}isInInspectElementMode(){return this.mode!=="none"}toggleInspectMode(){let e;this.isInInspectElementMode()?e="none":e=r.instance().moduleSetting("show-ua-shadow-dom").get()?"searchForUAShadowDOM":"searchForNode",this.setMode(e)}captureScreenshotMode(){this.setMode("captureAreaScreenshot")}setMode(e){if(!s.instance().allTargetsSuspended()){this.mode=e;for(const o of s.instance().models(n,{scoped:!0}))o.setInspectMode(e,this.showDetailedInspectTooltipSetting.get());this.toggleSearchAction.setToggled(this.isInInspectElementMode())}}suspendStateChanged(){s.instance().allTargetsSuspended()&&(this.mode="none",this.toggleSearchAction.setToggled(!1))}inspectNode(e){p.instance().revealAndSelectNode(e,!0,!0)}showDetailedInspectTooltipChanged(){this.setMode(this.mode)}}class m{handleAction(e,o){return c.queryParam("isSharedWorker")||(t=i.instance(),!t)?!1:(o==="elements.toggle-element-search"?t.toggleInspectMode():o==="elements.capture-area-screenshot"&&t.captureScreenshotMode(),!0)}}const x=Object.freeze(Object.defineProperty({__proto__:null,InspectElementModeController:i,ToggleSearchActionDelegate:m},Symbol.toStringTag,{value:"Module"}));export{K as AccessibilityTreeUtils,U as AccessibilityTreeView,q as CSSRuleValidator,V as ClassesPaneWidget,z as ColorSwatchPopoverIcon,J as ComputedStyleModel,$ as ComputedStyleWidget,B as DOMLinkifier,G as DOMPath,Q as ElementStatePaneWidget,X as ElementsPanel,Y as ElementsSidebarPane,Z as ElementsTreeElement,ee as ElementsTreeElementHighlighter,te as ElementsTreeOutline,se as EventListenersWidget,x as InspectElementModeController,oe as LayersWidget,ne as MarkerDecorator,ie as MetricsSidebarPane,re as NodeStackTraceWidget,ae as PlatformFontsWidget,de as PropertiesWidget,le as PropertyMatchers,ce as PropertyRenderer,pe as StyleEditorWidget,me as StylePropertiesSection,he as StylePropertyHighlighter,ge as StylePropertyTreeElement,ue as StylePropertyUtils,Se as StylesSidebarPane,Me as TopLayerContainer,ye as WebCustomData};
//# sourceMappingURL=elements-qwG_YA24.js.map
