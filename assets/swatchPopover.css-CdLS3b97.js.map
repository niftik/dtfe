{"version":3,"file":"swatchPopover.css-CdLS3b97.js","sources":["../../ui/legacy/components/inline_editor/CSSLinearEasingModel.js","../../ui/legacy/components/inline_editor/bezierEditor.css.js","../../ui/legacy/components/inline_editor/colorMixSwatch.css.js","../../ui/legacy/components/inline_editor/ColorMixSwatch.js","../../ui/legacy/components/inline_editor/colorSwatch.css.js","../../ui/legacy/components/inline_editor/ColorSwatch.js","../../ui/legacy/components/inline_editor/cssAngleSwatch.css.js","../../ui/legacy/components/inline_editor/CSSAngleUtils.js","../../ui/legacy/components/inline_editor/CSSAngleSwatch.js","../../ui/legacy/components/inline_editor/cssAngleEditor.css.js","../../ui/legacy/components/inline_editor/CSSAngleEditor.js","../../ui/legacy/components/inline_editor/cssAngle.css.js","../../ui/legacy/components/inline_editor/InlineEditorUtils.js","../../ui/legacy/components/inline_editor/CSSAngle.js","../../ui/legacy/components/inline_editor/cssLength.css.js","../../ui/legacy/components/inline_editor/CSSLength.js","../../ui/legacy/components/inline_editor/cssShadowEditor.css.js","../../ui/legacy/components/inline_editor/CSSShadowEditor.js","../../ui/legacy/components/inline_editor/fontEditor.css.js","../../ui/legacy/components/inline_editor/FontEditorUnitConverter.js","../../ui/legacy/components/inline_editor/FontEditorUtils.js","../../ui/legacy/components/inline_editor/FontEditor.js","../../ui/legacy/components/inline_editor/linkSwatch.css.js","../../ui/legacy/components/inline_editor/LinkSwatch.js","../../ui/legacy/components/inline_editor/bezierSwatch.css.js","../../ui/legacy/components/inline_editor/cssShadowSwatch.css.js","../../ui/legacy/components/inline_editor/Swatches.js","../../ui/legacy/components/inline_editor/swatchPopover.css.js"],"sourcesContent":["// Copyright 2023 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\nimport * as CodeMirror from '../../../../third_party/codemirror.next/codemirror.next.js';\nconst cssParser = CodeMirror.css.cssLanguage.parser;\nconst numberFormatter = new Intl.NumberFormat('en', {\n    maximumFractionDigits: 2,\n});\nfunction findNextDefinedInputIndex(points, currentIndex) {\n    for (let i = currentIndex; i < points.length; i++) {\n        if (!isNaN(points[i].input)) {\n            return i;\n        }\n    }\n    return -1;\n}\nfunction consumeLinearStop(cursor, referenceText) {\n    const tokens = [];\n    while (cursor.type.name !== ',' && cursor.type.name !== ')') {\n        const token = referenceText.substring(cursor.from, cursor.to);\n        if (cursor.type.name !== 'NumberLiteral') {\n            // There is something that is not a number inside the argument.\n            return null;\n        }\n        tokens.push(token);\n        cursor.next(false);\n    }\n    // Invalid syntax `linear(0 50% 60% 40%, 1)`.\n    if (tokens.length > 3) {\n        return null;\n    }\n    const percentages = tokens.filter(token => token.includes('%'));\n    // There can't be more than 2 percentages.\n    if (percentages.length > 2) {\n        return null;\n    }\n    const numbers = tokens.filter(token => !token.includes('%'));\n    // There must only be 1 number.\n    if (numbers.length !== 1) {\n        return null;\n    }\n    return {\n        number: Number(numbers[0]),\n        lengthA: percentages[0] ? Number(percentages[0].substring(0, percentages[0].length - 1)) : undefined,\n        lengthB: percentages[1] ? Number(percentages[1].substring(0, percentages[1].length - 1)) : undefined,\n    };\n}\nfunction consumeLinearFunction(text) {\n    const textToParse = `*{--a: ${text}}`;\n    const parsed = cssParser.parse(textToParse);\n    // Take the cursor from declaration\n    const cursor = parsed.cursorAt(textToParse.indexOf(':') + 1);\n    // Move until the `ArgList`\n    while (cursor.name !== 'ArgList' && cursor.next(true)) {\n        // If the callee is not the `linear` function, return null\n        if (cursor.name === 'Callee' && textToParse.substring(cursor.from, cursor.to) !== 'linear') {\n            return null;\n        }\n    }\n    if (cursor.name !== 'ArgList') {\n        return null;\n    }\n    // We're on the `ArgList`, enter into it\n    cursor.firstChild();\n    const stops = [];\n    while (cursor.type.name !== ')' && cursor.next(false)) {\n        const linearStop = consumeLinearStop(cursor, textToParse);\n        if (!linearStop) {\n            // Parsing a `linearStop` was invalid; abort.\n            return null;\n        }\n        stops.push(linearStop);\n    }\n    return stops;\n}\nconst KeywordToValue = {\n    linear: 'linear(0 0%, 1 100%)',\n};\nexport class CSSLinearEasingModel {\n    #points;\n    constructor(points) {\n        this.#points = points;\n    }\n    // https://w3c.github.io/csswg-drafts/css-easing/#linear-easing-function-parsing\n    static parse(text) {\n        // Parse `linear` keyword as `linear(0 0%, 1 100%)` function.\n        if (KeywordToValue[text]) {\n            return CSSLinearEasingModel.parse(KeywordToValue[text]);\n        }\n        const stops = consumeLinearFunction(text);\n        // 1. Let function be a new linear easing function.\n        // 2. Let largestInput be negative infinity.\n        // 3. If there are less than two items in stopList, then return failure.\n        if (!stops || stops.length < 2) {\n            return null;\n        }\n        // 4. For each stop in stopList:\n        let largestInput = -Infinity;\n        const points = [];\n        for (let i = 0; i < stops.length; i++) {\n            const stop = stops[i];\n            // 4.1. Let point be a new linear easing point with its output set\n            // to stop’s <number> as a number.\n            const point = { input: NaN, output: stop.number };\n            // 4.2. Append point to function’s points.\n            points.push(point);\n            // 4.3. If stop has a <linear-stop-length>, then:\n            if (stop.lengthA !== undefined) {\n                // 4.3.1. Set point’s input to whichever is greater:\n                // stop’s <linear-stop-length>'s first <percentage> as a number,\n                // or largestInput.\n                point.input = Math.max(stop.lengthA, largestInput);\n                // 4.3.2. Set largestInput to point’s input.\n                largestInput = point.input;\n                // 4.3.3. If stop’s <linear-stop-length> has a second <percentage>, then:\n                if (stop.lengthB !== undefined) {\n                    // 4.3.3.1. Let extraPoint be a new linear easing point with its output\n                    // set to stop’s <number> as a number.\n                    const extraPoint = { input: NaN, output: point.output };\n                    // 4.3.3.2. Append extraPoint to function’s points.\n                    points.push(extraPoint);\n                    // 4.3.3.3. Set extraPoint’s input to whichever is greater:\n                    // stop’s <linear-stop-length>'s second <percentage>\n                    // as a number, or largestInput.\n                    extraPoint.input = Math.max(stop.lengthB, largestInput);\n                    // 4.3.3.4. Set largestInput to extraPoint’s input.\n                    largestInput = extraPoint.input;\n                }\n                // 4.4. Otherwise, if stop is the first item in stopList, then:\n            }\n            else if (i === 0) {\n                // 4.4.1. Set point’s input to 0.\n                point.input = 0;\n                // 4.4.2. Set largestInput to 0.\n                largestInput = 0;\n                // 4.5. Otherwise, if stop is the last item in stopList,\n                // then set point’s input to whichever is greater: 1 or largestInput.\n            }\n            else if (i === stops.length - 1) {\n                point.input = Math.max(100, largestInput);\n            }\n        }\n        // 5. For runs of items in function’s points that have a null input, assign a\n        // number to the input by linearly interpolating between the closest previous\n        // and next points that have a non-null input.\n        let upperIndex = 0;\n        for (let i = 1; i < points.length; i++) {\n            if (isNaN(points[i].input)) {\n                if (i > upperIndex) {\n                    // Since the last point's input is always defined\n                    // we know that `upperIndex` cannot be `-1`.\n                    upperIndex = findNextDefinedInputIndex(points, i);\n                }\n                points[i].input =\n                    points[i - 1].input + (points[upperIndex].input - points[i - 1].input) / (upperIndex - (i - 1));\n            }\n        }\n        return new CSSLinearEasingModel(points);\n    }\n    addPoint(point, index) {\n        if (index !== undefined) {\n            this.#points.splice(index, 0, point);\n            return;\n        }\n        this.#points.push(point);\n    }\n    removePoint(index) {\n        this.#points.splice(index, 1);\n    }\n    setPoint(index, point) {\n        this.#points[index] = point;\n    }\n    points() {\n        return this.#points;\n    }\n    asCSSText() {\n        const args = this.#points.map(point => `${numberFormatter.format(point.output)} ${numberFormatter.format(point.input)}%`)\n            .join(', ');\n        const text = `linear(${args})`;\n        // If a keyword matches to this function, return the keyword value of it.\n        for (const [keyword, value] of Object.entries(KeywordToValue)) {\n            if (value === text) {\n                return keyword;\n            }\n        }\n        return text;\n    }\n}\n//# sourceMappingURL=CSSLinearEasingModel.js.map","// Copyright 2024 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n// IMPORTANT: this file is auto generated. Please do not edit this file.\n/* istanbul ignore file */\nconst styles = new CSSStyleSheet();\nstyles.replaceSync(\n`/*\n * Copyright (c) 2015 The Chromium Authors. All rights reserved.\n * Use of this source code is governed by a BSD-style license that can be\n * found in the LICENSE file.\n */\n\n:host {\n  width: 270px;\n  height: 350px;\n  user-select: none;\n  padding: 16px;\n  overflow: hidden;\n}\n\n.bezier-preset-selected > svg {\n  background-color: var(--sys-color-tonal-container);\n}\n\n.bezier-container {\n  --override-bezier-control-color: var(--sys-color-purple-bright);\n\n  display: flex;\n  margin-top: 38px;\n  flex-shrink: 0;\n  /* overflown bezier visualization must be on top of the source text */\n  z-index: 2;\n  background-image: radial-gradient(circle, var(--sys-color-surface-variant) 1px, var(--color-background-inverted-opacity-0) 1px);\n  background-size: 17px 17px;\n  background-position: -5px -10px;\n}\n\n.bezier-preset {\n  width: 50px;\n  height: 50px;\n  padding: 5px;\n  margin: auto;\n  background-color: var(--sys-color-surface1);\n  border-radius: 3px;\n}\n\n.bezier-preset line.bezier-control-line {\n  stroke: var(--sys-color-token-subtle);\n  stroke-width: 1;\n  stroke-linecap: round;\n  fill: none;\n}\n\n.bezier-preset circle.bezier-control-circle {\n  fill: var(--sys-color-token-subtle);\n}\n\n.bezier-preset path.bezier-path {\n  stroke: var(--sys-color-inverse-surface);\n  stroke-width: 2;\n  stroke-linecap: round;\n  fill: none;\n}\n\n.bezier-preset-selected path.bezier-path,\n.bezier-preset-selected line.bezier-control-line {\n  stroke: var(--sys-color-on-tonal-container);\n}\n\n.bezier-preset-selected circle.bezier-control-circle {\n  fill: var(--sys-color-on-tonal-container);\n}\n\n.bezier-curve line.linear-line {\n  stroke: var(--sys-color-neutral-outline);\n  stroke-width: 2;\n  stroke-linecap: round;\n  fill: none;\n}\n\n.bezier-curve line.bezier-control-line {\n  stroke: var(--override-bezier-control-color);\n  stroke-width: 2;\n  stroke-linecap: round;\n  fill: none;\n  opacity: 60%;\n}\n\n.bezier-curve circle.bezier-control-circle {\n  fill: var(--override-bezier-control-color);\n  cursor: pointer;\n}\n\n.bezier-curve path.bezier-path {\n  stroke: var(--sys-color-inverse-surface);\n  stroke-width: 3;\n  stroke-linecap: round;\n  fill: none;\n}\n\n.bezier-curve path.bezier-path.linear-path {\n  cursor: pointer;\n}\n\n.bezier-preview-container {\n  position: relative;\n  background-color: var(--sys-color-cdt-base-container);\n  overflow: hidden;\n  border-radius: 20px;\n  width: 200%;\n  height: 20px;\n  z-index: 2;\n  flex-shrink: 0;\n  opacity: 0%;\n}\n\n.bezier-preview-animation {\n  background-color: var(--sys-color-purple-bright);\n  width: 20px;\n  height: 20px;\n  border-radius: 20px;\n  position: absolute;\n}\n\n.bezier-preview-onion {\n  margin-top: -20px;\n  position: relative;\n  z-index: 1;\n}\n\n.bezier-preview-onion > .bezier-preview-animation {\n  opacity: 10%;\n}\n\nsvg.bezier-preset-modify {\n  background-color: var(--sys-color-cdt-base-container);\n  border-radius: 35px;\n  display: inline-block;\n  visibility: hidden;\n  transition: transform 100ms cubic-bezier(0.4, 0, 0.2, 1);\n  cursor: pointer;\n  position: absolute;\n}\n\nsvg.bezier-preset-modify:hover,\n.bezier-preset:hover {\n  background-color: var(--sys-color-state-hover-on-subtle);\n}\n\n.bezier-preset-selected .bezier-preset:hover {\n  background-color: var(--sys-color-tonal-container);\n}\n\n.bezier-preset-modify path {\n  stroke-width: 2;\n  stroke: var(--sys-color-on-surface-subtle);\n  fill: none;\n}\n\n.bezier-presets {\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n}\n\n.bezier-preset-selected .bezier-preset-modify {\n  opacity: 100%;\n}\n\n.bezier-preset-category {\n  width: 50px;\n  cursor: pointer;\n  transition: transform 100ms cubic-bezier(0.4, 0, 0.2, 1);\n}\n\nspan.bezier-display-value {\n  width: 100%;\n  user-select: text;\n  display: block;\n  text-align: center;\n  line-height: 20px;\n  min-height: 20px;\n  cursor: text;\n}\n\nsvg.bezier-curve {\n  margin-left: 32px;\n  margin-top: -8px;\n}\n\nsvg.bezier-curve.linear {\n  margin-top: 42px;\n  overflow: visible;\n}\n\nsvg.bezier-preset-modify.bezier-preset-plus {\n  right: 0;\n}\n\n.bezier-header {\n  margin-top: 16px;\n  z-index: 1;\n}\n\nsvg.bezier-preset-modify:active {\n  transform: scale(1.1);\n  background-color: var(--sys-color-state-ripple-neutral-on-subtle);\n}\n\n.bezier-preset-category:active {\n  transform: scale(1.05);\n}\n\n.bezier-header-active > svg.bezier-preset-modify {\n  visibility: visible;\n}\n\n.bezier-preset-modify:active path {\n  stroke: var(--sys-color-on-surface-subtle);\n}\n\n/*# sourceURL=bezierEditor.css */\n`);\n\nexport default styles;\n","// Copyright 2024 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n// IMPORTANT: this file is auto generated. Please do not edit this file.\n/* istanbul ignore file */\nconst styles = new CSSStyleSheet();\nstyles.replaceSync(\n`/*\n * Copyright 2022 The Chromium Authors. All rights reserved.\n * Use of this source code is governed by a BSD-style license that can be\n * found in the LICENSE file.\n */\n\n/* stylelint-disable */\n.swatch-icon {\n  display: inline-grid;\n  inline-size: 15px;\n  grid: [stack] 1fr / [stack] 1fr;\n  margin-left: 1px;\n  margin-right: 2px;\n  color: var(--color);\n}\n\n.swatch {\n  aspect-ratio: 1 / 1;\n  display: inline-block;\n  width: 10px;\n  border-radius: 1e5px;\n  background:\n    linear-gradient(var(--color), var(--color)),\n    var(--image-file-checker);\n  box-shadow: inset 0 0 0 .5px rgb(128 128 128 / 60%);\n  grid-area: stack;\n}\n/* stylelint-enable */\n\n.swatch-right {\n  justify-self: end;\n}\n\n.swatch-mix {\n  box-shadow: none;\n  justify-self: end;\n  mask: radial-gradient(circle at 0% center, rgb(0 0 0) 50%, rgb(0 0 0 / 0%) calc(50% + 0.5px));\n}\n\n/*# sourceURL=colorMixSwatch.css */\n`);\n\nexport default styles;\n","// Copyright (c) 2022 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\nimport * as Common from '../../../../core/common/common.js';\nimport * as Platform from '../../../../core/platform/platform.js';\nimport * as LitHtml from '../../../lit-html/lit-html.js';\nimport * as VisualLogging from '../../../visual_logging/visual_logging.js';\nimport colorMixSwatchStyles from './colorMixSwatch.css.js';\nconst { html } = LitHtml;\nexport class ColorMixSwatch extends Common.ObjectWrapper.eventMixin(HTMLElement) {\n    shadow = this.attachShadow({ mode: 'open' });\n    colorMixText = ''; // color-mix(in srgb, hotpink, white)\n    firstColorText = ''; // hotpink\n    secondColorText = ''; // white\n    #registerPopoverCallback;\n    constructor() {\n        super();\n        this.shadow.adoptedStyleSheets = [\n            colorMixSwatchStyles,\n        ];\n    }\n    get icon() {\n        return this.shadow.firstElementChild;\n    }\n    mixedColor() {\n        const colorText = this.icon?.computedStyleMap().get('color')?.toString() ?? null;\n        return colorText ? Common.Color.parse(colorText) : null;\n    }\n    setFirstColor(text) {\n        // We need to replace `colorMixText` because it is the CSS for the\n        // the middle section where we actually show the mixed colors.\n        // So, when a color changed, we need to update colorMixText to\n        // reflect the new color (not the old one).\n        if (this.firstColorText) {\n            this.colorMixText = this.colorMixText.replace(this.firstColorText, text);\n        }\n        this.firstColorText = text;\n        this.dispatchEventToListeners(\"colorChanged\" /* Events.COLOR_CHANGED */, { text: this.colorMixText });\n        this.#render();\n    }\n    setSecondColor(text) {\n        // We need to replace from the last to handle the same colors case\n        // i.e. replacing the second color of `color-mix(in srgb, red 50%, red 10%)`\n        // to `blue` should result in `color-mix(in srgb, red 50%, blue 10%)`.\n        if (this.secondColorText) {\n            this.colorMixText = Platform.StringUtilities.replaceLast(this.colorMixText, this.secondColorText, text);\n        }\n        this.secondColorText = text;\n        this.dispatchEventToListeners(\"colorChanged\" /* Events.COLOR_CHANGED */, { text: this.colorMixText });\n        this.#render();\n    }\n    setColorMixText(text) {\n        this.colorMixText = text;\n        this.dispatchEventToListeners(\"colorChanged\" /* Events.COLOR_CHANGED */, { text: this.colorMixText });\n        this.#render();\n    }\n    setRegisterPopoverCallback(callback) {\n        this.#registerPopoverCallback = callback;\n        callback(this);\n    }\n    getText() {\n        return this.colorMixText;\n    }\n    #render() {\n        if (!this.colorMixText || !this.firstColorText || !this.secondColorText) {\n            LitHtml.render(this.colorMixText, this.shadow, { host: this });\n            return;\n        }\n        // Disabled until https://crbug.com/1079231 is fixed.\n        // clang-format off\n        // Note that we use a <slot> with a default value here to display the color text. Consumers of this component are\n        // free to append any content to replace what is being shown here.\n        // Note also that whitespace between nodes is removed on purpose to avoid pushing these elements apart. Do not\n        // re-format the HTML code.\n        LitHtml.render(html `<div class=\"swatch-icon\" jslog=${VisualLogging.cssColorMix()} style=\"--color: ${this.colorMixText}\">\n        <span class=\"swatch swatch-left\" id=\"swatch-1\" style=\"--color: ${this.firstColorText}\"></span>\n        <span class=\"swatch swatch-right\" id=\"swatch-2\" style=\"--color: ${this.secondColorText}\"></span>\n        <span class=\"swatch swatch-mix\" id=\"mix-result\" style=\"--color: ${this.colorMixText}\"></span>\n      </div><slot>${this.colorMixText}</slot>`, this.shadow, { host: this });\n        // clang-format on\n        this.#registerPopoverCallback && this.#registerPopoverCallback(this);\n    }\n}\ncustomElements.define('devtools-color-mix-swatch', ColorMixSwatch);\n//# sourceMappingURL=ColorMixSwatch.js.map","// Copyright 2024 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n// IMPORTANT: this file is auto generated. Please do not edit this file.\n/* istanbul ignore file */\nconst styles = new CSSStyleSheet();\nstyles.replaceSync(\n`/*\n * Copyright (c) 2015 The Chromium Authors. All rights reserved.\n * Use of this source code is governed by a BSD-style license that can be\n * found in the LICENSE file.\n */\n\n:host {\n  white-space: nowrap;\n}\n\n.color-swatch {\n  position: relative;\n  margin-left: 1px;\n  margin-right: 2px;\n  width: 12px;\n  height: 12px;\n  transform: scale(0.8);\n  vertical-align: -2px;\n  display: inline-block;\n  user-select: none;\n  background-image: var(--image-file-checker);\n  line-height: 10px;\n}\n\n.color-swatch-inner {\n  width: 100%;\n  height: 100%;\n  display: inline-block;\n  border: 1px solid var(--sys-color-neutral-outline);\n  box-sizing: border-box;\n  cursor: pointer;\n}\n\n.color-swatch.readonly .color-swatch-inner {\n  cursor: unset;\n}\n\n.color-swatch:not(.readonly) .color-swatch-inner:hover {\n  border: 1px solid var(--sys-color-outline);\n}\n\n@media (forced-colors: active) {\n  .color-swatch {\n    forced-color-adjust: none;\n  }\n}\n\n/*# sourceURL=colorSwatch.css */\n`);\n\nexport default styles;\n","// Copyright (c) 2020 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\nimport * as i18n from '../../../../core/i18n/i18n.js';\nimport * as ColorPicker from '../../../legacy/components/color_picker/color_picker.js';\nimport * as LitHtml from '../../../lit-html/lit-html.js';\nimport * as VisualLogging from '../../../visual_logging/visual_logging.js';\nimport colorSwatchStyles from './colorSwatch.css.js';\nconst { html } = LitHtml;\nconst UIStrings = {\n    /**\n     *@description Icon element title in Color Swatch of the inline editor in the Styles tab\n     */\n    shiftclickToChangeColorFormat: 'Shift-click to change color format',\n};\nconst str_ = i18n.i18n.registerUIStrings('ui/legacy/components/inline_editor/ColorSwatch.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\nexport class ColorChangedEvent extends Event {\n    static eventName = 'colorchanged';\n    data;\n    constructor(color) {\n        super(ColorChangedEvent.eventName, {});\n        this.data = { color };\n    }\n}\nexport class ClickEvent extends Event {\n    static eventName = 'swatchclick';\n    constructor() {\n        super(ClickEvent.eventName, {});\n    }\n}\nexport class ColorSwatch extends HTMLElement {\n    shadow = this.attachShadow({ mode: 'open' });\n    tooltip = i18nString(UIStrings.shiftclickToChangeColorFormat);\n    color = null;\n    readonly = false;\n    constructor(tooltip) {\n        super();\n        this.shadow.adoptedStyleSheets = [\n            colorSwatchStyles,\n        ];\n        if (tooltip) {\n            this.tooltip = tooltip;\n        }\n    }\n    static isColorSwatch(element) {\n        return element.localName === 'devtools-color-swatch';\n    }\n    getReadonly() {\n        return this.readonly;\n    }\n    setReadonly(readonly) {\n        if (this.readonly === readonly) {\n            return;\n        }\n        this.readonly = readonly;\n        if (this.color) {\n            this.renderColor(this.color);\n        }\n    }\n    getColor() {\n        return this.color;\n    }\n    get anchorBox() {\n        const swatch = this.shadow.querySelector('.color-swatch');\n        return swatch ? swatch.boxInWindow() : null;\n    }\n    getText() {\n        return this.color?.getAuthoredText() ?? this.color?.asString();\n    }\n    /**\n     * Render this swatch given a color object or text to be parsed as a color.\n     * @param color The color object or string to use for this swatch.\n     */\n    renderColor(color) {\n        this.color = color;\n        const colorSwatchClasses = LitHtml.Directives.classMap({\n            'color-swatch': true,\n            readonly: this.readonly,\n        });\n        // Disabled until https://crbug.com/1079231 is fixed.\n        // clang-format off\n        // Note that we use a <slot> with a default value here to display the color text. Consumers of this component are\n        // free to append any content to replace what is being shown here.\n        // Note also that whitespace between nodes is removed on purpose to avoid pushing these elements apart. Do not\n        // re-format the HTML code.\n        LitHtml.render(html `<span class=${colorSwatchClasses} title=${this.tooltip}><span class=\"color-swatch-inner\"\n        style=\"background-color: ${this.getText()};\"\n        jslog=${VisualLogging.showStyleEditor('color').track({ click: true })}\n        @click=${this.onClick}\n        @mousedown=${this.consume}\n        @dblclick=${this.consume}></span></span><slot><span>${this.getText()}</span></slot>`, this.shadow, { host: this });\n        // clang-format on\n    }\n    onClick(e) {\n        if (this.readonly) {\n            return;\n        }\n        if (e.shiftKey) {\n            e.stopPropagation();\n            this.showFormatPicker(e);\n            return;\n        }\n        this.dispatchEvent(new ClickEvent());\n    }\n    consume(e) {\n        e.stopPropagation();\n    }\n    setColor(color) {\n        this.renderColor(color);\n        this.dispatchEvent(new ColorChangedEvent(color));\n    }\n    setColorText(color) {\n        this.firstElementChild?.remove();\n        this.renderColor(color);\n        const span = this.appendChild(document.createElement('span'));\n        span.appendChild(document.createTextNode(color.getAuthoredText() ?? color.asString()));\n        this.dispatchEvent(new ColorChangedEvent(color));\n    }\n    showFormatPicker(e) {\n        if (!this.color) {\n            return;\n        }\n        const contextMenu = new ColorPicker.FormatPickerContextMenu.FormatPickerContextMenu(this.color);\n        void contextMenu.show(e, color => {\n            this.setColorText(color);\n        });\n    }\n}\ncustomElements.define('devtools-color-swatch', ColorSwatch);\n//# sourceMappingURL=ColorSwatch.js.map","// Copyright 2024 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n// IMPORTANT: this file is auto generated. Please do not edit this file.\n/* istanbul ignore file */\nconst styles = new CSSStyleSheet();\nstyles.replaceSync(\n`/*\n * Copyright 2021 The Chromium Authors. All rights reserved.\n * Use of this source code is governed by a BSD-style license that can be\n * found in the LICENSE file.\n */\n\n.swatch {\n  position: relative;\n  display: inline-block;\n  margin-bottom: -2px;\n  width: 1em;\n  height: 1em;\n  border: 1px solid var(--sys-color-neutral-outline);\n  border-radius: 50%;\n  overflow: hidden;\n  cursor: pointer;\n  background-color: var(--sys-color-neutral-container);\n}\n\n.mini-hand {\n  position: absolute;\n  margin: auto;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  height: 55%;\n  width: 2px;\n  background-color: var(--sys-color-tonal-container);\n  border-radius: 5px;\n}\n\n/*# sourceURL=cssAngleSwatch.css */\n`);\n\nexport default styles;\n","// Copyright 2020 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\nimport * as Platform from '../../../../core/platform/platform.js';\nimport * as UI from '../../legacy.js';\nexport const CSSAngleRegex = /(?<value>[+-]?\\d*\\.?\\d+)(?<unit>deg|grad|rad|turn)/;\nexport const parseText = (text) => {\n    const result = text.match(CSSAngleRegex);\n    if (!result || !result.groups) {\n        return null;\n    }\n    return {\n        value: Number(result.groups.value),\n        unit: result.groups.unit,\n    };\n};\nexport const getAngleFromRadians = (rad, targetUnit) => {\n    let value = rad;\n    switch (targetUnit) {\n        case \"grad\" /* AngleUnit.GRAD */:\n            value = UI.Geometry.radiansToGradians(rad);\n            break;\n        case \"deg\" /* AngleUnit.DEG */:\n            value = UI.Geometry.radiansToDegrees(rad);\n            break;\n        case \"turn\" /* AngleUnit.TURN */:\n            value = UI.Geometry.radiansToTurns(rad);\n            break;\n    }\n    return {\n        value,\n        unit: targetUnit,\n    };\n};\nexport const getRadiansFromAngle = (angle) => {\n    switch (angle.unit) {\n        case \"deg\" /* AngleUnit.DEG */:\n            return UI.Geometry.degreesToRadians(angle.value);\n        case \"grad\" /* AngleUnit.GRAD */:\n            return UI.Geometry.gradiansToRadians(angle.value);\n        case \"turn\" /* AngleUnit.TURN */:\n            return UI.Geometry.turnsToRadians(angle.value);\n    }\n    return angle.value;\n};\nexport const get2DTranslationsForAngle = (angle, radius) => {\n    const radian = getRadiansFromAngle(angle);\n    return {\n        translateX: Math.sin(radian) * radius,\n        translateY: -Math.cos(radian) * radius,\n    };\n};\nexport const roundAngleByUnit = (angle) => {\n    let roundedValue = angle.value;\n    switch (angle.unit) {\n        case \"deg\" /* AngleUnit.DEG */:\n        case \"grad\" /* AngleUnit.GRAD */:\n            // Round to nearest whole unit.\n            roundedValue = Math.round(angle.value);\n            break;\n        case \"rad\" /* AngleUnit.RAD */:\n            // Allow up to 4 decimals.\n            roundedValue = Math.round(angle.value * 10000) / 10000;\n            break;\n        case \"turn\" /* AngleUnit.TURN */:\n            // Allow up to 2 decimals.\n            roundedValue = Math.round(angle.value * 100) / 100;\n            break;\n        default:\n            Platform.assertNever(angle.unit, `Unknown angle unit: ${angle.unit}`);\n    }\n    return {\n        value: roundedValue,\n        unit: angle.unit,\n    };\n};\nexport const getNextUnit = (currentUnit) => {\n    switch (currentUnit) {\n        case \"deg\" /* AngleUnit.DEG */:\n            return \"grad\" /* AngleUnit.GRAD */;\n        case \"grad\" /* AngleUnit.GRAD */:\n            return \"rad\" /* AngleUnit.RAD */;\n        case \"rad\" /* AngleUnit.RAD */:\n            return \"turn\" /* AngleUnit.TURN */;\n        default:\n            return \"deg\" /* AngleUnit.DEG */;\n    }\n};\nexport const convertAngleUnit = (angle, newUnit) => {\n    if (angle.unit === newUnit) {\n        return angle;\n    }\n    const radian = getRadiansFromAngle(angle);\n    return getAngleFromRadians(radian, newUnit);\n};\nexport const getNewAngleFromEvent = (angle, event) => {\n    const direction = UI.UIUtils.getValueModificationDirection(event);\n    if (direction === null) {\n        return;\n    }\n    let diff = direction === 'Up' ? Math.PI / 180 : -Math.PI / 180;\n    if (event.shiftKey) {\n        diff *= 10;\n    }\n    const radian = getRadiansFromAngle(angle);\n    return getAngleFromRadians(radian + diff, angle.unit);\n};\n//# sourceMappingURL=CSSAngleUtils.js.map","// Copyright (c) 2020 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\nimport * as LitHtml from '../../../lit-html/lit-html.js';\nimport cssAngleSwatchStyles from './cssAngleSwatch.css.js';\nimport { get2DTranslationsForAngle } from './CSSAngleUtils.js';\nconst { render, html } = LitHtml;\nconst styleMap = LitHtml.Directives.styleMap;\nconst swatchWidth = 11;\nexport class CSSAngleSwatch extends HTMLElement {\n    shadow = this.attachShadow({ mode: 'open' });\n    angle = {\n        value: 0,\n        unit: \"rad\" /* AngleUnit.RAD */,\n    };\n    connectedCallback() {\n        this.shadow.adoptedStyleSheets = [cssAngleSwatchStyles];\n    }\n    set data(data) {\n        this.angle = data.angle;\n        this.render();\n    }\n    render() {\n        const { translateX, translateY } = get2DTranslationsForAngle(this.angle, swatchWidth / 4);\n        const miniHandStyle = {\n            transform: `translate(${translateX}px, ${translateY}px) rotate(${this.angle.value}${this.angle.unit})`,\n        };\n        // Disabled until https://crbug.com/1079231 is fixed.\n        // clang-format off\n        render(html `\n      <div class=\"swatch\">\n        <span class=\"mini-hand\" style=${styleMap(miniHandStyle)}></span>\n      </div>\n    `, this.shadow, {\n            host: this,\n        });\n        // clang-format on\n    }\n}\ncustomElements.define('devtools-css-angle-swatch', CSSAngleSwatch);\n//# sourceMappingURL=CSSAngleSwatch.js.map","// Copyright 2024 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n// IMPORTANT: this file is auto generated. Please do not edit this file.\n/* istanbul ignore file */\nconst styles = new CSSStyleSheet();\nstyles.replaceSync(\n`/*\n * Copyright 2021 The Chromium Authors. All rights reserved.\n * Use of this source code is governed by a BSD-style license that can be\n * found in the LICENSE file.\n */\n\n.editor.interacting::before {\n  content: \"\";\n  position: fixed;\n  inset: 0;\n}\n\n.clock,\n.pointer,\n.center,\n.hand,\n.dial {\n  position: absolute;\n}\n\n.clock {\n  top: 6px;\n  width: 6em;\n  height: 6em;\n  background-color: var(--sys-color-cdt-base-container);\n  border: 0.5em solid var(--sys-color-neutral-outline);\n  border-radius: 9em;\n  box-shadow: var(--drop-shadow), inset 0 0 15px var(--box-shadow-outline-color);\n  transform: translateX(-3em);\n}\n\n.center,\n.hand {\n  box-shadow: 0 0 2px var(--box-shadow-outline-color);\n}\n\n.pointer {\n  margin: auto;\n  top: 0;\n  left: -0.4em;\n  right: 0;\n  width: 0;\n  height: 0;\n  border-style: solid;\n  border-width: 0 0.9em 0.9em;\n  border-color: transparent transparent var(--sys-color-neutral-outline) transparent;\n}\n\n.center,\n.hand,\n.dial {\n  margin: auto;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n}\n\n.center {\n  width: 0.7em;\n  height: 0.7em;\n  border-radius: 10px;\n}\n\n.dial {\n  width: 2px;\n  height: var(--clock-dial-length);\n  background-color: var(--override-dial-color);\n  border-radius: 1px;\n}\n\n.hand {\n  height: 50%;\n  width: 0.3em;\n  background: var(--sys-color-tonal-container);\n}\n\n.hand::before {\n  content: \"\";\n  display: inline-block;\n  position: absolute;\n  top: -0.6em;\n  left: -0.35em;\n  width: 1em;\n  height: 1em;\n  border-radius: 50%;\n  cursor: pointer;\n  box-shadow: 0 0 5px var(--box-shadow-outline-color);\n}\n\n.hand::before,\n.center {\n  background-color: var(--sys-color-tonal-container);\n}\n\n:host-context(.theme-with-dark-background) .hand::before {\n  box-shadow: 0 0 5px hsl(0deg 0% 0% / 80%);\n}\n\n:host-context(.theme-with-dark-background) .center,\n:host-context(.theme-with-dark-background) .hand {\n  box-shadow: 0 0 2px hsl(0deg 0% 0% / 60%);\n}\n\n:host-context(.theme-with-dark-background) .clock {\n  background-color: hsl(225deg 5% 27%);\n}\n\n/*# sourceURL=cssAngleEditor.css */\n`);\n\nexport default styles;\n","// Copyright (c) 2020 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\nimport * as Common from '../../../../core/common/common.js';\nimport * as LitHtml from '../../../lit-html/lit-html.js';\nimport * as VisualLogging from '../../../visual_logging/visual_logging.js';\nimport cssAngleEditorStyles from './cssAngleEditor.css.js';\nimport { get2DTranslationsForAngle, getAngleFromRadians, getNewAngleFromEvent, getRadiansFromAngle, } from './CSSAngleUtils.js';\nconst { render, html } = LitHtml;\nconst styleMap = LitHtml.Directives.styleMap;\nconst CLOCK_DIAL_LENGTH = 6;\nexport class CSSAngleEditor extends HTMLElement {\n    shadow = this.attachShadow({ mode: 'open' });\n    angle = {\n        value: 0,\n        unit: \"rad\" /* AngleUnit.RAD */,\n    };\n    onAngleUpdate;\n    background = '';\n    clockRadius = 77 / 2; // By default the clock is 77 * 77.\n    dialTemplates;\n    mousemoveThrottler = new Common.Throttler.Throttler(16.67 /* 60fps */);\n    mousemoveListener = this.onMousemove.bind(this);\n    connectedCallback() {\n        this.shadow.adoptedStyleSheets = [cssAngleEditorStyles];\n        this.style.setProperty('--clock-dial-length', `${CLOCK_DIAL_LENGTH}px`);\n    }\n    set data(data) {\n        this.angle = data.angle;\n        this.onAngleUpdate = data.onAngleUpdate;\n        this.background = data.background;\n        this.render();\n    }\n    updateAngleFromMousePosition(mouseX, mouseY, shouldSnapToMultipleOf15Degrees) {\n        const clock = this.shadow.querySelector('.clock');\n        if (!clock || !this.onAngleUpdate) {\n            return;\n        }\n        const { top, right, bottom, left } = clock.getBoundingClientRect();\n        this.clockRadius = (right - left) / 2;\n        const clockCenterX = (left + right) / 2;\n        const clockCenterY = (bottom + top) / 2;\n        const radian = -Math.atan2(mouseX - clockCenterX, mouseY - clockCenterY) + Math.PI;\n        if (shouldSnapToMultipleOf15Degrees) {\n            const multipleInRadian = getRadiansFromAngle({\n                value: 15,\n                unit: \"deg\" /* AngleUnit.DEG */,\n            });\n            const closestMultipleOf15Degrees = Math.round(radian / multipleInRadian) * multipleInRadian;\n            this.onAngleUpdate(getAngleFromRadians(closestMultipleOf15Degrees, this.angle.unit));\n        }\n        else {\n            this.onAngleUpdate(getAngleFromRadians(radian, this.angle.unit));\n        }\n    }\n    onEditorMousedown(event) {\n        event.stopPropagation();\n        this.updateAngleFromMousePosition(event.pageX, event.pageY, event.shiftKey);\n        const targetDocument = event.target instanceof Node && event.target.ownerDocument;\n        const editor = this.shadow.querySelector('.editor');\n        if (targetDocument && editor) {\n            targetDocument.addEventListener('mousemove', this.mousemoveListener, { capture: true });\n            editor.classList.add('interacting');\n            targetDocument.addEventListener('mouseup', () => {\n                targetDocument.removeEventListener('mousemove', this.mousemoveListener, { capture: true });\n                editor.classList.remove('interacting');\n            }, { once: true });\n        }\n    }\n    onMousemove(event) {\n        const isPressed = event.buttons === 1;\n        if (!isPressed) {\n            return;\n        }\n        event.preventDefault();\n        void this.mousemoveThrottler.schedule(() => {\n            this.updateAngleFromMousePosition(event.pageX, event.pageY, event.shiftKey);\n            return Promise.resolve();\n        });\n    }\n    onEditorWheel(event) {\n        if (!this.onAngleUpdate) {\n            return;\n        }\n        const newAngle = getNewAngleFromEvent(this.angle, event);\n        if (newAngle) {\n            this.onAngleUpdate(newAngle);\n        }\n        event.preventDefault();\n    }\n    render() {\n        const clockStyles = {\n            background: this.background,\n        };\n        const { translateX, translateY } = get2DTranslationsForAngle(this.angle, this.clockRadius / 2);\n        const handStyles = {\n            transform: `translate(${translateX}px, ${translateY}px) rotate(${this.angle.value}${this.angle.unit})`,\n        };\n        // Disabled until https://crbug.com/1079231 is fixed.\n        // clang-format off\n        render(html `\n      <div class=\"editor\" jslog=${VisualLogging.dialog('cssAngleEditor').track({ click: true, drag: true, resize: true, keydown: 'Enter|Escape' })}>\n        <span class=\"pointer\"></span>\n        <div\n          class=\"clock\"\n          style=${styleMap(clockStyles)}\n          @mousedown=${this.onEditorMousedown}\n          @wheel=${this.onEditorWheel}>\n          ${this.renderDials()}\n          <div class=\"hand\" style=${styleMap(handStyles)}></div>\n          <span class=\"center\"></span>\n        </div>\n      </div>\n    `, this.shadow, {\n            host: this,\n        });\n        // clang-format on\n    }\n    renderDials() {\n        if (!this.dialTemplates) {\n            // Disabled until https://crbug.com/1079231 is fixed.\n            // clang-format off\n            this.dialTemplates = [0, 45, 90, 135, 180, 225, 270, 315].map(deg => {\n                const radius = this.clockRadius - CLOCK_DIAL_LENGTH - 3 /* clock border */;\n                const { translateX, translateY } = get2DTranslationsForAngle({\n                    value: deg,\n                    unit: \"deg\" /* AngleUnit.DEG */,\n                }, radius);\n                const dialStyles = {\n                    transform: `translate(${translateX}px, ${translateY}px) rotate(${deg}deg)`,\n                };\n                return html `<span class=\"dial\" style=${styleMap(dialStyles)}></span>`;\n            });\n            // clang-format on\n        }\n        return this.dialTemplates;\n    }\n}\ncustomElements.define('devtools-css-angle-editor', CSSAngleEditor);\n//# sourceMappingURL=CSSAngleEditor.js.map","// Copyright 2024 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n// IMPORTANT: this file is auto generated. Please do not edit this file.\n/* istanbul ignore file */\nconst styles = new CSSStyleSheet();\nstyles.replaceSync(\n`/*\n * Copyright 2021 The Chromium Authors. All rights reserved.\n * Use of this source code is governed by a BSD-style license that can be\n * found in the LICENSE file.\n */\n\n.css-angle {\n  display: inline-block;\n  position: relative;\n  outline: none;\n}\n\ndevtools-css-angle-swatch {\n  display: inline-block;\n  margin-right: 2px;\n  user-select: none;\n}\n\ndevtools-css-angle-editor {\n  --override-dial-color: var(--sys-color-neutral-outline);\n\n  position: fixed;\n  z-index: 2;\n}\n\n.preview {\n  display: inline-block;\n}\n\n/*# sourceURL=cssAngle.css */\n`);\n\nexport default styles;\n","// Copyright 2021 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\nexport class ValueChangedEvent extends Event {\n    static eventName = 'valuechanged';\n    data;\n    constructor(value) {\n        super(ValueChangedEvent.eventName, {});\n        this.data = { value };\n    }\n}\n//# sourceMappingURL=InlineEditorUtils.js.map","// Copyright (c) 2020 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\nimport './CSSAngleSwatch.js';\nimport './CSSAngleEditor.js';\nimport * as LitHtml from '../../../lit-html/lit-html.js';\nimport cssAngleStyles from './cssAngle.css.js';\nimport { convertAngleUnit, getNewAngleFromEvent, getNextUnit, parseText, roundAngleByUnit, } from './CSSAngleUtils.js';\nimport { ValueChangedEvent } from './InlineEditorUtils.js';\nconst { render, html } = LitHtml;\nconst styleMap = LitHtml.Directives.styleMap;\nexport class PopoverToggledEvent extends Event {\n    static eventName = 'popovertoggled';\n    data;\n    constructor(open) {\n        super(PopoverToggledEvent.eventName, {});\n        this.data = { open };\n    }\n}\nexport class UnitChangedEvent extends Event {\n    static eventName = 'unitchanged';\n    data;\n    constructor(value) {\n        super(UnitChangedEvent.eventName, {});\n        this.data = { value };\n    }\n}\nconst DefaultAngle = {\n    value: 0,\n    unit: \"rad\" /* AngleUnit.RAD */,\n};\nexport class CSSAngle extends HTMLElement {\n    shadow = this.attachShadow({ mode: 'open' });\n    angle = DefaultAngle;\n    displayedAngle = DefaultAngle;\n    propertyValue = '';\n    containingPane;\n    angleElement = null;\n    swatchElement = null;\n    popoverOpen = false;\n    popoverStyleTop = '';\n    popoverStyleLeft = '';\n    onMinifyingAction = this.minify.bind(this);\n    connectedCallback() {\n        this.shadow.adoptedStyleSheets = [cssAngleStyles];\n    }\n    set data(data) {\n        const parsedResult = parseText(data.angleText);\n        if (!parsedResult) {\n            return;\n        }\n        this.angle = parsedResult;\n        this.displayedAngle = { ...parsedResult };\n        this.containingPane = data.containingPane;\n        this.render();\n    }\n    disconnectedCallback() {\n        this.unbindMinifyingAction();\n    }\n    // We bind and unbind mouse event listeners upon popping over and minifying,\n    // because we anticipate most of the time this widget is minified even when\n    // it's attached to the DOM tree.\n    popOver() {\n        if (!this.containingPane) {\n            return;\n        }\n        if (!this.angleElement) {\n            this.angleElement = this.shadow.querySelector('.css-angle');\n        }\n        if (!this.swatchElement) {\n            this.swatchElement = this.shadow.querySelector('devtools-css-angle-swatch');\n        }\n        if (!this.angleElement || !this.swatchElement) {\n            return;\n        }\n        this.dispatchEvent(new PopoverToggledEvent(true));\n        this.bindMinifyingAction();\n        const miniIconBottom = this.swatchElement.getBoundingClientRect().bottom;\n        const miniIconLeft = this.swatchElement.getBoundingClientRect().left;\n        if (miniIconBottom && miniIconLeft) {\n            // We offset mini icon's X and Y positions with the containing styles\n            // pane's positions because DevTools' root SplitWidget's\n            // sidebar slot, where most of the DevTools content lives,\n            // has an offset of positions, which makes all of its children's DOMRect\n            // positions to have this offset.\n            const offsetTop = this.containingPane.getBoundingClientRect().top;\n            const offsetLeft = this.containingPane.getBoundingClientRect().left;\n            this.popoverStyleTop = `${miniIconBottom - offsetTop}px`;\n            this.popoverStyleLeft = `${miniIconLeft - offsetLeft}px`;\n        }\n        this.popoverOpen = true;\n        this.render();\n        this.angleElement.focus();\n    }\n    addEventListener(type, listener, options) {\n        super.addEventListener(type, listener, options);\n    }\n    minify() {\n        if (this.popoverOpen === false) {\n            return;\n        }\n        this.popoverOpen = false;\n        this.dispatchEvent(new PopoverToggledEvent(false));\n        this.unbindMinifyingAction();\n        this.render();\n    }\n    updateProperty(value) {\n        this.propertyValue = value;\n        this.render();\n    }\n    updateAngle(angle) {\n        this.displayedAngle = roundAngleByUnit(convertAngleUnit(angle, this.displayedAngle.unit));\n        this.angle = this.displayedAngle;\n        this.dispatchEvent(new ValueChangedEvent(`${this.angle.value}${this.angle.unit}`));\n    }\n    displayNextUnit() {\n        const nextUnit = getNextUnit(this.displayedAngle.unit);\n        this.displayedAngle = roundAngleByUnit(convertAngleUnit(this.angle, nextUnit));\n        this.dispatchEvent(new UnitChangedEvent(`${this.displayedAngle.value}${this.displayedAngle.unit}`));\n    }\n    bindMinifyingAction() {\n        document.addEventListener('mousedown', this.onMinifyingAction);\n        if (this.containingPane) {\n            this.containingPane.addEventListener('scroll', this.onMinifyingAction);\n        }\n    }\n    unbindMinifyingAction() {\n        document.removeEventListener('mousedown', this.onMinifyingAction);\n        if (this.containingPane) {\n            this.containingPane.removeEventListener('scroll', this.onMinifyingAction);\n        }\n    }\n    onMiniIconClick(event) {\n        event.stopPropagation();\n        if (event.shiftKey && !this.popoverOpen) {\n            this.displayNextUnit();\n            return;\n        }\n        this.popoverOpen ? this.minify() : this.popOver();\n    }\n    // Fix that the previous text will be selected when double-clicking the angle icon\n    consume(event) {\n        event.stopPropagation();\n    }\n    onKeydown(event) {\n        if (!this.popoverOpen) {\n            return;\n        }\n        switch (event.key) {\n            case 'Escape':\n                event.stopPropagation();\n                this.minify();\n                this.blur();\n                break;\n            case 'ArrowUp':\n            case 'ArrowDown': {\n                const newAngle = getNewAngleFromEvent(this.angle, event);\n                if (newAngle) {\n                    this.updateAngle(newAngle);\n                }\n                event.preventDefault();\n                break;\n            }\n        }\n    }\n    render() {\n        // Disabled until https://crbug.com/1079231 is fixed.\n        // clang-format off\n        render(html `\n      <div class=\"css-angle\" @focusout=${this.minify} @keydown=${this.onKeydown} tabindex=\"-1\">\n        <div class=\"preview\">\n          <devtools-css-angle-swatch\n            @click=${this.onMiniIconClick}\n            @mousedown=${this.consume}\n            @dblclick=${this.consume}\n            .data=${{\n            angle: this.angle,\n        }}>\n          </devtools-css-angle-swatch><slot></slot></div>\n        ${this.popoverOpen ? this.renderPopover() : null}\n      </div>\n    `, this.shadow, {\n            host: this,\n        });\n        // clang-format on\n    }\n    renderPopover() {\n        let contextualBackground = '';\n        if (this.propertyValue && !this.propertyValue.match(/url\\(.*\\)/i)) {\n            contextualBackground = this.propertyValue;\n        }\n        // Disabled until https://crbug.com/1079231 is fixed.\n        // clang-format off\n        return html `\n    <devtools-css-angle-editor\n      class=\"popover popover-css-angle\"\n      style=${styleMap({ top: this.popoverStyleTop, left: this.popoverStyleLeft })}\n      .data=${{\n            angle: this.angle,\n            onAngleUpdate: (angle) => {\n                this.updateAngle(angle);\n            },\n            background: contextualBackground,\n        }}\n    ></devtools-css-angle-editor>\n    `;\n        // clang-format on\n    }\n}\ncustomElements.define('devtools-css-angle', CSSAngle);\n//# sourceMappingURL=CSSAngle.js.map","// Copyright 2024 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n// IMPORTANT: this file is auto generated. Please do not edit this file.\n/* istanbul ignore file */\nconst styles = new CSSStyleSheet();\nstyles.replaceSync(\n`/*\n * Copyright 2021 The Chromium Authors. All rights reserved.\n * Use of this source code is governed by a BSD-style license that can be\n * found in the LICENSE file.\n */\n\n:host {\n  display: inline-block;\n  position: relative;\n  outline: none;\n}\n\n:host(:not(:last-child)) {\n  margin-right: 0.1em;\n}\n\n:host-context(.overloaded) {\n  text-decoration: line-through;\n}\n\n.value {\n  cursor: ew-resize;\n}\n\n::selection {\n  background-color: var(--sys-color-tonal-container);\n}\n\n/*# sourceURL=cssLength.css */\n`);\n\nexport default styles;\n","// Copyright (c) 2021 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\nimport * as Host from '../../../../core/host/host.js';\nimport * as UI from '../../../legacy/legacy.js';\nimport * as LitHtml from '../../../lit-html/lit-html.js';\nimport cssLengthStyles from './cssLength.css.js';\nimport { ValueChangedEvent } from './InlineEditorUtils.js';\nconst { render, html } = LitHtml;\nexport class DraggingFinishedEvent extends Event {\n    static eventName = 'draggingfinished';\n    constructor() {\n        super(DraggingFinishedEvent.eventName, {});\n    }\n}\nexport var CSSLengthUnit;\n(function (CSSLengthUnit) {\n    // absolute units\n    CSSLengthUnit[\"PIXEL\"] = \"px\";\n    CSSLengthUnit[\"CENTIMETER\"] = \"cm\";\n    CSSLengthUnit[\"MILLIMETER\"] = \"mm\";\n    CSSLengthUnit[\"QUARTERMILLIMETER\"] = \"Q\";\n    CSSLengthUnit[\"INCH\"] = \"in\";\n    CSSLengthUnit[\"PICA\"] = \"pc\";\n    CSSLengthUnit[\"POINT\"] = \"pt\";\n    // relative units\n    CSSLengthUnit[\"CAP\"] = \"cap\";\n    CSSLengthUnit[\"CH\"] = \"ch\";\n    CSSLengthUnit[\"EM\"] = \"em\";\n    CSSLengthUnit[\"EX\"] = \"ex\";\n    CSSLengthUnit[\"IC\"] = \"ic\";\n    CSSLengthUnit[\"LH\"] = \"lh\";\n    CSSLengthUnit[\"RCAP\"] = \"rcap\";\n    CSSLengthUnit[\"RCH\"] = \"rch\";\n    CSSLengthUnit[\"REM\"] = \"rem\";\n    CSSLengthUnit[\"REX\"] = \"rex\";\n    CSSLengthUnit[\"RIC\"] = \"ric\";\n    CSSLengthUnit[\"RLH\"] = \"rlh\";\n    CSSLengthUnit[\"VB\"] = \"vb\";\n    CSSLengthUnit[\"VH\"] = \"vh\";\n    CSSLengthUnit[\"VI\"] = \"vi\";\n    CSSLengthUnit[\"VW\"] = \"vw\";\n    CSSLengthUnit[\"VMIN\"] = \"vmin\";\n    CSSLengthUnit[\"VMAX\"] = \"vmax\";\n})(CSSLengthUnit || (CSSLengthUnit = {}));\nexport const CSS_LENGTH_REGEX = new RegExp(`(?<value>[+-]?\\\\d*\\\\.?\\\\d+([Ee][+-]?\\\\d+)?)(?<unit>${Object.values(CSSLengthUnit).join('|')})`);\nexport class CSSLength extends HTMLElement {\n    shadow = this.attachShadow({ mode: 'open' });\n    onDraggingValue = this.dragValue.bind(this);\n    value = '';\n    unit = CSSLengthUnit.PIXEL;\n    isEditingSlot = false;\n    isDraggingValue = false;\n    #valueMousedownTime = 0;\n    set data({ lengthText }) {\n        const groups = lengthText.match(CSS_LENGTH_REGEX)?.groups;\n        if (!groups) {\n            throw new Error();\n        }\n        this.value = groups.value;\n        this.unit = groups.unit;\n        this.render();\n    }\n    connectedCallback() {\n        this.shadow.adoptedStyleSheets = [cssLengthStyles];\n    }\n    dragValue(event) {\n        event.preventDefault();\n        event.stopPropagation();\n        if (Date.now() - this.#valueMousedownTime <= 300) {\n            // Delay drag callback by 300ms to prioritize click over drag.\n            return;\n        }\n        this.isDraggingValue = true;\n        const newValue = UI.UIUtils.createReplacementString(this.value, event);\n        if (newValue) {\n            this.value = newValue;\n            this.dispatchEvent(new ValueChangedEvent(`${this.value}${this.unit}`));\n            Host.userMetrics.swatchActivated(8 /* Host.UserMetrics.SwatchType.LENGTH */);\n            this.render();\n        }\n    }\n    onValueMousedown(event) {\n        if (event.button !== 0) {\n            return;\n        }\n        this.#valueMousedownTime = Date.now();\n        const targetDocument = event.target instanceof Node && event.target.ownerDocument;\n        if (targetDocument) {\n            targetDocument.addEventListener('mousemove', this.onDraggingValue, { capture: true });\n            targetDocument.addEventListener('mouseup', (event) => {\n                targetDocument.removeEventListener('mousemove', this.onDraggingValue, { capture: true });\n                if (!this.isDraggingValue) {\n                    return;\n                }\n                event.preventDefault();\n                event.stopPropagation();\n                this.isDraggingValue = false;\n                this.dispatchEvent(new DraggingFinishedEvent());\n            }, { once: true, capture: true });\n        }\n    }\n    onValueMouseup() {\n        if (!this.isDraggingValue) {\n            this.isEditingSlot = true;\n            this.render();\n        }\n    }\n    render() {\n        render(this.renderContent(), this.shadow, {\n            host: this,\n        });\n    }\n    renderContent() {\n        if (this.isEditingSlot) {\n            return html `<slot></slot>`;\n        }\n        // Disabled until https://crbug.com/1079231 is fixed.\n        // clang-format off\n        return html `<span class=\"value\" @mousedown=${this.onValueMousedown} @mouseup=${this.onValueMouseup}>${this.value}</span><span class=\"unit\">${this.unit}</span>`;\n        // clang-format on\n    }\n}\ncustomElements.define('devtools-css-length', CSSLength);\n//# sourceMappingURL=CSSLength.js.map","// Copyright 2024 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n// IMPORTANT: this file is auto generated. Please do not edit this file.\n/* istanbul ignore file */\nconst styles = new CSSStyleSheet();\nstyles.replaceSync(\n`/*\n * Copyright 2016 The Chromium Authors. All rights reserved.\n * Use of this source code is governed by a BSD-style license that can be\n * found in the LICENSE file.\n */\n\n:host {\n  user-select: none;\n  padding: 4px 12px 12px;\n  border: 1px solid transparent;\n}\n\n.shadow-editor-field {\n  height: 24px;\n  margin-top: 8px;\n  font-size: 12px;\n  flex-shrink: 0;\n}\n\n.shadow-editor-field:last-of-type {\n  margin-bottom: 8px;\n}\n\n.shadow-editor-flex-field {\n  display: flex;\n  align-items: center;\n  flex-direction: row;\n}\n\n.shadow-editor-field.shadow-editor-blur-field {\n  margin-top: 40px;\n}\n\n.shadow-editor-2D-slider {\n  position: absolute;\n  height: 88px;\n  width: 88px;\n  border: 1px solid var(--divider-line);\n  border-radius: 2px;\n}\n\n.shadow-editor-label {\n  display: inline-block;\n  width: 52px;\n  height: 24px;\n  line-height: 24px;\n  margin-right: 8px;\n  text-align: right;\n}\n\n.shadow-editor-button-left,\n.shadow-editor-button-right {\n  width: 74px;\n  height: 24px;\n  padding: 3px 7px;\n  line-height: 16px;\n  border: 1px solid var(--divider-line);\n  color: var(--sys-color-on-surface);\n  background-color: var(--sys-color-cdt-base-container);\n  text-align: center;\n  font-weight: 500;\n}\n\n.shadow-editor-button-left {\n  border-radius: 2px 0 0 2px;\n}\n\n.shadow-editor-button-right {\n  border-radius: 0 2px 2px 0;\n  border-left-width: 0;\n}\n\n.shadow-editor-button-left:hover,\n.shadow-editor-button-right:hover {\n  box-shadow: 0 1px 1px var(--color-background-elevation-1);\n}\n\n.shadow-editor-button-left:focus,\n.shadow-editor-button-right:focus {\n  background-color: var(--color-background-elevation-1);\n}\n\n.shadow-editor-button-left.enabled,\n.shadow-editor-button-right.enabled {\n  --override-button-text-color: #fff;\n\n  background-color: var(--color-primary-old);\n  color: var(--override-button-text-color);\n}\n\n.shadow-editor-button-left.enabled:focus,\n.shadow-editor-button-right.enabled:focus {\n  background-color: var(--color-primary-variant);\n}\n\n.shadow-editor-text-input {\n  width: 52px;\n  margin-right: 8px;\n  text-align: right;\n  box-shadow: var(--legacy-focus-ring-inactive-shadow);\n}\n\n@media (forced-colors: active) {\n  .shadow-editor-button-left:hover,\n  .shadow-editor-button-left.enabled:focus,\n  .shadow-editor-button-right:hover .shadow-editor-button-left.enabled,\n  .shadow-editor-button-right.enabled,\n  .shadow-editor-button-right.enabled:focus {\n    forced-color-adjust: none;\n    background-color: Highlight;\n    color: HighlightText;\n  }\n}\n\n/*# sourceURL=cssShadowEditor.css */\n`);\n\nexport default styles;\n","// Copyright 2016 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\nimport * as Common from '../../../../core/common/common.js';\nimport * as i18n from '../../../../core/i18n/i18n.js';\nimport * as Platform from '../../../../core/platform/platform.js';\nimport * as VisualLogging from '../../../visual_logging/visual_logging.js';\nimport * as UI from '../../legacy.js';\nimport cssShadowEditorStyles from './cssShadowEditor.css.js';\nconst UIStrings = {\n    /**\n     *@description Text that refers to some types\n     */\n    type: 'Type',\n    /**\n     *@description Text in CSSShadow Editor of the inline editor in the Styles tab\n     */\n    xOffset: 'X offset',\n    /**\n     *@description Text in CSSShadow Editor of the inline editor in the Styles tab\n     */\n    yOffset: 'Y offset',\n    /**\n     * @description Text in CSSShadow Editor of the inline editor in the Styles tab. Noun which is a\n     * label for an input that allows the user to specify how blurred the box-shadow should be.\n     */\n    blur: 'Blur',\n    /**\n     *@description Text in CSSShadow Editor of the inline editor in the Styles tab\n     */\n    spread: 'Spread',\n};\nconst str_ = i18n.i18n.registerUIStrings('ui/legacy/components/inline_editor/CSSShadowEditor.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\nconst maxRange = 20;\nconst defaultUnit = 'px';\nconst sliderThumbRadius = 6;\nconst canvasSize = 88;\nconst CSS_LENGTH_REGEX = (function () {\n    const number = '([+-]?(?:[0-9]*[.])?[0-9]+(?:[eE][+-]?[0-9]+)?)';\n    const unit = '(ch|cm|em|ex|in|mm|pc|pt|px|rem|vh|vmax|vmin|vw)';\n    const zero = '[+-]?(?:0*[.])?0+(?:[eE][+-]?[0-9]+)?';\n    return new RegExp(number + unit + '|' + zero, 'gi').source;\n})();\nexport class CSSLength {\n    amount;\n    unit;\n    constructor(amount, unit) {\n        this.amount = amount;\n        this.unit = unit;\n    }\n    static parse(text) {\n        const lengthRegex = new RegExp('^(?:' + CSS_LENGTH_REGEX + ')$', 'i');\n        const match = text.match(lengthRegex);\n        if (!match) {\n            return null;\n        }\n        if (match.length > 2 && match[2]) {\n            return new CSSLength(parseFloat(match[1]), match[2]);\n        }\n        return CSSLength.zero();\n    }\n    static zero() {\n        return new CSSLength(0, '');\n    }\n    asCSSText() {\n        return this.amount + this.unit;\n    }\n}\nexport class CSSShadowEditor extends Common.ObjectWrapper.eventMixin(UI.Widget.VBox) {\n    typeField;\n    outsetButton;\n    insetButton;\n    xInput;\n    yInput;\n    xySlider;\n    halfCanvasSize;\n    innerCanvasSize;\n    blurInput;\n    blurSlider;\n    spreadField;\n    spreadInput;\n    spreadSlider;\n    model;\n    canvasOrigin;\n    changedElement;\n    constructor() {\n        super(true);\n        this.contentElement.tabIndex = 0;\n        this.contentElement.setAttribute('jslog', `${VisualLogging.dialog('cssShadowEditor').parent('mapped').track({ keydown: 'Enter|Escape' })}`);\n        this.setDefaultFocusedElement(this.contentElement);\n        this.typeField = this.contentElement.createChild('div', 'shadow-editor-field shadow-editor-flex-field');\n        this.typeField.createChild('label', 'shadow-editor-label').textContent = i18nString(UIStrings.type);\n        this.outsetButton = this.typeField.createChild('button', 'shadow-editor-button-left');\n        this.outsetButton.textContent = i18n.i18n.lockedString('Outset');\n        this.outsetButton.addEventListener('click', this.onButtonClick.bind(this), false);\n        this.insetButton = this.typeField.createChild('button', 'shadow-editor-button-right');\n        this.insetButton.textContent = i18n.i18n.lockedString('Inset');\n        this.insetButton.addEventListener('click', this.onButtonClick.bind(this), false);\n        const xField = this.contentElement.createChild('div', 'shadow-editor-field');\n        this.xInput = this.createTextInput(xField, i18nString(UIStrings.xOffset), 'x-offset');\n        const yField = this.contentElement.createChild('div', 'shadow-editor-field');\n        this.yInput = this.createTextInput(yField, i18nString(UIStrings.yOffset), 'y-offset');\n        this.xySlider = xField.createChild('canvas', 'shadow-editor-2D-slider');\n        this.xySlider.setAttribute('jslog', `${VisualLogging.slider('xy').track({\n            click: true,\n            drag: true,\n            keydown: 'ArrowUp|ArrowDown|ArrowLeft|ArrowRight',\n        })}`);\n        this.xySlider.width = canvasSize;\n        this.xySlider.height = canvasSize;\n        this.xySlider.tabIndex = -1;\n        this.halfCanvasSize = canvasSize / 2;\n        this.innerCanvasSize = this.halfCanvasSize - sliderThumbRadius;\n        UI.UIUtils.installDragHandle(this.xySlider, this.dragStart.bind(this), this.dragMove.bind(this), null, 'default');\n        this.xySlider.addEventListener('keydown', this.onCanvasArrowKey.bind(this), false);\n        this.xySlider.addEventListener('blur', this.onCanvasBlur.bind(this), false);\n        const blurField = this.contentElement.createChild('div', 'shadow-editor-field shadow-editor-flex-field shadow-editor-blur-field');\n        this.blurInput = this.createTextInput(blurField, i18nString(UIStrings.blur), 'blur');\n        this.blurSlider = this.createSlider(blurField, 'blur');\n        this.spreadField = this.contentElement.createChild('div', 'shadow-editor-field shadow-editor-flex-field');\n        this.spreadInput = this.createTextInput(this.spreadField, i18nString(UIStrings.spread), 'spread');\n        this.spreadSlider = this.createSlider(this.spreadField, 'spread');\n    }\n    createTextInput(field, propertyName, jslogContext) {\n        const label = field.createChild('label', 'shadow-editor-label');\n        label.textContent = propertyName;\n        label.setAttribute('for', propertyName);\n        const textInput = UI.UIUtils.createInput('shadow-editor-text-input', 'text');\n        field.appendChild(textInput);\n        textInput.id = propertyName;\n        textInput.addEventListener('keydown', this.handleValueModification.bind(this), false);\n        textInput.addEventListener('wheel', this.handleValueModification.bind(this), false);\n        textInput.addEventListener('input', this.onTextInput.bind(this), false);\n        textInput.addEventListener('blur', this.onTextBlur.bind(this), false);\n        textInput.setAttribute('jslog', `${VisualLogging.value().track({ change: true, keydown: 'ArrowUp|ArrowDown' }).context(jslogContext)}`);\n        return textInput;\n    }\n    createSlider(field, jslogContext) {\n        const slider = UI.UIUtils.createSlider(0, maxRange, -1);\n        slider.addEventListener('input', this.onSliderInput.bind(this), false);\n        slider.setAttribute('jslog', `${VisualLogging.slider().track({ click: true, drag: true }).context(jslogContext)}`);\n        field.appendChild(slider);\n        return slider;\n    }\n    wasShown() {\n        this.registerCSSFiles([cssShadowEditorStyles]);\n        this.updateUI();\n    }\n    setModel(model) {\n        this.model = model;\n        this.typeField.classList.toggle('hidden', !model.isBoxShadow());\n        this.spreadField.classList.toggle('hidden', !model.isBoxShadow());\n        this.updateUI();\n    }\n    updateUI() {\n        this.updateButtons();\n        this.xInput.value = this.model.offsetX().asCSSText();\n        this.yInput.value = this.model.offsetY().asCSSText();\n        this.blurInput.value = this.model.blurRadius().asCSSText();\n        this.spreadInput.value = this.model.spreadRadius().asCSSText();\n        this.blurSlider.value = this.model.blurRadius().amount.toString();\n        this.spreadSlider.value = this.model.spreadRadius().amount.toString();\n        this.updateCanvas(false);\n    }\n    updateButtons() {\n        this.insetButton.classList.toggle('enabled', this.model.inset());\n        this.outsetButton.classList.toggle('enabled', !this.model.inset());\n    }\n    updateCanvas(drawFocus) {\n        const context = this.xySlider.getContext('2d');\n        if (!context) {\n            throw new Error('Unable to obtain canvas context');\n        }\n        context.clearRect(0, 0, this.xySlider.width, this.xySlider.height);\n        // Draw dashed axes.\n        context.save();\n        context.setLineDash([1, 1]);\n        context.strokeStyle = 'rgba(210, 210, 210, 0.8)';\n        context.beginPath();\n        context.moveTo(this.halfCanvasSize, 0);\n        context.lineTo(this.halfCanvasSize, canvasSize);\n        context.moveTo(0, this.halfCanvasSize);\n        context.lineTo(canvasSize, this.halfCanvasSize);\n        context.stroke();\n        context.restore();\n        const thumbPoint = this.sliderThumbPosition();\n        // Draw 2D slider line.\n        context.save();\n        context.translate(this.halfCanvasSize, this.halfCanvasSize);\n        context.lineWidth = 2;\n        context.strokeStyle = 'rgba(130, 130, 130, 0.75)';\n        context.beginPath();\n        context.moveTo(0, 0);\n        context.lineTo(thumbPoint.x, thumbPoint.y);\n        context.stroke();\n        // Draw 2D slider thumb.\n        if (drawFocus) {\n            context.beginPath();\n            context.fillStyle = 'rgba(66, 133, 244, 0.4)';\n            context.arc(thumbPoint.x, thumbPoint.y, sliderThumbRadius + 2, 0, 2 * Math.PI);\n            context.fill();\n        }\n        context.beginPath();\n        context.fillStyle = '#4285F4';\n        context.arc(thumbPoint.x, thumbPoint.y, sliderThumbRadius, 0, 2 * Math.PI);\n        context.fill();\n        context.restore();\n    }\n    onButtonClick(event) {\n        const insetClicked = (event.currentTarget === this.insetButton);\n        if (insetClicked && this.model.inset() || !insetClicked && !this.model.inset()) {\n            return;\n        }\n        this.model.setInset(insetClicked);\n        this.updateButtons();\n        this.dispatchEventToListeners(\"ShadowChanged\" /* Events.SHADOW_CHANGED */, this.model);\n    }\n    handleValueModification(event) {\n        const target = event.currentTarget;\n        const modifiedValue = UI.UIUtils.createReplacementString(target.value, event, customNumberHandler);\n        if (!modifiedValue) {\n            return;\n        }\n        const length = CSSLength.parse(modifiedValue);\n        if (!length) {\n            return;\n        }\n        if (event.currentTarget === this.blurInput && length.amount < 0) {\n            length.amount = 0;\n        }\n        target.value = length.asCSSText();\n        target.selectionStart = 0;\n        target.selectionEnd = target.value.length;\n        this.onTextInput(event);\n        event.consume(true);\n        function customNumberHandler(prefix, number, suffix) {\n            if (!suffix.length) {\n                suffix = defaultUnit;\n            }\n            return prefix + number + suffix;\n        }\n    }\n    onTextInput(event) {\n        const currentTarget = event.currentTarget;\n        this.changedElement = currentTarget;\n        this.changedElement.classList.remove('invalid');\n        const length = CSSLength.parse(currentTarget.value);\n        if (!length || currentTarget === this.blurInput && length.amount < 0) {\n            return;\n        }\n        if (currentTarget === this.xInput) {\n            this.model.setOffsetX(length);\n            this.updateCanvas(false);\n        }\n        else if (currentTarget === this.yInput) {\n            this.model.setOffsetY(length);\n            this.updateCanvas(false);\n        }\n        else if (currentTarget === this.blurInput) {\n            this.model.setBlurRadius(length);\n            this.blurSlider.value = length.amount.toString();\n        }\n        else if (currentTarget === this.spreadInput) {\n            this.model.setSpreadRadius(length);\n            this.spreadSlider.value = length.amount.toString();\n        }\n        this.dispatchEventToListeners(\"ShadowChanged\" /* Events.SHADOW_CHANGED */, this.model);\n    }\n    onTextBlur() {\n        if (!this.changedElement) {\n            return;\n        }\n        let length = !this.changedElement.value.trim() ? CSSLength.zero() : CSSLength.parse(this.changedElement.value);\n        if (!length) {\n            length = CSSLength.parse(this.changedElement.value + defaultUnit);\n        }\n        if (!length) {\n            this.changedElement.classList.add('invalid');\n            this.changedElement = null;\n            return;\n        }\n        if (this.changedElement === this.xInput) {\n            this.model.setOffsetX(length);\n            this.xInput.value = length.asCSSText();\n            this.updateCanvas(false);\n        }\n        else if (this.changedElement === this.yInput) {\n            this.model.setOffsetY(length);\n            this.yInput.value = length.asCSSText();\n            this.updateCanvas(false);\n        }\n        else if (this.changedElement === this.blurInput) {\n            if (length.amount < 0) {\n                length = CSSLength.zero();\n            }\n            this.model.setBlurRadius(length);\n            this.blurInput.value = length.asCSSText();\n            this.blurSlider.value = length.amount.toString();\n        }\n        else if (this.changedElement === this.spreadInput) {\n            this.model.setSpreadRadius(length);\n            this.spreadInput.value = length.asCSSText();\n            this.spreadSlider.value = length.amount.toString();\n        }\n        this.changedElement = null;\n        this.dispatchEventToListeners(\"ShadowChanged\" /* Events.SHADOW_CHANGED */, this.model);\n    }\n    onSliderInput(event) {\n        if (event.currentTarget === this.blurSlider) {\n            this.model.setBlurRadius(new CSSLength(Number(this.blurSlider.value), this.model.blurRadius().unit || defaultUnit));\n            this.blurInput.value = this.model.blurRadius().asCSSText();\n            this.blurInput.classList.remove('invalid');\n        }\n        else if (event.currentTarget === this.spreadSlider) {\n            this.model.setSpreadRadius(new CSSLength(Number(this.spreadSlider.value), this.model.spreadRadius().unit || defaultUnit));\n            this.spreadInput.value = this.model.spreadRadius().asCSSText();\n            this.spreadInput.classList.remove('invalid');\n        }\n        this.dispatchEventToListeners(\"ShadowChanged\" /* Events.SHADOW_CHANGED */, this.model);\n    }\n    dragStart(event) {\n        this.xySlider.focus();\n        this.updateCanvas(true);\n        this.canvasOrigin = new UI.Geometry.Point(this.xySlider.getBoundingClientRect().left + this.halfCanvasSize, this.xySlider.getBoundingClientRect().top + this.halfCanvasSize);\n        const clickedPoint = new UI.Geometry.Point(event.x - this.canvasOrigin.x, event.y - this.canvasOrigin.y);\n        const thumbPoint = this.sliderThumbPosition();\n        if (clickedPoint.distanceTo(thumbPoint) >= sliderThumbRadius) {\n            this.dragMove(event);\n        }\n        return true;\n    }\n    dragMove(event) {\n        let point = new UI.Geometry.Point(event.x - this.canvasOrigin.x, event.y - this.canvasOrigin.y);\n        if (event.shiftKey) {\n            point = this.snapToClosestDirection(point);\n        }\n        const constrainedPoint = this.constrainPoint(point, this.innerCanvasSize);\n        const newX = Math.round((constrainedPoint.x / this.innerCanvasSize) * maxRange);\n        const newY = Math.round((constrainedPoint.y / this.innerCanvasSize) * maxRange);\n        if (event.shiftKey) {\n            this.model.setOffsetX(new CSSLength(newX, this.model.offsetX().unit || defaultUnit));\n            this.model.setOffsetY(new CSSLength(newY, this.model.offsetY().unit || defaultUnit));\n        }\n        else {\n            if (!event.altKey) {\n                this.model.setOffsetX(new CSSLength(newX, this.model.offsetX().unit || defaultUnit));\n            }\n            if (!UI.KeyboardShortcut.KeyboardShortcut.eventHasCtrlEquivalentKey(event)) {\n                this.model.setOffsetY(new CSSLength(newY, this.model.offsetY().unit || defaultUnit));\n            }\n        }\n        this.xInput.value = this.model.offsetX().asCSSText();\n        this.yInput.value = this.model.offsetY().asCSSText();\n        this.xInput.classList.remove('invalid');\n        this.yInput.classList.remove('invalid');\n        this.updateCanvas(true);\n        this.dispatchEventToListeners(\"ShadowChanged\" /* Events.SHADOW_CHANGED */, this.model);\n    }\n    onCanvasBlur() {\n        this.updateCanvas(false);\n    }\n    onCanvasArrowKey(event) {\n        const keyboardEvent = event;\n        let shiftX = 0;\n        let shiftY = 0;\n        if (keyboardEvent.key === 'ArrowRight') {\n            shiftX = 1;\n        }\n        else if (keyboardEvent.key === 'ArrowLeft') {\n            shiftX = -1;\n        }\n        else if (keyboardEvent.key === 'ArrowUp') {\n            shiftY = -1;\n        }\n        else if (keyboardEvent.key === 'ArrowDown') {\n            shiftY = 1;\n        }\n        if (!shiftX && !shiftY) {\n            return;\n        }\n        event.consume(true);\n        if (shiftX) {\n            const offsetX = this.model.offsetX();\n            const newAmount = Platform.NumberUtilities.clamp(offsetX.amount + shiftX, -maxRange, maxRange);\n            if (newAmount === offsetX.amount) {\n                return;\n            }\n            this.model.setOffsetX(new CSSLength(newAmount, offsetX.unit || defaultUnit));\n            this.xInput.value = this.model.offsetX().asCSSText();\n            this.xInput.classList.remove('invalid');\n        }\n        if (shiftY) {\n            const offsetY = this.model.offsetY();\n            const newAmount = Platform.NumberUtilities.clamp(offsetY.amount + shiftY, -maxRange, maxRange);\n            if (newAmount === offsetY.amount) {\n                return;\n            }\n            this.model.setOffsetY(new CSSLength(newAmount, offsetY.unit || defaultUnit));\n            this.yInput.value = this.model.offsetY().asCSSText();\n            this.yInput.classList.remove('invalid');\n        }\n        this.updateCanvas(true);\n        this.dispatchEventToListeners(\"ShadowChanged\" /* Events.SHADOW_CHANGED */, this.model);\n    }\n    constrainPoint(point, max) {\n        if (Math.abs(point.x) <= max && Math.abs(point.y) <= max) {\n            return new UI.Geometry.Point(point.x, point.y);\n        }\n        return point.scale(max / Math.max(Math.abs(point.x), Math.abs(point.y)));\n    }\n    snapToClosestDirection(point) {\n        let minDistance = Number.MAX_VALUE;\n        let closestPoint = point;\n        const directions = [\n            new UI.Geometry.Point(0, -1), new UI.Geometry.Point(1, -1), new UI.Geometry.Point(1, 0),\n            new UI.Geometry.Point(1, 1), // Southeast\n        ];\n        for (const direction of directions) {\n            const projection = point.projectOn(direction);\n            const distance = point.distanceTo(projection);\n            if (distance < minDistance) {\n                minDistance = distance;\n                closestPoint = projection;\n            }\n        }\n        return closestPoint;\n    }\n    sliderThumbPosition() {\n        const x = (this.model.offsetX().amount / maxRange) * this.innerCanvasSize;\n        const y = (this.model.offsetY().amount / maxRange) * this.innerCanvasSize;\n        return this.constrainPoint(new UI.Geometry.Point(x, y), this.innerCanvasSize);\n    }\n}\n//# sourceMappingURL=CSSShadowEditor.js.map","// Copyright 2024 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n// IMPORTANT: this file is auto generated. Please do not edit this file.\n/* istanbul ignore file */\nconst styles = new CSSStyleSheet();\nstyles.replaceSync(\n`/*\n * Copyright 2020 The Chromium Authors. All rights reserved.\n * Use of this source code is governed by a BSD-style license that can be\n * found in the LICENSE file.\n */\n\n:host {\n  user-select: none;\n  padding: 4px 12px 12px;\n}\n\n.error-input {\n  box-shadow: 0 0 0 1px var(--sys-color-error);\n}\n\n.error-text {\n  color: var(--sys-color-error);\n  padding: 6px 0;\n}\n\n.warning-input {\n  --override-warning-input-color: #ffdd9e;\n\n  box-shadow: 0 0 0 1px var(--override-warning-input-color);\n}\n\n.theme-with-dark-background .warning-input,\n:host-context(.theme-with-dark-background) .warning-input {\n  --override-warning-input-color: rgb(97 63 0);\n}\n\n.hide-warning {\n  display: none;\n}\n\n.font-section-header {\n  font-weight: normal;\n  font-size: 17px;\n  text-align: left;\n}\n\n.font-section-subheader {\n  font-size: 12px;\n  text-align: left;\n  font-weight: bold;\n}\n\n.font-selector-section {\n  overflow-y: auto;\n  padding-bottom: 10px;\n}\n\n.font-selector-input {\n  width: 204px;\n  text-align-last: center;\n}\n\n.font-reset-button {\n  width: 100%;\n  margin-top: 10px;\n}\n\n.font-section {\n  border-top: 1px solid var(--sys-color-divider);\n}\n\n.chrome-select.font-editor-select {\n  min-width: 50px;\n  min-height: 27px;\n}\n\ninput::-webkit-outer-spin-button,\ninput::-webkit-inner-spin-button {\n  display: none;\n  margin: 0;\n}\n\n.preview-text {\n  max-width: 300px;\n  word-break: break-word;\n  display: block;\n}\n\n.rendered-font-list-label {\n  font-weight: bold;\n  font-size: 12px;\n}\n\n.rendered-font-list {\n  padding: 5px 0;\n}\n\n.shadow-editor-field {\n  height: 24px;\n  margin-top: 8px;\n  font-size: 12px;\n  flex-shrink: 0;\n}\n\n.shadow-editor-field:last-of-type {\n  margin-bottom: 8px;\n}\n\n.shadow-editor-flex-field {\n  display: flex;\n  align-items: center;\n  flex-direction: row;\n}\n\n.shadow-editor-field.shadow-editor-blur-field {\n  margin-top: 40px;\n}\n\n.shadow-editor-2D-slider {\n  position: absolute;\n  height: 88px;\n  width: 88px;\n  border: 1px solid var(--divider-line);\n  border-radius: 2px;\n}\n\n.shadow-editor-label {\n  display: inline-block;\n  width: 70px;\n  height: 24px;\n  line-height: 24px;\n  margin-right: 8px;\n  text-align: left;\n}\n\n.shadow-editor-button-left,\n.shadow-editor-button-right {\n  width: 74px;\n  height: 24px;\n  padding: 3px 7px;\n  line-height: 16px;\n  border: 1px solid var(--divider-line);\n  color: var(--sys-color-on-surface);\n  background-color: var(--sys-color-cdt-base-container);\n  text-align: center;\n  font-weight: 500;\n}\n\n.shadow-editor-button-left {\n  border-radius: 2px 0 0 2px;\n}\n\n.shadow-editor-button-right {\n  border-radius: 0 2px 2px 0;\n  border-left-width: 0;\n}\n\n.shadow-editor-button-left:hover,\n.shadow-editor-button-right:hover {\n  box-shadow: 0 1px 1px var(--divider-line);\n}\n\n.shadow-editor-button-left:focus,\n.shadow-editor-button-right:focus {\n  background-color: var(--sys-color-state-focus-highlight);\n}\n\n.shadow-editor-text-input {\n  width: 50px;\n  margin: 8px;\n  text-align: center;\n  box-shadow: var(--legacy-focus-ring-inactive-shadow);\n}\n\n.spectrum-switcher {\n  border-radius: 2px;\n  height: 20px;\n  width: 20px;\n  padding: 2px;\n  margin-left: 5px;\n}\n\n.spectrum-switcher:hover {\n  background-color: var(--sys-color-state-hover-on-subtle);\n}\n\n.spectrum-switcher:focus-visible {\n  background-color: var(--sys-color-state-focus-highlight);\n}\n\n/*# sourceURL=fontEditor.css */\n`);\n\nexport default styles;\n","// Copyright 2020 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\nimport * as SDK from '../../../../core/sdk/sdk.js';\nimport * as CssOverviewModule from '../../../../panels/css_overview/css_overview.js';\nimport * as UI from '../../legacy.js';\nconst computedArrayFontSizeIndex = 6;\nfunction getPxMultiplier() {\n    return 1;\n}\nasync function getEmMultiplier(isFontSizeProperty) {\n    const selectedNode = UI.Context.Context.instance().flavor(SDK.DOMModel.DOMNode);\n    let currentFontSize;\n    if (selectedNode && selectedNode.parentNode && selectedNode.nodeName() !== 'HTML') {\n        const [model] = SDK.TargetManager.TargetManager.instance().models(CssOverviewModule.CSSOverviewModel.CSSOverviewModel);\n        const fontSizeNodeId = isFontSizeProperty ? selectedNode.parentNode.id : selectedNode.id;\n        const computedFontSize = await model.getComputedStyleForNode(fontSizeNodeId).then(findFontSizeValue);\n        const computedFontSizeValue = computedFontSize.replace(/[a-z]/g, '');\n        currentFontSize = parseFloat(computedFontSizeValue);\n    }\n    else {\n        currentFontSize = 16;\n    }\n    return currentFontSize;\n}\nasync function getRemMultiplier() {\n    const selectedNode = UI.Context.Context.instance().flavor(SDK.DOMModel.DOMNode);\n    const htmlNode = findHtmlNode(selectedNode);\n    if (!htmlNode || !htmlNode.id) {\n        return 16;\n    }\n    const [model] = SDK.TargetManager.TargetManager.instance().models(CssOverviewModule.CSSOverviewModel.CSSOverviewModel);\n    const computedRootFontSize = await model.getComputedStyleForNode(htmlNode.id).then(findFontSizeValue);\n    const rootFontSizeValue = computedRootFontSize.replace(/[a-z]/g, '');\n    const rootFontSize = parseFloat(rootFontSizeValue);\n    return rootFontSize;\n}\nasync function getPercentMultiplier(isFontSizeProperty) {\n    const emMultiplier = await getEmMultiplier(isFontSizeProperty);\n    const percMultiplier = emMultiplier / 100;\n    return percMultiplier;\n}\nasync function getVhMultiplier() {\n    const viewportObject = await getViewportObject();\n    if (!viewportObject) {\n        return 1;\n    }\n    const viewportHeight = viewportObject.height;\n    const vhMultiplier = viewportHeight / 100;\n    return vhMultiplier;\n}\nasync function getVwMultiplier() {\n    const viewportObject = await getViewportObject();\n    if (!viewportObject) {\n        return 1;\n    }\n    const viewportWidth = viewportObject.width;\n    const vwMultiplier = viewportWidth / 100;\n    return vwMultiplier;\n}\nasync function getVminMultiplier() {\n    const viewportObject = await getViewportObject();\n    if (!viewportObject) {\n        return 1;\n    }\n    const viewportWidth = viewportObject.width;\n    const viewportHeight = viewportObject.height;\n    const minViewportSize = Math.min(viewportWidth, viewportHeight);\n    const vminMultiplier = minViewportSize / 100;\n    return vminMultiplier;\n}\nasync function getVmaxMultiplier() {\n    const viewportObject = await getViewportObject();\n    if (!viewportObject) {\n        return 1;\n    }\n    const viewportWidth = viewportObject.width;\n    const viewportHeight = viewportObject.height;\n    const maxViewportSize = Math.max(viewportWidth, viewportHeight);\n    const vmaxMultiplier = maxViewportSize / 100;\n    return vmaxMultiplier;\n}\nfunction getCmMultiplier() {\n    return 37.795;\n}\nfunction getMmMultiplier() {\n    return 3.7795;\n}\nfunction getInMultiplier() {\n    return 96;\n}\nfunction getPtMultiplier() {\n    return 4 / 3;\n}\nfunction getPcMultiplier() {\n    return 16;\n}\nfunction findFontSizeValue(computedObject) {\n    const computedArray = computedObject.computedStyle;\n    let index = computedArrayFontSizeIndex;\n    if (computedArray[index].name && computedArray[index].name !== 'font-size') {\n        for (let i = 0; i < computedArray.length; i++) {\n            if (computedArray[i].name === 'font-size') {\n                index = i;\n                break;\n            }\n        }\n    }\n    return computedArray[index].value;\n}\nfunction findHtmlNode(selectedNode) {\n    let node = selectedNode;\n    while (node && node.nodeName() !== 'HTML') {\n        if (node.parentNode) {\n            node = node.parentNode;\n        }\n        else {\n            break;\n        }\n    }\n    return node;\n}\nconst widthEvaluateParams = {\n    expression: 'window.innerWidth',\n    includeCommandLineAPI: false,\n    silent: true,\n    returnByValue: false,\n    generatePreview: false,\n    userGesture: false,\n    awaitPromise: true,\n    throwOnSideEffect: false,\n    disableBreaks: true,\n    replMode: false,\n    allowUnsafeEvalBlockedByCSP: false,\n};\nconst heightEvaluateParams = {\n    expression: 'window.innerHeight',\n    includeCommandLineAPI: false,\n    silent: true,\n    returnByValue: false,\n    generatePreview: false,\n    userGesture: false,\n    awaitPromise: true,\n    throwOnSideEffect: false,\n    disableBreaks: true,\n    replMode: false,\n    allowUnsafeEvalBlockedByCSP: false,\n};\nasync function getViewportObject() {\n    const currentExecutionContext = UI.Context.Context.instance().flavor(SDK.RuntimeModel.ExecutionContext);\n    let width, height;\n    if (currentExecutionContext) {\n        const widthObject = await currentExecutionContext.evaluate(widthEvaluateParams, false, false);\n        const heightObject = await currentExecutionContext.evaluate(heightEvaluateParams, false, false);\n        if ('error' in widthObject || 'error' in heightObject) {\n            return null;\n        }\n        if (widthObject.object) {\n            width = widthObject.object.value;\n        }\n        if (heightObject.object) {\n            height = heightObject.object.value;\n        }\n    }\n    if (width === undefined || height === undefined) {\n        const selectedNode = UI.Context.Context.instance().flavor(SDK.DOMModel.DOMNode);\n        if (!selectedNode) {\n            return null;\n        }\n        const pageLayout = await selectedNode.domModel().target().pageAgent().invoke_getLayoutMetrics();\n        const zoom = pageLayout.visualViewport.zoom ? pageLayout.visualViewport.zoom : 1;\n        height = pageLayout.visualViewport.clientHeight / zoom;\n        width = pageLayout.visualViewport.clientWidth / zoom;\n    }\n    return { width, height };\n}\nconst unitConversionMap = new Map();\nunitConversionMap.set('px', getPxMultiplier);\nunitConversionMap.set('em', getEmMultiplier);\nunitConversionMap.set('rem', getRemMultiplier);\nunitConversionMap.set('%', getPercentMultiplier);\nunitConversionMap.set('vh', getVhMultiplier);\nunitConversionMap.set('vw', getVwMultiplier);\nunitConversionMap.set('vmin', getVminMultiplier);\nunitConversionMap.set('vmax', getVmaxMultiplier);\nunitConversionMap.set('cm', getCmMultiplier);\nunitConversionMap.set('mm', getMmMultiplier);\nunitConversionMap.set('in', getInMultiplier);\nunitConversionMap.set('pt', getPtMultiplier);\nunitConversionMap.set('pc', getPcMultiplier);\nexport async function getUnitConversionMultiplier(prevUnit, newUnit, isFontSize) {\n    if (prevUnit === '') {\n        prevUnit = 'em';\n    }\n    if (newUnit === '') {\n        newUnit = 'em';\n    }\n    let prevUnitMultiplier, newUnitMultiplier;\n    const prevUnitFunction = unitConversionMap.get(prevUnit);\n    const newUnitFunction = unitConversionMap.get(newUnit);\n    if (prevUnitFunction && newUnitFunction) {\n        if (prevUnit === 'em' || prevUnit === '%') {\n            prevUnitMultiplier = await prevUnitFunction(isFontSize);\n        }\n        else {\n            prevUnitMultiplier = await prevUnitFunction();\n        }\n        if (newUnit === 'em' || newUnit === '%') {\n            newUnitMultiplier = await newUnitFunction(isFontSize);\n        }\n        else {\n            newUnitMultiplier = await newUnitFunction();\n        }\n    }\n    else {\n        return 1;\n    }\n    return prevUnitMultiplier / newUnitMultiplier;\n}\n//# sourceMappingURL=FontEditorUnitConverter.js.map","// Copyright 2020 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\nimport * as SDK from '../../../../core/sdk/sdk.js';\nimport * as CssOverviewModule from '../../../../panels/css_overview/css_overview.js';\n// The following regexes are used within in the StylesSidebarPropertyRenderer class\n// and will parse both invalid and valid values. They both match full strings.\n// [^- ][a-zA-Z-]+ matches property key values (e.g. smaller, x-large, initial)\n// -?\\+?(?:[0-9]+\\.[0-9]+|\\.[0-9]+|[0-9]+) matches numeric property values (e.g. -.23, 3.3, 55)\n// [a-zA-Z%]{0,4} matches the units of numeric property values (e.g. px, vmin, or blank units)\nexport const FontPropertiesRegex = /^[^- ][a-zA-Z-]+$|^-?\\+?(?:[0-9]+\\.[0-9]+|\\.[0-9]+|[0-9]+)[a-zA-Z%]{0,4}$/;\n// \"[\\w \\,-]+\",? ? matches double quoted values and the trailing comma/space (e.g. \"Tahoma\", )\n// ('[\\w \\,-]+',? ?) matches single quoted values and the trailing comma/space (e.g. 'Segoe UI', )\n// ([\\w \\,-]+,? ?) matches non quoted values and the trailing comma/space (e.g. Helvetica)\n// (?: ...)+ will match 1 or more of the groups above such that it would match a value with fallbacks (e.g. \"Tahoma\", 'Segoe UI', Helvetica)\nexport const FontFamilyRegex = /^\"[\\w \\,-]+\"$|^'[\\w \\,-]+'$|^[\\w \\-]+$/;\n// The following regexes are used within the Font Editor and will only parse valid property values.\n// Example Input/Outputs:\n// font-size: \"20px\" -> (20)(px)\n// line-height: \"0.5em\" -> (0.5)(em)\n// font-weight: \"300\" -> (300);\n// letter-spacing: -.625rem -> (-.625)(rem)\nconst fontSizeRegex = /(^[\\+\\d\\.]+)([a-zA-Z%]+)/;\nconst lineHeightRegex = /(^[\\+\\d\\.]+)([a-zA-Z%]*)/;\nconst fontWeightRegex = /(^[\\+\\d\\.]+)/;\nconst letterSpacingRegex = /([\\+-0-9\\.]+)([a-zA-Z%]+)/;\nconst fontSizeUnits = new Set(['px', 'em', 'rem', '%', 'vh', 'vw']);\nconst lineHeightUnits = new Set(['', 'px', 'em', '%']);\nconst letterSpacingUnits = new Set(['em', 'rem', 'px']);\nconst fontSizeKeyValuesArray = [\n    '',\n    'xx-small',\n    'x-small',\n    'smaller',\n    'small',\n    'medium',\n    'large',\n    'larger',\n    'x-large',\n    'xx-large',\n];\nconst lineHeightKeyValuesArray = ['', 'normal'];\nconst fontWeightKeyValuesArray = ['', 'lighter', 'normal', 'bold', 'bolder'];\nconst letterSpacingKeyValuesArray = ['', 'normal'];\nexport const GlobalValues = ['inherit', 'initial', 'unset'];\nfontSizeKeyValuesArray.push(...GlobalValues);\nlineHeightKeyValuesArray.push(...GlobalValues);\nfontWeightKeyValuesArray.push(...GlobalValues);\nletterSpacingKeyValuesArray.push(...GlobalValues);\nconst fontSizeKeyValues = new Set(fontSizeKeyValuesArray);\nconst lineHeightKeyValues = new Set(lineHeightKeyValuesArray);\nconst fontWeightKeyValues = new Set(fontWeightKeyValuesArray);\nconst letterSpacingKeyValues = new Set(letterSpacingKeyValuesArray);\nconst fontSizeRangeMap = new Map([\n    // Common Units\n    ['px', { min: 0, max: 72, step: 1 }],\n    ['em', { min: 0, max: 4.5, step: .1 }],\n    ['rem', { min: 0, max: 4.5, step: .1 }],\n    ['%', { min: 0, max: 450, step: 1 }],\n    ['vh', { min: 0, max: 10, step: .1 }],\n    ['vw', { min: 0, max: 10, step: .1 }],\n    // Extra Units\n    ['vmin', { min: 0, max: 10, step: .1 }],\n    ['vmax', { min: 0, max: 10, step: .1 }],\n    ['cm', { min: 0, max: 2, step: .1 }],\n    ['mm', { min: 0, max: 20, step: .1 }],\n    ['in', { min: 0, max: 1, step: .01 }],\n    ['pt', { min: 0, max: 54, step: 1 }],\n    ['pc', { min: 0, max: 4.5, step: .1 }],\n]);\nconst lineHeightRangeMap = new Map([\n    // Common Units\n    ['', { min: 0, max: 2, step: .1 }],\n    ['em', { min: 0, max: 2, step: .1 }],\n    ['%', { min: 0, max: 200, step: 1 }],\n    ['px', { min: 0, max: 32, step: 1 }],\n    // Extra Units\n    ['rem', { min: 0, max: 2, step: .1 }],\n    ['vh', { min: 0, max: 4.5, step: .1 }],\n    ['vw', { min: 0, max: 4.5, step: .1 }],\n    ['vmin', { min: 0, max: 4.5, step: .1 }],\n    ['vmax', { min: 0, max: 4.5, step: .1 }],\n    ['cm', { min: 0, max: 1, step: .1 }],\n    ['mm', { min: 0, max: 8.5, step: .1 }],\n    ['in', { min: 0, max: .5, step: .1 }],\n    ['pt', { min: 0, max: 24, step: 1 }],\n    ['pc', { min: 0, max: 2, step: .1 }],\n]);\nconst fontWeightRangeMap = new Map([\n    ['', { min: 100, max: 700, step: 100 }],\n]);\nconst letterSpacingRangeMap = new Map([\n    // Common Units\n    ['px', { min: -10, max: 10, step: .01 }],\n    ['em', { min: -0.625, max: 0.625, step: .001 }],\n    ['rem', { min: -0.625, max: 0.625, step: .001 }],\n    // Extra Units\n    ['%', { min: -62.5, max: 62.5, step: .1 }],\n    ['vh', { min: -1.5, max: 1.5, step: .01 }],\n    ['vw', { min: -1.5, max: 1.5, step: .01 }],\n    ['vmin', { min: -1.5, max: 1.5, step: .01 }],\n    ['vmax', { min: -1.5, max: 1.5, step: .01 }],\n    ['cm', { min: -0.25, max: .025, step: .001 }],\n    ['mm', { min: -2.5, max: 2.5, step: .01 }],\n    ['in', { min: -0.1, max: 0.1, step: .001 }],\n    ['pt', { min: -7.5, max: 7.5, step: .01 }],\n    ['pc', { min: -0.625, max: 0.625, step: .001 }],\n]);\nexport const FontSizeStaticParams = {\n    regex: fontSizeRegex,\n    units: fontSizeUnits,\n    keyValues: fontSizeKeyValues,\n    rangeMap: fontSizeRangeMap,\n    defaultUnit: 'px',\n};\nexport const LineHeightStaticParams = {\n    regex: lineHeightRegex,\n    units: lineHeightUnits,\n    keyValues: lineHeightKeyValues,\n    rangeMap: lineHeightRangeMap,\n    defaultUnit: '',\n};\nexport const FontWeightStaticParams = {\n    regex: fontWeightRegex,\n    units: null,\n    keyValues: fontWeightKeyValues,\n    rangeMap: fontWeightRangeMap,\n    defaultUnit: null,\n};\nexport const LetterSpacingStaticParams = {\n    regex: letterSpacingRegex,\n    units: letterSpacingUnits,\n    keyValues: letterSpacingKeyValues,\n    rangeMap: letterSpacingRangeMap,\n    defaultUnit: 'em',\n};\nexport const SystemFonts = [\n    'Arial',\n    'Bookman',\n    'Candara',\n    'Comic Sans MS',\n    'Courier New',\n    'Garamond',\n    'Georgia',\n    'Helvetica',\n    'Impact',\n    'Palatino',\n    'Roboto',\n    'Times New Roman',\n    'Verdana',\n];\nexport const GenericFonts = [\n    'serif',\n    'sans-serif',\n    'monspace',\n    'cursive',\n    'fantasy',\n    'system-ui',\n    'ui-serif',\n    'ui-sans-serif',\n    'ui-monospace',\n    'ui-rounded',\n    'emoji',\n    'math',\n    'fangsong',\n];\nexport async function generateComputedFontArray() {\n    const modelArray = SDK.TargetManager.TargetManager.instance().models(CssOverviewModule.CSSOverviewModel.CSSOverviewModel);\n    if (modelArray) {\n        const cssOverviewModel = modelArray[0];\n        if (cssOverviewModel) {\n            const { fontInfo } = await cssOverviewModel.getNodeStyleStats();\n            const computedFontArray = Array.from(fontInfo.keys());\n            return computedFontArray;\n        }\n    }\n    return [];\n}\nexport function getRoundingPrecision(step) {\n    switch (step) {\n        case 1:\n            return 0;\n        case .1:\n            return 1;\n        case .01:\n            return 2;\n        case .001:\n            return 3;\n        default:\n            return 0;\n    }\n}\n//# sourceMappingURL=FontEditorUtils.js.map","// Copyright 2020 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\nimport * as Common from '../../../../core/common/common.js';\nimport * as i18n from '../../../../core/i18n/i18n.js';\nimport * as Platform from '../../../../core/platform/platform.js';\nimport * as SDK from '../../../../core/sdk/sdk.js';\nimport * as IconButton from '../../../components/icon_button/icon_button.js';\nimport * as VisualLogging from '../../../visual_logging/visual_logging.js';\nimport * as UI from '../../legacy.js';\nimport fontEditorStyles from './fontEditor.css.js';\nimport * as FontEditorUnitConverter from './FontEditorUnitConverter.js';\nimport * as FontEditorUtils from './FontEditorUtils.js';\nconst UIStrings = {\n    /**\n     *@description Font editor label for font family selector\n     */\n    fontFamily: 'Font Family',\n    /**\n     *@description Section header for CSS property inputs\n     */\n    cssProperties: 'CSS Properties',\n    /**\n     *@description Font size slider label for Font Editor\n     */\n    fontSize: 'Font Size',\n    /**\n     *@description Line height slider label for Font Editor\n     */\n    lineHeight: 'Line Height',\n    /**\n     *@description Font weight slider label for Font Editor\n     */\n    fontWeight: 'Font Weight',\n    /**\n     *@description Label for letter-spacing labels\n     */\n    spacing: 'Spacing',\n    /**\n     *@description Label for numbered fallback selectors\n     *@example {2} PH1\n     */\n    fallbackS: 'Fallback {PH1}',\n    /**\n     *@description Announcement for deleting an empty font family selector in the Font Editor\n     *@example {2} PH1\n     */\n    thereIsNoValueToDeleteAtIndexS: 'There is no value to delete at index: {PH1}',\n    /**\n     *@description Announcement when deleting a font selector in the Font Editor\n     *@example {2} PH1\n     */\n    fontSelectorDeletedAtIndexS: 'Font Selector deleted at index: {PH1}',\n    /**\n     *@description Label for Font Editor button to delete font family/fallback selectors\n     *@example {Fallback 1} PH1\n     */\n    deleteS: 'Delete {PH1}',\n    /**\n     * @description Warning message for Font Editor invalid text input. The placeholder is the name of\n     * the CSS attribute that is incorrect.\n     * @example {font-size} PH1\n     */\n    PleaseEnterAValidValueForSText: '* Please enter a valid value for {PH1} text input',\n    /**\n     *@description Error text in Font Editor\n     *@example {font-size} PH1\n     */\n    thisPropertyIsSetToContainUnits: 'This property is set to contain units but does not have a defined corresponding unitsArray: {PH1}',\n    /**\n     *@description Label for slider input in the Font Editor.\n     *@example {font-size} PH1\n     */\n    sSliderInput: '{PH1} Slider Input',\n    /**\n     *@description Accessible label for a text input for a property in the Font Editor.\n     *@example {font-size} PH1\n     */\n    sTextInput: '{PH1} Text Input',\n    /**\n     *@description Font Editor units text box label\n     */\n    units: 'Units',\n    /**\n     * @description Accessible name for Font Editor unit input. The placeholder is the name of the font\n     * property that this UI input controls. e.g. font-size, line-height, line-weight.\n     * @example {font-size} PH1\n     */\n    sUnitInput: '{PH1} Unit Input',\n    /**\n     *@description Text used in the Font Editor for the key values selector\n     *@example {font-size} PH1\n     */\n    sKeyValueSelector: '{PH1} Key Value Selector',\n    /**\n     * @description Label for Font Editor toggle input type button. The placeholder is the name of the\n     * font property that this UI input controls. e.g. font-size, line-height, line-weight. Tooltip for\n     * a button next to the text input which allows the user to change the input type. When they click\n     * this button, the UI changes to allow the user to choose from a list of pre-selected font\n     * categories.\n     * @example {font-size} PH1\n     */\n    sToggleInputType: '{PH1} toggle input type',\n    /**\n     *@description Label for Font Editor alert in CSS Properties section when toggling inputs\n     */\n    selectorInputMode: 'Selector Input Mode',\n    /**\n     *@description Label for Font Editor alert in CSS Properties section when toggling inputs\n     */\n    sliderInputMode: 'Slider Input Mode',\n};\nconst str_ = i18n.i18n.registerUIStrings('ui/legacy/components/inline_editor/FontEditor.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\nexport class FontEditor extends Common.ObjectWrapper.eventMixin(UI.Widget.VBox) {\n    selectedNode;\n    propertyMap;\n    fontSelectorSection;\n    fontSelectors;\n    fontsList;\n    constructor(propertyMap) {\n        super(true);\n        this.selectedNode = UI.Context.Context.instance().flavor(SDK.DOMModel.DOMNode);\n        this.propertyMap = propertyMap;\n        this.contentElement.tabIndex = 0;\n        this.contentElement.setAttribute('jslog', `${VisualLogging.dialog('font-editor').parent('mapped').track({ keydown: 'Enter|Escape' })}`);\n        this.setDefaultFocusedElement(this.contentElement);\n        // Font Selector Section\n        this.fontSelectorSection = this.contentElement.createChild('div', 'font-selector-section');\n        this.fontSelectorSection.createChild('h2', 'font-section-header').textContent = i18nString(UIStrings.fontFamily);\n        this.fontSelectors = [];\n        this.fontsList = null;\n        const propertyValue = this.propertyMap.get('font-family');\n        void this.createFontSelectorSection(propertyValue);\n        //  CSS Font Property Section\n        const cssPropertySection = this.contentElement.createChild('div', 'font-section');\n        cssPropertySection.createChild('h2', 'font-section-header').textContent = i18nString(UIStrings.cssProperties);\n        // The regexes only handle valid property values as invalid values are not passed into the property map.\n        const fontSizePropertyInfo = this.getPropertyInfo('font-size', FontEditorUtils.FontSizeStaticParams.regex);\n        const lineHeightPropertyInfo = this.getPropertyInfo('line-height', FontEditorUtils.LineHeightStaticParams.regex);\n        const fontWeightPropertyInfo = this.getPropertyInfo('font-weight', FontEditorUtils.FontWeightStaticParams.regex);\n        const letterSpacingPropertyInfo = this.getPropertyInfo('letter-spacing', FontEditorUtils.LetterSpacingStaticParams.regex);\n        new FontPropertyInputs('font-size', i18nString(UIStrings.fontSize), cssPropertySection, fontSizePropertyInfo, FontEditorUtils.FontSizeStaticParams, this.updatePropertyValue.bind(this), this.resizePopout.bind(this), \n        /** hasUnits= */ true);\n        new FontPropertyInputs('line-height', i18nString(UIStrings.lineHeight), cssPropertySection, lineHeightPropertyInfo, FontEditorUtils.LineHeightStaticParams, this.updatePropertyValue.bind(this), this.resizePopout.bind(this), \n        /** hasUnits= */ true);\n        new FontPropertyInputs('font-weight', i18nString(UIStrings.fontWeight), cssPropertySection, fontWeightPropertyInfo, FontEditorUtils.FontWeightStaticParams, this.updatePropertyValue.bind(this), this.resizePopout.bind(this), \n        /** hasUnits= */ false);\n        new FontPropertyInputs('letter-spacing', i18nString(UIStrings.spacing), cssPropertySection, letterSpacingPropertyInfo, FontEditorUtils.LetterSpacingStaticParams, this.updatePropertyValue.bind(this), this.resizePopout.bind(this), \n        /** hasUnits= */ true);\n    }\n    wasShown() {\n        this.registerCSSFiles([fontEditorStyles]);\n    }\n    async createFontSelectorSection(propertyValue) {\n        if (propertyValue) {\n            // FIXME(crbug.com/1148434): propertyValue will not be split correctly for font family names that contain commas.\n            // e.g. font-family: \"Name,with,commas\"\n            const splitValue = propertyValue.split(',');\n            await this.createFontSelector(splitValue[0], /* isPrimary= */ true);\n            if (!FontEditorUtils.GlobalValues.includes(splitValue[0])) {\n                // We add one to the splitValue length so that we have an additional empty fallback selector\n                for (let i = 1; i < splitValue.length + 1; i++) {\n                    void this.createFontSelector(splitValue[i]);\n                }\n            }\n        }\n        else {\n            void this.createFontSelector('', true);\n        }\n        this.resizePopout();\n    }\n    async createFontsList() {\n        const computedFontArray = await FontEditorUtils.generateComputedFontArray();\n        const computedMap = new Map();\n        const splicedArray = this.splitComputedFontArray(computedFontArray);\n        computedMap.set('Computed Fonts', splicedArray);\n        const systemMap = new Map();\n        systemMap.set('System Fonts', FontEditorUtils.SystemFonts);\n        systemMap.set('Generic Families', FontEditorUtils.GenericFonts);\n        const fontList = [];\n        fontList.push(computedMap);\n        fontList.push(systemMap);\n        return fontList;\n    }\n    splitComputedFontArray(computedFontArray) {\n        const array = [];\n        for (const fontFamilyValue of computedFontArray) {\n            if (fontFamilyValue.includes(',')) {\n                const fonts = fontFamilyValue.split(',');\n                fonts.forEach(element => {\n                    if (array.findIndex(item => item.toLowerCase() === element.trim().toLowerCase().replace(/\"/g, '\\'')) === -1) {\n                        array.push(element.trim().replace(/\"/g, ''));\n                    }\n                });\n            }\n            else if (array.findIndex(item => item.toLowerCase() === fontFamilyValue.toLowerCase().replace('\"', '\\'')) === -1) {\n                array.push(fontFamilyValue.replace(/\"/g, ''));\n            }\n        }\n        return array;\n    }\n    async createFontSelector(value, isPrimary) {\n        // FIXME(crbug.com/1148434): Custom font family names that use single/double quotes in the font family name will not be handled correctly.\n        // e.g. font-family: \"FontWith\\\"DoubleQuotes\"\n        value = value ? value.trim() : '';\n        if (value) {\n            const firstChar = value.charAt(0);\n            if (firstChar === '\\'') {\n                value = value.replace(/'/g, '');\n            }\n            else if (firstChar === '\"') {\n                value = value.replace(/\"/g, '');\n            }\n        }\n        const selectorField = this.fontSelectorSection.createChild('div', 'shadow-editor-field shadow-editor-flex-field');\n        if (!this.fontsList) {\n            this.fontsList = await this.createFontsList();\n        }\n        let label;\n        if (isPrimary) {\n            label = i18nString(UIStrings.fontFamily);\n            const globalValuesMap = new Map([['Global Values', FontEditorUtils.GlobalValues]]);\n            const primaryFontList = [...this.fontsList];\n            primaryFontList.push(globalValuesMap);\n            this.createSelector(selectorField, label, primaryFontList, value.trim(), 'primary-font-family');\n        }\n        else {\n            label = i18nString(UIStrings.fallbackS, { PH1: this.fontSelectors.length });\n            this.createSelector(selectorField, label, this.fontsList, value.trim(), 'fallback-font-family');\n        }\n    }\n    deleteFontSelector(index, isGlobalValue) {\n        let fontSelectorObject = this.fontSelectors[index];\n        const isPrimary = index === 0;\n        if (fontSelectorObject.input.value === '' && !isGlobalValue) {\n            UI.ARIAUtils.alert(i18nString(UIStrings.thereIsNoValueToDeleteAtIndexS, { PH1: index }));\n            return;\n        }\n        if (isPrimary) {\n            // When deleting the primary font selector, we overwrite the value of the primary selector\n            // with the value of the secondary selector and delete the secondary selector.\n            const secondarySelector = this.fontSelectors[1];\n            let newPrimarySelectorValue = '';\n            if (secondarySelector) {\n                newPrimarySelectorValue = secondarySelector.input.value;\n                fontSelectorObject = secondarySelector;\n            }\n            const primarySelector = this.fontSelectors[0].input;\n            primarySelector.value = newPrimarySelectorValue;\n            index = 1;\n        }\n        if (fontSelectorObject.input.parentNode) {\n            const hasSecondarySelector = this.fontSelectors.length > 1;\n            if (!isPrimary || hasSecondarySelector) {\n                const selectorElement = fontSelectorObject.input.parentElement;\n                if (selectorElement) {\n                    selectorElement.remove();\n                    this.fontSelectors.splice(index, 1);\n                    this.updateFontSelectorList();\n                }\n            }\n            UI.ARIAUtils.alert(i18nString(UIStrings.fontSelectorDeletedAtIndexS, { PH1: index }));\n        }\n        this.onFontSelectorChanged();\n        this.resizePopout();\n        const focusIndex = isPrimary ? 0 : index - 1;\n        this.fontSelectors[focusIndex].input.focus();\n    }\n    updateFontSelectorList() {\n        for (let i = 0; i < this.fontSelectors.length; i++) {\n            const fontSelectorObject = this.fontSelectors[i];\n            let label;\n            if (i === 0) {\n                label = i18nString(UIStrings.fontFamily);\n            }\n            else {\n                label = i18nString(UIStrings.fallbackS, { PH1: i });\n            }\n            fontSelectorObject.label.textContent = label;\n            UI.ARIAUtils.setLabel(fontSelectorObject.input, label);\n            fontSelectorObject.deleteButton.setTitle(i18nString(UIStrings.deleteS, { PH1: label }));\n            fontSelectorObject.index = i;\n        }\n    }\n    getPropertyInfo(name, regex) {\n        const value = this.propertyMap.get(name);\n        if (value) {\n            const valueString = value;\n            const match = valueString.match(regex);\n            if (match) {\n                const retValue = match[1].charAt(0) === '+' ? match[1].substr(1) : match[1];\n                const retUnits = match[2] ? match[2] : '';\n                return { value: retValue, units: retUnits };\n            }\n            return { value: valueString, units: null };\n        }\n        return { value: null, units: null };\n    }\n    createSelector(field, label, options, currentValue, jslogContext) {\n        const index = this.fontSelectors.length;\n        const selectInput = UI.UIUtils.createSelect(label, options);\n        selectInput.value = currentValue;\n        selectInput.setAttribute('jslog', `${VisualLogging.dropDown(jslogContext).track({ click: true, change: true })}`);\n        const selectLabel = UI.UIUtils.createLabel(label, 'shadow-editor-label', selectInput);\n        selectInput.addEventListener('input', this.onFontSelectorChanged.bind(this), false);\n        // We want to prevent the Enter key from propagating to the SwatchPopoverHelper which will close the editor.\n        selectInput.addEventListener('keydown', (event) => {\n            if (event.key === 'Enter') {\n                event.consume();\n            }\n        }, false);\n        field.appendChild(selectLabel);\n        field.appendChild(selectInput);\n        const deleteToolbar = new UI.Toolbar.Toolbar('', field);\n        const deleteButton = new UI.Toolbar.ToolbarButton(i18nString(UIStrings.deleteS, { PH1: label }), 'bin', undefined, 'delete');\n        deleteToolbar.appendToolbarItem(deleteButton);\n        const fontSelectorObject = { label: selectLabel, input: selectInput, deleteButton, index };\n        deleteButton.addEventListener(\"Click\" /* UI.Toolbar.ToolbarButton.Events.CLICK */, () => {\n            this.deleteFontSelector(fontSelectorObject.index);\n        });\n        deleteButton.element.addEventListener('keydown', (event) => {\n            if (Platform.KeyboardUtilities.isEnterOrSpaceKey(event)) {\n                this.deleteFontSelector(fontSelectorObject.index);\n                event.consume();\n            }\n        }, false);\n        this.fontSelectors.push(fontSelectorObject);\n    }\n    onFontSelectorChanged() {\n        let value = '';\n        const isGlobalValue = FontEditorUtils.GlobalValues.includes(this.fontSelectors[0].input.value);\n        if (isGlobalValue) {\n            for (let i = 1; i < this.fontSelectors.length; i++) {\n                this.deleteFontSelector(i, /** isGlobalValue= */ true);\n            }\n        }\n        for (const fontSelector of this.fontSelectors) {\n            const fontSelectorInput = fontSelector.input;\n            if (fontSelectorInput.value !== '') {\n                if (value === '') {\n                    value = this.fontSelectors[0].input.value;\n                }\n                else {\n                    value += ', ' + fontSelectorInput.value;\n                }\n            }\n        }\n        // Add an extra blank selector as long as the last selector doesn't have an empty value, the primary\n        // selector's value is not a global value and if the list of selectors has not exceeded 10.\n        if (this.fontSelectors[this.fontSelectors.length - 1].input.value !== '' && !isGlobalValue &&\n            this.fontSelectors.length < 10) {\n            void this.createFontSelector(/** value= */ '');\n            this.resizePopout();\n        }\n        this.updatePropertyValue('font-family', value);\n    }\n    updatePropertyValue(propertyName, value) {\n        this.dispatchEventToListeners(\"FontChanged\" /* Events.FONT_CHANGED */, { propertyName, value });\n    }\n    resizePopout() {\n        this.dispatchEventToListeners(\"FontEditorResized\" /* Events.FONT_EDITOR_RESIZED */);\n    }\n}\nclass FontPropertyInputs {\n    showSliderMode;\n    errorText;\n    propertyInfo;\n    propertyName;\n    staticParams;\n    hasUnits;\n    units;\n    addedUnit;\n    initialRange;\n    boundUpdateCallback;\n    boundResizeCallback;\n    selectedNode;\n    sliderInput;\n    textBoxInput;\n    unitInput;\n    selectorInput;\n    applyNextInput;\n    constructor(propertyName, label, field, propertyInfo, staticParams, updateCallback, resizeCallback, hasUnits) {\n        this.showSliderMode = true;\n        const propertyField = field.createChild('div', 'shadow-editor-field shadow-editor-flex-field');\n        this.errorText = field.createChild('div', 'error-text');\n        this.errorText.textContent = i18nString(UIStrings.PleaseEnterAValidValueForSText, { PH1: propertyName });\n        this.errorText.hidden = true;\n        UI.ARIAUtils.markAsAlert(this.errorText);\n        this.propertyInfo = propertyInfo;\n        this.propertyName = propertyName;\n        this.staticParams = staticParams;\n        // Unit handling\n        this.hasUnits = hasUnits;\n        if (this.hasUnits && this.staticParams.units && this.staticParams.defaultUnit !== null) {\n            const defaultUnits = this.staticParams.defaultUnit;\n            this.units = propertyInfo.units !== null ? propertyInfo.units : defaultUnits;\n            this.addedUnit = !this.staticParams.units.has(this.units);\n        }\n        else if (this.hasUnits) {\n            throw new Error(i18nString(UIStrings.thisPropertyIsSetToContainUnits, { PH1: propertyName }));\n        }\n        else {\n            this.units = '';\n        }\n        this.initialRange = this.getUnitRange();\n        this.boundUpdateCallback = updateCallback;\n        this.boundResizeCallback = resizeCallback;\n        this.selectedNode = UI.Context.Context.instance().flavor(SDK.DOMModel.DOMNode);\n        const propertyLabel = UI.UIUtils.createLabel(label, 'shadow-editor-label');\n        propertyField.append(propertyLabel);\n        this.sliderInput = this.createSliderInput(propertyField, propertyName);\n        this.textBoxInput = this.createTextBoxInput(propertyField, propertyName);\n        UI.ARIAUtils.bindLabelToControl(propertyLabel, this.textBoxInput);\n        this.unitInput = this.createUnitInput(propertyField, `${propertyName}-unit`);\n        this.selectorInput = this.createSelectorInput(propertyField, propertyName);\n        this.createTypeToggle(propertyField, `${propertyName}-value-type`);\n        this.checkSelectorValueAndToggle();\n        this.applyNextInput = false;\n    }\n    setInvalidTextBoxInput(invalid) {\n        if (invalid) {\n            if (this.errorText.hidden) {\n                this.errorText.hidden = false;\n                this.textBoxInput.classList.add('error-input');\n                this.boundResizeCallback();\n            }\n        }\n        else {\n            if (!this.errorText.hidden) {\n                this.errorText.hidden = true;\n                this.textBoxInput.classList.remove('error-input');\n                this.boundResizeCallback();\n            }\n        }\n    }\n    checkSelectorValueAndToggle() {\n        if (this.staticParams.keyValues && this.propertyInfo.value !== null &&\n            (this.staticParams.keyValues.has(this.propertyInfo.value))) {\n            this.toggleInputType();\n            return true;\n        }\n        return false;\n    }\n    getUnitRange() {\n        let min = 0;\n        let max = 100;\n        let step = 1;\n        if (this.propertyInfo.value !== null && /\\d/.test(this.propertyInfo.value)) {\n            if (this.staticParams.rangeMap.get(this.units)) {\n                const unitRangeMap = this.staticParams.rangeMap.get(this.units);\n                if (unitRangeMap) {\n                    min = Math.min(unitRangeMap.min, parseFloat(this.propertyInfo.value));\n                    max = Math.max(unitRangeMap.max, parseFloat(this.propertyInfo.value));\n                    step = unitRangeMap.step;\n                }\n            }\n            else {\n                const unitRangeMap = this.staticParams.rangeMap.get('px');\n                if (unitRangeMap) {\n                    min = Math.min(unitRangeMap.min, parseFloat(this.propertyInfo.value));\n                    max = Math.max(unitRangeMap.max, parseFloat(this.propertyInfo.value));\n                    step = unitRangeMap.step;\n                }\n            }\n        }\n        else {\n            const unitRangeMap = this.staticParams.rangeMap.get(this.units);\n            if (unitRangeMap) {\n                min = unitRangeMap.min;\n                max = unitRangeMap.max;\n                step = unitRangeMap.step;\n            }\n        }\n        return { min, max, step };\n    }\n    createSliderInput(field, jslogContext) {\n        const min = this.initialRange.min;\n        const max = this.initialRange.max;\n        const step = this.initialRange.step;\n        const slider = UI.UIUtils.createSlider(min, max, -1);\n        slider.sliderElement.step = step.toString();\n        slider.sliderElement.tabIndex = 0;\n        if (this.propertyInfo.value) {\n            slider.value = parseFloat(this.propertyInfo.value);\n        }\n        else {\n            const newValue = (min + max) / 2;\n            slider.value = newValue;\n        }\n        slider.addEventListener('input', event => {\n            this.onSliderInput(event, /** apply= */ false);\n        });\n        slider.addEventListener('mouseup', event => {\n            this.onSliderInput(event, /** apply= */ true);\n        });\n        slider.addEventListener('keydown', event => {\n            if (event.key === 'ArrowUp' || event.key === 'ArrowDown' || event.key === 'ArrowLeft' ||\n                event.key === 'ArrowRight') {\n                // Pressing an arrow key will trigger two events for the slider: A keyboard event and an input event\n                // The keyboard event will come before the slider value has changed and the subsequent input event will cause\n                // the value to change.  We use the applyNextInput boolean to tell onSliderInput that the next input event\n                // is coming because of the keyboard event and that it should be applied to the section.\n                this.applyNextInput = true;\n            }\n        });\n        field.appendChild(slider);\n        UI.ARIAUtils.setLabel(slider.sliderElement, i18nString(UIStrings.sSliderInput, { PH1: this.propertyName }));\n        slider.sliderElement.setAttribute('jslog', `${VisualLogging.slider(jslogContext).track({ change: true })}`);\n        return slider;\n    }\n    createTextBoxInput(field, jslogContext) {\n        const textBoxInput = UI.UIUtils.createInput('shadow-editor-text-input', 'number', jslogContext);\n        textBoxInput.step = this.initialRange.step.toString();\n        textBoxInput.classList.add('font-editor-text-input');\n        if (this.propertyInfo.value !== null) {\n            if (this.propertyInfo.value.charAt(0) === '+') {\n                this.propertyInfo.value = this.propertyInfo.value.substr(1);\n            }\n            textBoxInput.value = this.propertyInfo.value;\n        }\n        textBoxInput.step = 'any';\n        textBoxInput.addEventListener('input', this.onTextBoxInput.bind(this), false);\n        field.appendChild(textBoxInput);\n        UI.ARIAUtils.setLabel(textBoxInput, i18nString(UIStrings.sTextInput, { PH1: this.propertyName }));\n        return textBoxInput;\n    }\n    createUnitInput(field, jslogContext) {\n        let unitInput;\n        if (this.hasUnits && this.staticParams.units) {\n            const currentValue = this.propertyInfo.units;\n            const options = this.staticParams.units;\n            unitInput = UI.UIUtils.createSelect(i18nString(UIStrings.units), options);\n            unitInput.classList.add('font-editor-select');\n            if (this.addedUnit && currentValue) {\n                unitInput.add(new Option(currentValue, currentValue));\n            }\n            if (currentValue) {\n                unitInput.value = currentValue;\n            }\n            unitInput.addEventListener('change', this.onUnitInput.bind(this), false);\n        }\n        else {\n            unitInput = UI.UIUtils.createSelect(i18nString(UIStrings.units), []);\n            unitInput.classList.add('font-editor-select');\n            unitInput.disabled = true;\n        }\n        unitInput.setAttribute('jslog', `${VisualLogging.dropDown(jslogContext).track({ click: true, change: true })}`);\n        // We want to prevent the Enter key from propagating to the SwatchPopoverHelper which will close the editor.\n        unitInput.addEventListener('keydown', (event) => {\n            if (event.key === 'Enter') {\n                event.consume();\n            }\n        }, false);\n        field.appendChild(unitInput);\n        UI.ARIAUtils.setLabel(unitInput, i18nString(UIStrings.sUnitInput, { PH1: this.propertyName }));\n        return unitInput;\n    }\n    createSelectorInput(field, jslogContext) {\n        const selectInput = UI.UIUtils.createSelect(i18nString(UIStrings.sKeyValueSelector, { PH1: this.propertyName }), this.staticParams.keyValues);\n        selectInput.classList.add('font-selector-input');\n        if (this.propertyInfo.value) {\n            selectInput.value = this.propertyInfo.value;\n        }\n        selectInput.addEventListener('input', this.onSelectorInput.bind(this), false);\n        // We want to prevent the Enter key from propagating to the SwatchPopoverHelper which will close the editor.\n        selectInput.addEventListener('keydown', (event) => {\n            if (event.key === 'Enter') {\n                event.consume();\n            }\n        }, false);\n        field.appendChild(selectInput);\n        selectInput.hidden = true;\n        selectInput.setAttribute('jslog', `${VisualLogging.dropDown(jslogContext).track({ click: true, change: true })}`);\n        return selectInput;\n    }\n    onSelectorInput(event) {\n        if (event.currentTarget) {\n            const value = event.currentTarget.value;\n            this.textBoxInput.value = '';\n            const newValue = (parseFloat(this.sliderInput.sliderElement.min) + parseFloat(this.sliderInput.sliderElement.max)) / 2;\n            this.sliderInput.value = newValue;\n            this.setInvalidTextBoxInput(false);\n            this.boundUpdateCallback(this.propertyName, value);\n        }\n    }\n    onSliderInput(event, apply) {\n        const target = event.currentTarget;\n        if (target) {\n            const value = target.value;\n            this.textBoxInput.value = value;\n            this.selectorInput.value = '';\n            const valueString = this.hasUnits ? value + this.unitInput.value : value.toString();\n            this.setInvalidTextBoxInput(false);\n            if (apply || this.applyNextInput) {\n                this.boundUpdateCallback(this.propertyName, valueString);\n                this.applyNextInput = false;\n            }\n        }\n    }\n    onTextBoxInput(event) {\n        const target = event.currentTarget;\n        if (target) {\n            const value = target.value;\n            const units = value === '' ? '' : this.unitInput.value;\n            const valueString = value + units;\n            if (this.staticParams.regex.test(valueString) || (value === '' && !target.validationMessage.length)) {\n                if (parseFloat(value) > parseFloat(this.sliderInput.sliderElement.max)) {\n                    this.sliderInput.sliderElement.max = value;\n                }\n                else if (parseFloat(value) < parseFloat(this.sliderInput.sliderElement.min)) {\n                    this.sliderInput.sliderElement.min = value;\n                }\n                this.sliderInput.value = parseFloat(value);\n                this.selectorInput.value = '';\n                this.setInvalidTextBoxInput(false);\n                this.boundUpdateCallback(this.propertyName, valueString);\n            }\n            else {\n                this.setInvalidTextBoxInput(true);\n            }\n        }\n    }\n    async onUnitInput(event) {\n        const unitInput = event.currentTarget;\n        const hasFocus = unitInput.hasFocus();\n        const newUnit = unitInput.value;\n        unitInput.disabled = true;\n        const prevUnit = this.units;\n        const conversionMultiplier = await FontEditorUnitConverter.getUnitConversionMultiplier(prevUnit, newUnit, this.propertyName === 'font-size');\n        this.setInputUnits(conversionMultiplier, newUnit);\n        if (this.textBoxInput.value) {\n            this.boundUpdateCallback(this.propertyName, this.textBoxInput.value + newUnit);\n        }\n        this.units = newUnit;\n        unitInput.disabled = false;\n        if (hasFocus) {\n            unitInput.focus();\n        }\n    }\n    createTypeToggle(field, jslogContext) {\n        const displaySwitcher = field.createChild('div', 'spectrum-switcher');\n        const icon = new IconButton.Icon.Icon();\n        icon.data = { iconName: 'fold-more', color: 'var(--icon-default)', width: '16px', height: '16px' };\n        displaySwitcher.appendChild(icon);\n        UI.UIUtils.setTitle(displaySwitcher, i18nString(UIStrings.sToggleInputType, { PH1: this.propertyName }));\n        displaySwitcher.tabIndex = 0;\n        self.onInvokeElement(displaySwitcher, this.toggleInputType.bind(this));\n        UI.ARIAUtils.markAsButton(displaySwitcher);\n        displaySwitcher.setAttribute('jslog', `${VisualLogging.toggle(jslogContext).track({ click: true })}`);\n    }\n    toggleInputType(event) {\n        if (event && event.key === 'Enter') {\n            event.consume();\n        }\n        if (this.showSliderMode) {\n            // Show selector input type\n            this.sliderInput.hidden = true;\n            this.textBoxInput.hidden = true;\n            this.unitInput.hidden = true;\n            this.selectorInput.hidden = false;\n            this.showSliderMode = false;\n            UI.ARIAUtils.alert(i18nString(UIStrings.selectorInputMode));\n        }\n        else {\n            // Show sliderinput type\n            this.sliderInput.hidden = false;\n            this.textBoxInput.hidden = false;\n            this.unitInput.hidden = false;\n            this.selectorInput.hidden = true;\n            this.showSliderMode = true;\n            UI.ARIAUtils.alert(i18nString(UIStrings.sliderInputMode));\n        }\n    }\n    setInputUnits(multiplier, newUnit) {\n        const newRangeMap = this.staticParams.rangeMap.get(newUnit);\n        let newMin, newMax, newStep;\n        if (newRangeMap) {\n            newMin = newRangeMap.min;\n            newMax = newRangeMap.max;\n            newStep = newRangeMap.step;\n        }\n        else {\n            newMin = 0;\n            newMax = 100;\n            newStep = 1;\n        }\n        let hasValue = false;\n        const roundingPrecision = FontEditorUtils.getRoundingPrecision(newStep);\n        let newValue = (newMin + newMax) / 2;\n        if (this.textBoxInput.value) {\n            hasValue = true;\n            newValue = parseFloat((parseFloat(this.textBoxInput.value) * multiplier).toFixed(roundingPrecision));\n        }\n        this.sliderInput.sliderElement.min = Math.min(newValue, newMin).toString();\n        this.sliderInput.sliderElement.max = Math.max(newValue, newMax).toString();\n        this.sliderInput.sliderElement.step = newStep.toString();\n        this.textBoxInput.step = newStep.toString();\n        if (hasValue) {\n            this.textBoxInput.value = newValue.toString();\n        }\n        this.sliderInput.value = newValue;\n    }\n}\n//# sourceMappingURL=FontEditor.js.map","// Copyright 2024 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n// IMPORTANT: this file is auto generated. Please do not edit this file.\n/* istanbul ignore file */\nconst styles = new CSSStyleSheet();\nstyles.replaceSync(\n`/*\n * Copyright 2021 The Chromium Authors. All rights reserved.\n * Use of this source code is governed by a BSD-style license that can be\n * found in the LICENSE file.\n */\n\n.link-swatch-link {\n  display: inline;\n}\n\n.link-swatch-link:not(.undefined) {\n  cursor: pointer;\n  text-underline-offset: 2px;\n  color: var(--text-link);\n}\n\n.link-swatch-link:hover:not(.undefined) {\n  text-decoration: underline;\n}\n\n.link-swatch-link:focus:not(:focus-visible) {\n  outline: none;\n}\n\n.link-swatch-link.undefined {\n  opacity: 100%;\n  color: var(--text-disabled);\n}\n\n/*# sourceURL=linkSwatch.css */\n`);\n\nexport default styles;\n","// Copyright (c) 2020 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\nimport * as i18n from '../../../../core/i18n/i18n.js';\nimport * as LitHtml from '../../../lit-html/lit-html.js';\nimport * as VisualLogging from '../../../visual_logging/visual_logging.js';\nimport textButtonStyles from '../../textButton.css.legacy.js';\nimport * as ThemeSupport from '../../theme_support/theme_support.js';\nimport linkSwatchStyles from './linkSwatch.css.js';\nconst UIStrings = {\n    /**\n     *@description Text displayed in a tooltip shown when hovering over a var() CSS function in the Styles pane when the custom property in this function does not exist. The parameter is the name of the property.\n     *@example {--my-custom-property-name} PH1\n     */\n    sIsNotDefined: '{PH1} is not defined',\n};\nconst str_ = i18n.i18n.registerUIStrings('ui/legacy/components/inline_editor/LinkSwatch.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\nconst { render, html, Directives: { ifDefined, classMap } } = LitHtml;\nclass BaseLinkSwatch extends HTMLElement {\n    shadow = this.attachShadow({ mode: 'open' });\n    onLinkActivate = () => undefined;\n    #linkElement;\n    connectedCallback() {\n        this.shadow.adoptedStyleSheets = [linkSwatchStyles];\n        ThemeSupport.ThemeSupport.instance().appendStyle(this.shadow, textButtonStyles);\n    }\n    set data(data) {\n        this.onLinkActivate = (linkText, event) => {\n            if (event instanceof MouseEvent && event.button !== 0) {\n                return;\n            }\n            data.onLinkActivate(linkText);\n            event.consume(true);\n        };\n        data.showTitle = data.showTitle === undefined ? true : data.showTitle;\n        this.render(data);\n    }\n    get linkElement() {\n        return this.#linkElement;\n    }\n    render(data) {\n        const { isDefined, text, title } = data;\n        const classes = classMap({\n            'link-style': true,\n            'text-button': true,\n            'link-swatch-link': true,\n            undefined: !isDefined,\n        });\n        // The linkText's space must be removed, otherwise it cannot be triggered when clicked.\n        const onActivate = isDefined ? this.onLinkActivate.bind(this, text.trim()) : null;\n        // We added var popover, so don't need the title attribute when no need for showing title and\n        // only provide the data-title for the popover to get the data.\n        const { startNode } = render(html `<button .disabled=${!isDefined} class=${classes}\n                     title=${ifDefined(data.showTitle ? title : undefined)}\n                     data-title=${ifDefined(!data.showTitle ? title : undefined)}\n                     @click=${onActivate} role=\"link\" tabindex=\"-1\">${text}</button>`, this.shadow, { host: this });\n        if (startNode?.nextSibling instanceof HTMLButtonElement) {\n            this.#linkElement = startNode?.nextSibling;\n        }\n    }\n}\nexport class CSSVarSwatch extends HTMLElement {\n    shadow = this.attachShadow({ mode: 'open' });\n    #link;\n    constructor() {\n        super();\n        this.tabIndex = -1;\n        this.addEventListener('focus', () => {\n            const link = this.shadow.querySelector('[role=\"link\"]');\n            if (link) {\n                link.focus();\n            }\n        });\n    }\n    set data(data) {\n        this.render(data);\n    }\n    get link() {\n        return this.#link;\n    }\n    render(data) {\n        const { variableName, fromFallback, computedValue, onLinkActivate } = data;\n        const isDefined = Boolean(computedValue) && !fromFallback;\n        const title = isDefined ? computedValue ?? '' : i18nString(UIStrings.sIsNotDefined, { PH1: variableName });\n        this.#link = new BaseLinkSwatch();\n        this.#link.data = {\n            title,\n            showTitle: false,\n            text: variableName,\n            isDefined,\n            onLinkActivate,\n        };\n        this.#link.classList.add('css-var-link');\n        // clang-format off\n        render(html `<span data-title=${data.computedValue || ''}\n          jslog=${VisualLogging.link('css-variable').track({ click: true, hover: true })}\n        >var(${this.#link}<slot name=\"fallback\">${data.fallbackText ? `, ${data.fallbackText}` : ''}</slot>)</span>`, this.shadow, { host: this });\n        // clang-format on\n    }\n}\nexport class LinkSwatch extends HTMLElement {\n    shadow = this.attachShadow({ mode: 'open' });\n    set data(data) {\n        this.render(data);\n    }\n    render(data) {\n        const { text, isDefined, onLinkActivate, jslogContext } = data;\n        const title = isDefined ? text : i18nString(UIStrings.sIsNotDefined, { PH1: text });\n        render(html `<span title=${data.text} jslog=${VisualLogging.link().track({ click: true }).context(jslogContext)}><devtools-base-link-swatch .data=${{\n            text,\n            isDefined,\n            title,\n            onLinkActivate,\n        }}></devtools-base-link-swatch></span>`, this.shadow, { host: this });\n    }\n}\ncustomElements.define('devtools-base-link-swatch', BaseLinkSwatch);\ncustomElements.define('devtools-link-swatch', LinkSwatch);\ncustomElements.define('devtools-css-var-swatch', CSSVarSwatch);\n//# sourceMappingURL=LinkSwatch.js.map","// Copyright 2024 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n// IMPORTANT: this file is auto generated. Please do not edit this file.\n/* istanbul ignore file */\nconst styles = new CSSStyleSheet();\nstyles.replaceSync(\n`/*\n * Copyright 2016 The Chromium Authors. All rights reserved.\n * Use of this source code is governed by a BSD-style license that can be\n * found in the LICENSE file.\n */\n\n:host {\n  white-space: nowrap;\n}\n\ndevtools-icon.bezier-swatch-icon {\n  position: relative;\n  transform: scale(0.7);\n  margin: -5px -2px -3px -4px;\n  user-select: none;\n  color: var(--icon-css);\n  cursor: default;\n}\n\ndevtools-icon.bezier-swatch-icon:hover {\n  color: var(--icon-css-hover);\n}\n\n/*# sourceURL=bezierSwatch.css */\n`);\n\nexport default styles;\n","// Copyright 2024 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n// IMPORTANT: this file is auto generated. Please do not edit this file.\n/* istanbul ignore file */\nconst styles = new CSSStyleSheet();\nstyles.replaceSync(\n`/*\n * Copyright 2016 The Chromium Authors. All rights reserved.\n * Use of this source code is governed by a BSD-style license that can be\n * found in the LICENSE file.\n */\n\n:host {\n  white-space: nowrap;\n}\n\ndevtools-icon.shadow-swatch-icon {\n  color: var(--icon-css);\n  transform: scale(0.7);\n  position: relative;\n  margin: -5px -2px -5px -4px;\n  user-select: none;\n  vertical-align: baseline;\n  cursor: pointer;\n\n  &:hover {\n    color: var(--icon-css-hover);\n  }\n}\n\n/*# sourceURL=cssShadowSwatch.css */\n`);\n\nexport default styles;\n","// Copyright (c) 2015 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\nimport * as IconButton from '../../../components/icon_button/icon_button.js';\nimport * as LitHtml from '../../../lit-html/lit-html.js';\nimport * as VisualLogging from '../../../visual_logging/visual_logging.js';\nimport * as UI from '../../legacy.js';\nimport bezierSwatchStyles from './bezierSwatch.css.js';\nimport cssShadowSwatchStyles from './cssShadowSwatch.css.js';\nconst { html } = LitHtml;\nexport class BezierSwatch extends HTMLSpanElement {\n    iconElementInternal;\n    textElement;\n    constructor() {\n        super();\n        const root = UI.UIUtils.createShadowRootWithCoreStyles(this, {\n            cssFile: [bezierSwatchStyles],\n            delegatesFocus: undefined,\n        });\n        this.iconElementInternal = IconButton.Icon.create('bezier-curve-filled', 'bezier-swatch-icon');\n        this.iconElementInternal.setAttribute('jslog', `${VisualLogging.showStyleEditor('bezier')}`);\n        root.appendChild(this.iconElementInternal);\n        this.textElement = this.createChild('span');\n        root.createChild('slot');\n    }\n    static create() {\n        let constructor = BezierSwatch.constructorInternal;\n        if (!constructor) {\n            constructor = UI.UIUtils.registerCustomElement('span', 'bezier-swatch', BezierSwatch);\n            BezierSwatch.constructorInternal = constructor;\n        }\n        return constructor();\n    }\n    bezierText() {\n        return this.textElement.textContent || '';\n    }\n    setBezierText(text) {\n        this.textElement.textContent = text;\n    }\n    hideText(hide) {\n        this.textElement.hidden = hide;\n    }\n    iconElement() {\n        return this.iconElementInternal;\n    }\n    static constructorInternal = null;\n}\nexport class CSSShadowSwatch extends HTMLElement {\n    #shadow = this.attachShadow({ mode: 'open' });\n    #icon;\n    #model;\n    constructor(model) {\n        super();\n        this.#model = model;\n        this.#shadow.adoptedStyleSheets = [\n            cssShadowSwatchStyles,\n        ];\n        LitHtml.render(html `<devtools-icon name=\"shadow\" class=\"shadow-swatch-icon\"></devtools-icon><slot></slot>`, this.#shadow, { host: this });\n        this.#icon = this.#shadow.querySelector('devtools-icon');\n    }\n    model() {\n        return this.#model;\n    }\n    iconElement() {\n        return this.#icon;\n    }\n}\ncustomElements.define('css-shadow-swatch', CSSShadowSwatch);\n//# sourceMappingURL=Swatches.js.map","// Copyright 2024 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n// IMPORTANT: this file is auto generated. Please do not edit this file.\n/* istanbul ignore file */\nconst styles = new CSSStyleSheet();\nstyles.replaceSync(\n`/*\n * Copyright 2017 The Chromium Authors. All rights reserved.\n * Use of this source code is governed by a BSD-style license that can be\n * found in the LICENSE file.\n */\n\n.widget {\n  display: flex;\n  background: var(--sys-color-cdt-base-container);\n  box-shadow: var(--drop-shadow);\n  border-radius: 2px;\n  overflow: auto;\n  user-select: text;\n  line-height: 11px;\n}\n\n/*# sourceURL=swatchPopover.css */\n`);\n\nexport default styles;\n"],"names":["cssParser","CodeMirror.css","numberFormatter","findNextDefinedInputIndex","points","currentIndex","i","consumeLinearStop","cursor","referenceText","tokens","token","percentages","numbers","consumeLinearFunction","text","textToParse","stops","linearStop","KeywordToValue","CSSLinearEasingModel","#points","largestInput","stop","point","extraPoint","upperIndex","index","keyword","value","styles","html","LitHtml","ColorMixSwatch","Common.ObjectWrapper.eventMixin","#registerPopoverCallback","colorMixSwatchStyles","colorText","Common.Color.parse","#render","Platform.StringUtilities.replaceLast","callback","LitHtml.render","VisualLogging.cssColorMix","UIStrings","str_","i18n.i18n.registerUIStrings","i18nString","i18n.i18n.getLocalizedString","ColorChangedEvent","color","ClickEvent","ColorSwatch","tooltip","colorSwatchStyles","element","readonly","swatch","colorSwatchClasses","LitHtml.Directives.classMap","VisualLogging.showStyleEditor","ColorPicker.FormatPickerContextMenu.FormatPickerContextMenu","CSSAngleRegex","parseText","result","getAngleFromRadians","rad","targetUnit","UI.Geometry.radiansToGradians","UI.Geometry.radiansToDegrees","UI.Geometry.radiansToTurns","getRadiansFromAngle","angle","UI.Geometry.degreesToRadians","UI.Geometry.gradiansToRadians","UI.Geometry.turnsToRadians","get2DTranslationsForAngle","radius","radian","roundAngleByUnit","roundedValue","Platform.assertNever","getNextUnit","currentUnit","convertAngleUnit","newUnit","getNewAngleFromEvent","event","direction","UI.UIUtils.getValueModificationDirection","diff","render","styleMap","LitHtml.Directives.styleMap","swatchWidth","CSSAngleSwatch","cssAngleSwatchStyles","data","translateX","translateY","miniHandStyle","CLOCK_DIAL_LENGTH","CSSAngleEditor","Common.Throttler.Throttler","cssAngleEditorStyles","mouseX","mouseY","shouldSnapToMultipleOf15Degrees","clock","top","right","bottom","left","clockCenterX","clockCenterY","multipleInRadian","closestMultipleOf15Degrees","targetDocument","editor","newAngle","clockStyles","handStyles","VisualLogging.dialog","deg","dialStyles","ValueChangedEvent","PopoverToggledEvent","open","UnitChangedEvent","DefaultAngle","CSSAngle","cssAngleStyles","parsedResult","miniIconBottom","miniIconLeft","offsetTop","offsetLeft","type","listener","options","nextUnit","contextualBackground","DraggingFinishedEvent","CSSLengthUnit","CSS_LENGTH_REGEX","#valueMousedownTime","lengthText","groups","cssLengthStyles","newValue","UI.UIUtils.createReplacementString","Host.userMetrics","CSSLength","maxRange","defaultUnit","sliderThumbRadius","canvasSize","number","unit","zero","amount","lengthRegex","match","CSSShadowEditor","UI.Widget.VBox","i18n.i18n.lockedString","xField","yField","VisualLogging.slider","UI.UIUtils.installDragHandle","blurField","field","propertyName","jslogContext","label","textInput","UI.UIUtils.createInput","VisualLogging.value","slider","UI.UIUtils.createSlider","cssShadowEditorStyles","model","drawFocus","context","thumbPoint","insetClicked","target","modifiedValue","customNumberHandler","length","prefix","suffix","currentTarget","UI.Geometry.Point","clickedPoint","constrainedPoint","newX","newY","UI.KeyboardShortcut.KeyboardShortcut","keyboardEvent","shiftX","shiftY","offsetX","newAmount","Platform.NumberUtilities.clamp","offsetY","max","minDistance","closestPoint","directions","projection","distance","x","y","computedArrayFontSizeIndex","getPxMultiplier","getEmMultiplier","isFontSizeProperty","selectedNode","UI.Context.Context","SDK.DOMModel.DOMNode","currentFontSize","SDK.TargetManager.TargetManager","CssOverviewModule.CSSOverviewModel.CSSOverviewModel","fontSizeNodeId","computedFontSizeValue","findFontSizeValue","getRemMultiplier","htmlNode","findHtmlNode","rootFontSizeValue","getPercentMultiplier","getVhMultiplier","viewportObject","getViewportObject","getVwMultiplier","getVminMultiplier","viewportWidth","viewportHeight","getVmaxMultiplier","getCmMultiplier","getMmMultiplier","getInMultiplier","getPtMultiplier","getPcMultiplier","computedObject","computedArray","node","widthEvaluateParams","heightEvaluateParams","currentExecutionContext","SDK.RuntimeModel.ExecutionContext","width","height","widthObject","heightObject","pageLayout","zoom","unitConversionMap","getUnitConversionMultiplier","prevUnit","isFontSize","prevUnitMultiplier","newUnitMultiplier","prevUnitFunction","newUnitFunction","FontPropertiesRegex","FontFamilyRegex","fontSizeRegex","lineHeightRegex","fontWeightRegex","letterSpacingRegex","fontSizeUnits","lineHeightUnits","letterSpacingUnits","fontSizeKeyValuesArray","lineHeightKeyValuesArray","fontWeightKeyValuesArray","letterSpacingKeyValuesArray","GlobalValues","fontSizeKeyValues","lineHeightKeyValues","fontWeightKeyValues","letterSpacingKeyValues","fontSizeRangeMap","lineHeightRangeMap","fontWeightRangeMap","letterSpacingRangeMap","FontSizeStaticParams","LineHeightStaticParams","FontWeightStaticParams","LetterSpacingStaticParams","SystemFonts","GenericFonts","generateComputedFontArray","modelArray","cssOverviewModel","fontInfo","getRoundingPrecision","step","FontEditor","propertyMap","propertyValue","cssPropertySection","fontSizePropertyInfo","FontEditorUtils.FontSizeStaticParams","lineHeightPropertyInfo","FontEditorUtils.LineHeightStaticParams","fontWeightPropertyInfo","FontEditorUtils.FontWeightStaticParams","letterSpacingPropertyInfo","FontEditorUtils.LetterSpacingStaticParams","FontPropertyInputs","fontEditorStyles","splitValue","FontEditorUtils.GlobalValues","computedFontArray","FontEditorUtils.generateComputedFontArray","computedMap","splicedArray","systemMap","FontEditorUtils.SystemFonts","FontEditorUtils.GenericFonts","fontList","array","fontFamilyValue","item","isPrimary","firstChar","selectorField","globalValuesMap","primaryFontList","isGlobalValue","fontSelectorObject","UI.ARIAUtils.alert","secondarySelector","newPrimarySelectorValue","primarySelector","hasSecondarySelector","selectorElement","focusIndex","UI.ARIAUtils.setLabel","name","regex","valueString","retValue","retUnits","currentValue","selectInput","UI.UIUtils.createSelect","VisualLogging.dropDown","selectLabel","UI.UIUtils.createLabel","deleteToolbar","UI.Toolbar.Toolbar","deleteButton","UI.Toolbar.ToolbarButton","Platform.KeyboardUtilities.isEnterOrSpaceKey","fontSelector","fontSelectorInput","propertyInfo","staticParams","updateCallback","resizeCallback","hasUnits","propertyField","UI.ARIAUtils.markAsAlert","defaultUnits","propertyLabel","UI.ARIAUtils.bindLabelToControl","invalid","min","unitRangeMap","textBoxInput","unitInput","apply","units","hasFocus","conversionMultiplier","FontEditorUnitConverter.getUnitConversionMultiplier","displaySwitcher","icon","IconButton.Icon.Icon","UI.UIUtils.setTitle","UI.ARIAUtils.markAsButton","VisualLogging.toggle","multiplier","newRangeMap","newMin","newMax","newStep","hasValue","roundingPrecision","FontEditorUtils.getRoundingPrecision","ifDefined","classMap","BaseLinkSwatch","#linkElement","linkSwatchStyles","ThemeSupport.ThemeSupport","textButtonStyles","linkText","isDefined","title","classes","onActivate","startNode","CSSVarSwatch","#link","link","variableName","fromFallback","computedValue","onLinkActivate","VisualLogging.link","LinkSwatch","BezierSwatch","root","UI.UIUtils.createShadowRootWithCoreStyles","bezierSwatchStyles","IconButton.Icon.create","constructor","UI.UIUtils.registerCustomElement","hide","CSSShadowSwatch","#shadow","#icon","#model","cssShadowSwatchStyles"],"mappings":"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"}