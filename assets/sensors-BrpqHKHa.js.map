{"version":3,"file":"sensors-BrpqHKHa.js","sources":["../../panels/sensors/locationsSettingsTab.css.js","../../panels/sensors/LocationsSettingsTab.js","../../panels/sensors/sensors.css.js","../../panels/sensors/SensorsView.js"],"sourcesContent":["// Copyright 2024 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n// IMPORTANT: this file is auto generated. Please do not edit this file.\n/* istanbul ignore file */\nconst styles = new CSSStyleSheet();\nstyles.replaceSync(\n`/*\n * Copyright 2018 The Chromium Authors. All rights reserved.\n * Use of this source code is governed by a BSD-style license that can be\n * found in the LICENSE file.\n */\n\n:host {\n  overflow: hidden;\n}\n\n.header {\n  padding: 0 0 6px;\n  border-bottom: 1px solid var(--sys-color-divider);\n  font-size: 18px;\n  font-weight: normal;\n  flex: none;\n}\n\n.add-locations-button {\n  flex: none;\n  margin: 10px 5px;\n  min-width: 140px;\n  align-self: flex-start;\n}\n\n.locations-list {\n  max-width: 600px;\n  min-width: 340px;\n  flex: auto;\n}\n\n.locations-list-item {\n  padding: 3px 6px;\n  height: 30px;\n  display: flex;\n  align-items: center;\n  position: relative;\n  flex: auto 1 1;\n}\n\n.locations-list-text {\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  flex-basis: 170px;\n  user-select: none;\n  color: var(--sys-color-on-surface);\n  position: relative;\n  overflow: hidden;\n}\n\n.locations-list-title {\n  text-align: start;\n}\n\n.locations-list-title-text {\n  overflow: hidden;\n  flex: auto;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n}\n\n.locations-list-separator {\n  flex: 0 0 1px;\n  background-color: var(--sys-color-divider);\n  height: 30px;\n  margin: 0 4px;\n}\n\n.locations-list-separator-invisible {\n  visibility: hidden;\n  height: 100% !important; /* stylelint-disable-line declaration-no-important */\n}\n\n.locations-edit-row {\n  display: flex;\n  flex-direction: row;\n  margin: 6px 5px;\n}\n\n.locations-edit-row input {\n  width: 100%;\n  text-align: inherit;\n}\n\n.locations-input-container {\n  padding: 1px;\n}\n\n/*# sourceURL=locationsSettingsTab.css */\n`);\n\nexport default styles;\n","// Copyright 2018 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\nimport * as Common from '../../core/common/common.js';\nimport * as i18n from '../../core/i18n/i18n.js';\nimport * as UI from '../../ui/legacy/legacy.js';\nimport * as VisualLogging from '../../ui/visual_logging/visual_logging.js';\nimport locationsSettingsTabStyles from './locationsSettingsTab.css.js';\nconst UIStrings = {\n    /**\n     *@description Title in the Locations Settings Tab, where custom geographic locations that the user\n     *has entered are stored.\n     */\n    customLocations: 'Custom locations',\n    /**\n     *@description Label for the name of a geographic location that the user has entered.\n     */\n    locationName: 'Location name',\n    /**\n     *@description Abbreviation of latitude in Locations Settings Tab of the Device Toolbar\n     */\n    lat: 'Lat',\n    /**\n     *@description Abbreviation of longitude in Locations Settings Tab of the Device Toolbar\n     */\n    long: 'Long',\n    /**\n     *@description Text in Sensors View of the Device Toolbar\n     */\n    timezoneId: 'Timezone ID',\n    /**\n     *@description Label for text input for the locale of a particular location.\n     */\n    locale: 'Locale',\n    /**\n     *@description Label for text input for the latitude of a GPS position.\n     */\n    latitude: 'Latitude',\n    /**\n     *@description Label for text input for the longitude of a GPS position.\n     */\n    longitude: 'Longitude',\n    /**\n     *@description Error message in the Locations settings pane that declares the location name input must not be empty\n     */\n    locationNameCannotBeEmpty: 'Location name cannot be empty',\n    /**\n     *@description Error message in the Locations settings pane that declares the maximum length of the location name\n     *@example {50} PH1\n     */\n    locationNameMustBeLessThanS: 'Location name must be less than {PH1} characters',\n    /**\n     *@description Error message in the Locations settings pane that declares that the value for the latitude input must be a number\n     */\n    latitudeMustBeANumber: 'Latitude must be a number',\n    /**\n     *@description Error message in the Locations settings pane that declares the minimum value for the latitude input\n     *@example {-90} PH1\n     */\n    latitudeMustBeGreaterThanOrEqual: 'Latitude must be greater than or equal to {PH1}',\n    /**\n     *@description Error message in the Locations settings pane that declares the maximum value for the latitude input\n     *@example {90} PH1\n     */\n    latitudeMustBeLessThanOrEqualToS: 'Latitude must be less than or equal to {PH1}',\n    /**\n     *@description Error message in the Locations settings pane that declares that the value for the longitude input must be a number\n     */\n    longitudeMustBeANumber: 'Longitude must be a number',\n    /**\n     *@description Error message in the Locations settings pane that declares the minimum value for the longitude input\n     *@example {-180} PH1\n     */\n    longitudeMustBeGreaterThanOr: 'Longitude must be greater than or equal to {PH1}',\n    /**\n     *@description Error message in the Locations settings pane that declares the maximum value for the longitude input\n     *@example {180} PH1\n     */\n    longitudeMustBeLessThanOrEqualTo: 'Longitude must be less than or equal to {PH1}',\n    /**\n     *@description Error message in the Locations settings pane that declares timezone ID input invalid\n     */\n    timezoneIdMustContainAlphabetic: 'Timezone ID must contain alphabetic characters',\n    /**\n     *@description Error message in the Locations settings pane that declares locale input invalid\n     */\n    localeMustContainAlphabetic: 'Locale must contain alphabetic characters',\n    /**\n     *@description Text of add locations button in Locations Settings Tab of the Device Toolbar\n     */\n    addLocation: 'Add location...',\n};\nconst str_ = i18n.i18n.registerUIStrings('panels/sensors/LocationsSettingsTab.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\nexport class LocationsSettingsTab extends UI.Widget.VBox {\n    list;\n    customSetting;\n    editor;\n    constructor() {\n        super(true);\n        this.element.setAttribute('jslog', `${VisualLogging.pane('emulation-locations')}`);\n        this.contentElement.createChild('div', 'header').textContent = i18nString(UIStrings.customLocations);\n        const addButton = UI.UIUtils.createTextButton(i18nString(UIStrings.addLocation), this.addButtonClicked.bind(this), { className: 'add-locations-button', jslogContext: 'emulation.add-location' });\n        this.contentElement.appendChild(addButton);\n        this.list = new UI.ListWidget.ListWidget(this, undefined, true);\n        this.list.element.classList.add('locations-list');\n        this.list.show(this.contentElement);\n        this.customSetting =\n            Common.Settings.Settings.instance().moduleSetting('emulation.locations');\n        const list = this.customSetting.get().map(location => replaceLocationTitles(location, this.customSetting.defaultValue));\n        function replaceLocationTitles(location, defaultValues) {\n            // This check is done for locations that might had been cached wrongly due to crbug.com/1171670.\n            // Each of the default values would have been stored without a title if the user had added a new location\n            // while the bug was present in the application. This means that getting the setting's default value with the `get`\n            // method would return the default locations without a title. To cope with this, the setting values are\n            // preemptively checked and corrected so that any default value mistakenly stored without a title is replaced\n            // with the corresponding declared value in the pre-registered setting.\n            if (!location.title) {\n                const replacement = defaultValues.find(defaultLocation => defaultLocation.lat === location.lat && defaultLocation.long === location.long &&\n                    defaultLocation.timezoneId === location.timezoneId && defaultLocation.locale === location.locale);\n                if (!replacement) {\n                    console.error('Could not determine a location setting title');\n                }\n                else {\n                    return replacement;\n                }\n            }\n            return location;\n        }\n        this.customSetting.set(list);\n        this.customSetting.addChangeListener(this.locationsUpdated, this);\n        this.setDefaultFocusedElement(addButton);\n    }\n    wasShown() {\n        super.wasShown();\n        this.registerCSSFiles([locationsSettingsTabStyles]);\n        this.list.registerCSSFiles([locationsSettingsTabStyles]);\n        this.locationsUpdated();\n    }\n    locationsUpdated() {\n        this.list.clear();\n        const conditions = this.customSetting.get();\n        for (const condition of conditions) {\n            this.list.appendItem(condition, true);\n        }\n        this.list.appendSeparator();\n    }\n    addButtonClicked() {\n        this.list.addNewItem(this.customSetting.get().length, { title: '', lat: 0, long: 0, timezoneId: '', locale: '' });\n    }\n    renderItem(location, _editable) {\n        const element = document.createElement('div');\n        element.role = 'row';\n        element.classList.add('locations-list-item');\n        const title = element.createChild('div', 'locations-list-text locations-list-title');\n        title.role = 'cell';\n        const titleText = title.createChild('div', 'locations-list-title-text');\n        titleText.textContent = location.title;\n        UI.Tooltip.Tooltip.install(titleText, location.title);\n        element.createChild('div', 'locations-list-separator');\n        const lat = element.createChild('div', 'locations-list-text');\n        lat.textContent = String(location.lat);\n        lat.role = 'cell';\n        element.createChild('div', 'locations-list-separator');\n        const long = element.createChild('div', 'locations-list-text');\n        long.textContent = String(location.long);\n        long.role = 'cell';\n        element.createChild('div', 'locations-list-separator');\n        const timezoneId = element.createChild('div', 'locations-list-text');\n        timezoneId.textContent = location.timezoneId;\n        timezoneId.role = 'cell';\n        element.createChild('div', 'locations-list-separator');\n        const locale = element.createChild('div', 'locations-list-text');\n        locale.textContent = location.locale;\n        locale.role = 'cell';\n        return element;\n    }\n    removeItemRequested(item, index) {\n        const list = this.customSetting.get();\n        list.splice(index, 1);\n        this.customSetting.set(list);\n    }\n    commitEdit(location, editor, isNew) {\n        location.title = editor.control('title').value.trim();\n        const lat = editor.control('lat').value.trim();\n        location.lat = lat ? parseFloat(lat) : 0;\n        const long = editor.control('long').value.trim();\n        location.long = long ? parseFloat(long) : 0;\n        const timezoneId = editor.control('timezone-id').value.trim();\n        location.timezoneId = timezoneId;\n        const locale = editor.control('locale').value.trim();\n        location.locale = locale;\n        const list = this.customSetting.get();\n        if (isNew) {\n            list.push(location);\n        }\n        this.customSetting.set(list);\n    }\n    beginEdit(location) {\n        const editor = this.createEditor();\n        editor.control('title').value = location.title;\n        editor.control('lat').value = String(location.lat);\n        editor.control('long').value = String(location.long);\n        editor.control('timezone-id').value = location.timezoneId;\n        editor.control('locale').value = location.locale;\n        return editor;\n    }\n    createEditor() {\n        if (this.editor) {\n            return this.editor;\n        }\n        const editor = new UI.ListWidget.Editor();\n        this.editor = editor;\n        const content = editor.contentElement();\n        const titles = content.createChild('div', 'locations-edit-row');\n        titles.createChild('div', 'locations-list-text locations-list-title').textContent =\n            i18nString(UIStrings.locationName);\n        titles.createChild('div', 'locations-list-separator locations-list-separator-invisible');\n        titles.createChild('div', 'locations-list-text').textContent = i18nString(UIStrings.lat);\n        titles.createChild('div', 'locations-list-separator locations-list-separator-invisible');\n        titles.createChild('div', 'locations-list-text').textContent = i18nString(UIStrings.long);\n        titles.createChild('div', 'locations-list-separator locations-list-separator-invisible');\n        titles.createChild('div', 'locations-list-text').textContent = i18nString(UIStrings.timezoneId);\n        titles.createChild('div', 'locations-list-separator locations-list-separator-invisible');\n        titles.createChild('div', 'locations-list-text').textContent = i18nString(UIStrings.locale);\n        const fields = content.createChild('div', 'locations-edit-row');\n        fields.createChild('div', 'locations-list-text locations-list-title locations-input-container')\n            .appendChild(editor.createInput('title', 'text', i18nString(UIStrings.locationName), titleValidator));\n        fields.createChild('div', 'locations-list-separator locations-list-separator-invisible');\n        let cell = fields.createChild('div', 'locations-list-text locations-input-container');\n        cell.appendChild(editor.createInput('lat', 'text', i18nString(UIStrings.latitude), latValidator));\n        fields.createChild('div', 'locations-list-separator locations-list-separator-invisible');\n        cell = fields.createChild('div', 'locations-list-text locations-list-text-longitude locations-input-container');\n        cell.appendChild(editor.createInput('long', 'text', i18nString(UIStrings.longitude), longValidator));\n        fields.createChild('div', 'locations-list-separator locations-list-separator-invisible');\n        cell = fields.createChild('div', 'locations-list-text locations-input-container');\n        cell.appendChild(editor.createInput('timezone-id', 'text', i18nString(UIStrings.timezoneId), timezoneIdValidator));\n        fields.createChild('div', 'locations-list-separator locations-list-separator-invisible');\n        cell = fields.createChild('div', 'locations-list-text locations-input-container');\n        cell.appendChild(editor.createInput('locale', 'text', i18nString(UIStrings.locale), localeValidator));\n        return editor;\n        function titleValidator(item, index, input) {\n            const maxLength = 50;\n            const value = input.value.trim();\n            let errorMessage;\n            if (!value.length) {\n                errorMessage = i18nString(UIStrings.locationNameCannotBeEmpty);\n            }\n            else if (value.length > maxLength) {\n                errorMessage = i18nString(UIStrings.locationNameMustBeLessThanS, { PH1: maxLength });\n            }\n            if (errorMessage) {\n                return { valid: false, errorMessage };\n            }\n            return { valid: true, errorMessage: undefined };\n        }\n        function latValidator(item, index, input) {\n            const minLat = -90;\n            const maxLat = 90;\n            const value = input.value.trim();\n            const parsedValue = Number(value);\n            if (!value) {\n                return { valid: true, errorMessage: undefined };\n            }\n            let errorMessage;\n            if (Number.isNaN(parsedValue)) {\n                errorMessage = i18nString(UIStrings.latitudeMustBeANumber);\n            }\n            else if (parseFloat(value) < minLat) {\n                errorMessage = i18nString(UIStrings.latitudeMustBeGreaterThanOrEqual, { PH1: minLat });\n            }\n            else if (parseFloat(value) > maxLat) {\n                errorMessage = i18nString(UIStrings.latitudeMustBeLessThanOrEqualToS, { PH1: maxLat });\n            }\n            if (errorMessage) {\n                return { valid: false, errorMessage };\n            }\n            return { valid: true, errorMessage: undefined };\n        }\n        function longValidator(item, index, input) {\n            const minLong = -180;\n            const maxLong = 180;\n            const value = input.value.trim();\n            const parsedValue = Number(value);\n            if (!value) {\n                return { valid: true, errorMessage: undefined };\n            }\n            let errorMessage;\n            if (Number.isNaN(parsedValue)) {\n                errorMessage = i18nString(UIStrings.longitudeMustBeANumber);\n            }\n            else if (parseFloat(value) < minLong) {\n                errorMessage = i18nString(UIStrings.longitudeMustBeGreaterThanOr, { PH1: minLong });\n            }\n            else if (parseFloat(value) > maxLong) {\n                errorMessage = i18nString(UIStrings.longitudeMustBeLessThanOrEqualTo, { PH1: maxLong });\n            }\n            if (errorMessage) {\n                return { valid: false, errorMessage };\n            }\n            return { valid: true, errorMessage: undefined };\n        }\n        function timezoneIdValidator(item, index, input) {\n            const value = input.value.trim();\n            // Chromium uses ICU's timezone implementation, which is very\n            // liberal in what it accepts. ICU does not simply use an allowlist\n            // but instead tries to make sense of the input, even for\n            // weird-looking timezone IDs. There's not much point in validating\n            // the input other than checking if it contains at least one\n            // alphabetic character. The empty string resets the override,\n            // and is accepted as well.\n            if (value === '' || /[a-zA-Z]/.test(value)) {\n                return { valid: true, errorMessage: undefined };\n            }\n            const errorMessage = i18nString(UIStrings.timezoneIdMustContainAlphabetic);\n            return { valid: false, errorMessage };\n        }\n        function localeValidator(item, index, input) {\n            const value = input.value.trim();\n            // Similarly to timezone IDs, there's not much point in validating\n            // input locales other than checking if it contains at least two\n            // alphabetic characters.\n            // https://unicode.org/reports/tr35/#Unicode_language_identifier\n            // The empty string resets the override, and is accepted as\n            // well.\n            if (value === '' || /[a-zA-Z]{2}/.test(value)) {\n                return { valid: true, errorMessage: undefined };\n            }\n            const errorMessage = i18nString(UIStrings.localeMustContainAlphabetic);\n            return { valid: false, errorMessage };\n        }\n    }\n}\n//# sourceMappingURL=LocationsSettingsTab.js.map","// Copyright 2024 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n// IMPORTANT: this file is auto generated. Please do not edit this file.\n/* istanbul ignore file */\nconst styles = new CSSStyleSheet();\nstyles.replaceSync(\n`/*\n * Copyright (c) 2015 The Chromium Authors. All rights reserved.\n * Use of this source code is governed by a BSD-style license that can be\n * found in the LICENSE file.\n */\n\n.sensors-view {\n  padding: 12px;\n  display: block;\n}\n\n.sensors-view input {\n  width: 100%;\n  max-width: 120px;\n  margin: -5px 10px 0 0;\n  text-align: end;\n}\n\n.sensors-view input[readonly] {\n  background-color: var(--sys-color-neutral-container);\n}\n\n.sensors-view fieldset {\n  border: none;\n  padding: 10px 0;\n  flex: 0 0 auto;\n  margin: 0;\n}\n\n.sensors-view fieldset[disabled] {\n  opacity: 50%;\n}\n\n.orientation-axis-input-container input {\n  max-width: 120px;\n}\n\n.concurrency-details {\n  margin: var(--sys-size-5) var(--sys-size-10);\n  display: flex;\n  align-items: center;\n}\n\n.concurrency-details input {\n  width: 50px;\n  /* Clear out unexpected margin applied to \\\\'.sensors-view input\\\\' */\n  margin: 0;\n}\n\n.concurrency-hidden {\n  visibility: hidden;\n}\n\n.sensors-view input:focus::-webkit-input-placeholder {\n  color: transparent !important; /* stylelint-disable-line declaration-no-important */\n}\n\n.sensors-view .chrome-select {\n  width: 200px;\n}\n\n.sensors-group-title {\n  width: 80px;\n  line-height: 24px;\n}\n\n.sensors-group {\n  display: flex;\n  flex-wrap: wrap;\n  margin-bottom: 10px;\n}\n\n.manage-locations {\n  margin-left: var(--sys-size-4);\n}\n\n.geo-fields {\n  flex: 2 0 200px;\n}\n\n.latlong-group {\n  display: flex;\n  margin-bottom: 10px;\n}\n\n.latlong-title {\n  width: 70px;\n}\n\n.timezone-error,\n.locale-error {\n  margin-left: 10px;\n  color: var(--legacy-input-validation-error);\n}\n\n/* Device Orientation */\n\n.orientation-content {\n  display: flex;\n  flex-wrap: wrap;\n}\n\n.orientation-fields {\n  margin-right: 10px;\n}\n\n.orientation-stage {\n  --override-gradient-color-1: var(--ref-palette-cyan95);\n  --override-gradient-color-2: var(--ref-palette-cyan90);\n\n  perspective: 700px;\n  perspective-origin: 50% 50%;\n  width: 160px;\n  height: 150px;\n  background: linear-gradient(var(--override-gradient-color-1) 0%, var(--override-gradient-color-1) 64%, var(--override-gradient-color-2) 64%, var(--override-gradient-color-1) 100%);\n  transition: 0.2s ease opacity, 0.2s ease filter;\n  overflow: hidden;\n  margin-bottom: 10px;\n}\n\n.theme-with-dark-background .orientation-stage,\n:host-context(.theme-with-dark-background) .orientation-stage {\n  --override-gradient-color-1: var(--ref-palette-cyan10);\n  --override-gradient-color-2: var(--ref-palette-cyan30);\n}\n\n.orientation-stage.disabled {\n  filter: grayscale();\n  opacity: 50%;\n}\n\n.orientation-element,\n.orientation-element::before,\n.orientation-element::after {\n  position: absolute;\n  box-sizing: border-box;\n  transform-style: preserve-3d;\n  background: no-repeat;\n  background-size: cover;\n  backface-visibility: hidden;\n}\n\n.orientation-box {\n  width: 62px;\n  height: 122px;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  margin: auto;\n  transform: rotate3d(1, 0, 0, 90deg);\n}\n\n.orientation-layer {\n  width: 100%;\n  height: 100%;\n  transform-style: preserve-3d;\n}\n\n.orientation-box.is-animating,\n.is-animating .orientation-layer {\n  transition: transform 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;\n}\n\n.orientation-front,\n.orientation-back {\n  width: 62px;\n  height: 122px;\n  border-radius: 8px;\n}\n\n.orientation-front {\n  background-image: var(--image-file-accelerometer-front);\n}\n\n.orientation-back {\n  transform: rotateY(180deg) translateZ(8px);\n  background-image: var(--image-file-accelerometer-back);\n}\n\n.orientation-left,\n.orientation-right {\n  width: 8px;\n  height: 106px;\n  top: 8px;\n  background-position: center center;\n}\n\n.orientation-left {\n  left: -8px;\n  transform-origin: right center;\n  transform: rotateY(-90deg);\n  background-image: var(--image-file-accelerometer-left);\n}\n\n.orientation-right {\n  right: -8px;\n  transform-origin: left center;\n  transform: rotateY(90deg);\n  background-image: var(--image-file-accelerometer-right);\n}\n\n.orientation-left::before,\n.orientation-left::after,\n.orientation-right::before,\n.orientation-right::after {\n  content: \"\";\n  width: 8px;\n  height: 6px;\n}\n\n.orientation-left::before,\n.orientation-left::after {\n  background-image: var(--image-file-accelerometer-left);\n}\n\n.orientation-right::before,\n.orientation-right::after {\n  background-image: var(--image-file-accelerometer-right);\n}\n\n.orientation-left::before,\n.orientation-right::before {\n  top: -6px;\n  transform-origin: center bottom;\n  transform: rotateX(26deg);\n  background-position: center top;\n}\n\n.orientation-left::after,\n.orientation-right::after {\n  bottom: -6px;\n  transform-origin: center top;\n  transform: rotateX(-25deg);\n  background-position: center bottom;\n}\n\n.orientation-top,\n.orientation-bottom {\n  width: 50px;\n  height: 8px;\n  left: 8px;\n  background-position: center center;\n}\n\n.orientation-top {\n  top: -8px;\n  transform-origin: center bottom;\n  transform: rotateX(90deg);\n  background-image: var(--image-file-accelerometer-top);\n}\n\n.orientation-bottom {\n  bottom: -8px;\n  transform-origin: center top;\n  transform: rotateX(-90deg);\n  background-image: var(--image-file-accelerometer-bottom);\n}\n\n.orientation-top::before,\n.orientation-top::after,\n.orientation-bottom::before,\n.orientation-bottom::after {\n  content: \"\";\n  width: 8px;\n  height: 8px;\n}\n\n.orientation-top::before,\n.orientation-top::after {\n  background-image: var(--image-file-accelerometer-top);\n}\n\n.orientation-bottom::before,\n.orientation-bottom::after {\n  background-image: var(--image-file-accelerometer-bottom);\n}\n\n.orientation-top::before,\n.orientation-bottom::before {\n  left: -6px;\n  transform-origin: right center;\n  transform: rotateY(-26deg);\n  background-position: left center;\n}\n\n.orientation-top::after,\n.orientation-bottom::after {\n  right: -6px;\n  transform-origin: left center;\n  transform: rotateY(26deg);\n  background-position: right center;\n}\n\n.orientation-axis-input-container {\n  margin-bottom: 10px;\n}\n\n.orientation-reset-button {\n  min-width: 80px;\n}\n\nfieldset.device-orientation-override-section {\n  margin: 0;\n  display: flex;\n}\n\n.panel-section-separator {\n  height: 1px;\n  margin-bottom: 20px;\n  margin-left: -12px;\n  margin-right: -12px;\n  background: var(--sys-color-divider);\n}\n\nbutton.text-button {\n  margin: 4px 0 0 10px;\n}\n\n@media (forced-colors: active) {\n  .sensors-view fieldset[disabled] {\n    opacity: 100%;\n  }\n}\n\n.chrome-select-label {\n  margin-bottom: 16px;\n}\n\n/*# sourceURL=sensors.css */\n`);\n\nexport default styles;\n","// Copyright (c) 2015 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\nimport * as Common from '../../core/common/common.js';\nimport * as Host from '../../core/host/host.js';\nimport * as i18n from '../../core/i18n/i18n.js';\nimport * as SDK from '../../core/sdk/sdk.js';\nimport * as UI from '../../ui/legacy/legacy.js';\nimport * as VisualLogging from '../../ui/visual_logging/visual_logging.js';\nimport * as MobileThrottling from '../mobile_throttling/mobile_throttling.js';\nimport sensorsStyles from './sensors.css.js';\nconst UIStrings = {\n    /**\n     *@description Title for a group of cities\n     */\n    location: 'Location',\n    /**\n     *@description An option that appears in a drop-down to prevent the GPS location of the user from being overridden.\n     */\n    noOverride: 'No override',\n    /**\n     *@description Title of a section that contains overrides for the user's GPS location.\n     */\n    overrides: 'Overrides',\n    /**\n     *@description Text of button in Sensors View, takes the user to the custom location setting screen\n     *where they can enter/edit custom locations.\n     */\n    manage: 'Manage',\n    /**\n     *@description Aria-label for location manage button in Sensors View\n     */\n    manageTheListOfLocations: 'Manage the list of locations',\n    /**\n     *@description Option in a drop-down input for selecting the GPS location of the user. As an\n     *alternative to selecting a location from the list, the user can select this option and they are\n     *prompted to enter the details for a new custom location.\n     */\n    other: 'Other…',\n    /**\n     *@description Title of a section in a drop-down input that contains error locations, e.g. to select\n     *a location override that says 'the location is not available'. A noun.\n     */\n    error: 'Error',\n    /**\n     *@description A type of override where the geographic location of the user is not available.\n     */\n    locationUnavailable: 'Location unavailable',\n    /**\n     *@description Tooltip text telling the user how to change the value of a latitude/longitude input\n     *text box. several shortcuts are provided for convenience. The placeholder can be different\n     *keyboard keys, depending on the user's settings.\n     *@example {Ctrl} PH1\n     */\n    adjustWithMousewheelOrUpdownKeys: 'Adjust with mousewheel or up/down keys. {PH1}: ±10, Shift: ±1, Alt: ±0.01',\n    /**\n     *@description Label for latitude of a GPS location.\n     */\n    latitude: 'Latitude',\n    /**\n     *@description Label for Longitude of a GPS location.\n     */\n    longitude: 'Longitude',\n    /**\n     *@description Label for the ID of a timezone for a particular location.\n     */\n    timezoneId: 'Timezone ID',\n    /**\n     *@description Label for the locale relevant to a custom location.\n     */\n    locale: 'Locale',\n    /**\n     *@description Label the orientation of a user's device e.g. tilt in 3D-space.\n     */\n    orientation: 'Orientation',\n    /**\n     *@description Option that when chosen, turns off device orientation override.\n     */\n    off: 'Off',\n    /**\n     *@description Option that when chosen, allows the user to enter a custom orientation for the device e.g. tilt in 3D-space.\n     */\n    customOrientation: 'Custom orientation',\n    /**\n     *@description Warning to the user they should enable the device orientation override, in order to\n     *enable this input which allows them to interactively select orientation by dragging a 3D phone\n     *model.\n     */\n    enableOrientationToRotate: 'Enable orientation to rotate',\n    /**\n     *@description Text telling the user how to use an input which allows them to interactively select\n     *orientation by dragging a 3D phone model.\n     */\n    shiftdragHorizontallyToRotate: 'Shift+drag horizontally to rotate around the y-axis',\n    /**\n     *@description Message in the Sensors tool that is alerted (for screen readers) when the device orientation setting is changed\n     *@example {180} PH1\n     *@example {-90} PH2\n     *@example {0} PH3\n     */\n    deviceOrientationSetToAlphaSBeta: 'Device orientation set to alpha: {PH1}, beta: {PH2}, gamma: {PH3}',\n    /**\n     *@description Text of orientation reset button in Sensors View of the Device Toolbar\n     */\n    reset: 'Reset',\n    /**\n     *@description Aria-label for orientation reset button in Sensors View. Command.\n     */\n    resetDeviceOrientation: 'Reset device orientation',\n    /**\n     *@description Description of the Touch select in Sensors tab\n     */\n    forcesTouchInsteadOfClick: 'Forces touch instead of click',\n    /**\n     *@description Description of the Emulate Idle State select in Sensors tab\n     */\n    forcesSelectedIdleStateEmulation: 'Forces selected idle state emulation',\n    /**\n     *@description Description of the Emulate CPU Pressure State select in Sensors tab\n     */\n    forcesSelectedPressureStateEmulation: 'Forces selected pressure state emulation',\n    /**\n     *@description Title for a group of configuration options in a drop-down input.\n     */\n    presets: 'Presets',\n    /**\n     *@description Drop-down input option for the orientation of a device in 3D space.\n     */\n    portrait: 'Portrait',\n    /**\n     *@description Drop-down input option for the orientation of a device in 3D space.\n     */\n    portraitUpsideDown: 'Portrait upside down',\n    /**\n     *@description Drop-down input option for the orientation of a device in 3D space.\n     */\n    landscapeLeft: 'Landscape left',\n    /**\n     *@description Drop-down input option for the orientation of a device in 3D space.\n     */\n    landscapeRight: 'Landscape right',\n    /**\n     *@description Drop-down input option for the orientation of a device in 3D space. Noun indicating\n     *the display of the device is pointing up.\n     */\n    displayUp: 'Display up',\n    /**\n     *@description Drop-down input option for the orientation of a device in 3D space. Noun indicating\n     *the display of the device is pointing down.\n     */\n    displayDown: 'Display down',\n    /**\n     *@description Label for one dimension of device orientation that the user can override.\n     */\n    alpha: '\\u03B1 (alpha)',\n    /**\n     *@description Label for one dimension of device orientation that the user can override.\n     */\n    beta: '\\u03B2 (beta)',\n    /**\n     *@description Label for one dimension of device orientation that the user can override.\n     */\n    gamma: '\\u03B3 (gamma)',\n};\nconst str_ = i18n.i18n.registerUIStrings('panels/sensors/SensorsView.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\nexport class SensorsView extends UI.Widget.VBox {\n    #locationSetting;\n    #location;\n    #locationOverrideEnabled;\n    fieldsetElement;\n    timezoneError;\n    locationSelectElement;\n    latitudeInput;\n    longitudeInput;\n    timezoneInput;\n    localeInput;\n    latitudeSetter;\n    longitudeSetter;\n    timezoneSetter;\n    localeSetter;\n    localeError;\n    customLocationsGroup;\n    deviceOrientationSetting;\n    deviceOrientation;\n    deviceOrientationOverrideEnabled;\n    deviceOrientationFieldset;\n    stageElement;\n    orientationSelectElement;\n    alphaElement;\n    betaElement;\n    gammaElement;\n    alphaSetter;\n    betaSetter;\n    gammaSetter;\n    orientationLayer;\n    boxElement;\n    boxMatrix;\n    mouseDownVector;\n    originalBoxMatrix;\n    constructor() {\n        super(true);\n        this.element.setAttribute('jslog', `${VisualLogging.panel('sensors').track({ resize: true })}`);\n        this.contentElement.classList.add('sensors-view');\n        this.#locationSetting = Common.Settings.Settings.instance().createSetting('emulation.location-override', '');\n        this.#location = SDK.EmulationModel.Location.parseSetting(this.#locationSetting.get());\n        this.#locationOverrideEnabled = false;\n        this.createLocationSection(this.#location);\n        this.createPanelSeparator();\n        this.deviceOrientationSetting =\n            Common.Settings.Settings.instance().createSetting('emulation.device-orientation-override', '');\n        this.deviceOrientation = SDK.EmulationModel.DeviceOrientation.parseSetting(this.deviceOrientationSetting.get());\n        this.deviceOrientationOverrideEnabled = false;\n        this.createDeviceOrientationSection();\n        this.createPanelSeparator();\n        this.appendTouchControl();\n        this.createPanelSeparator();\n        this.appendIdleEmulator();\n        this.createPanelSeparator();\n        this.createHardwareConcurrencySection();\n        this.createPanelSeparator();\n        this.createPressureSection();\n        this.createPanelSeparator();\n    }\n    wasShown() {\n        super.wasShown();\n        this.registerCSSFiles([sensorsStyles]);\n    }\n    createPanelSeparator() {\n        this.contentElement.createChild('div').classList.add('panel-section-separator');\n    }\n    createLocationSection(location) {\n        const geogroup = this.contentElement.createChild('section', 'sensors-group');\n        geogroup.setAttribute('jslog', `${VisualLogging.section('location')}`);\n        const geogroupTitle = UI.UIUtils.createLabel(i18nString(UIStrings.location), 'sensors-group-title');\n        geogroup.appendChild(geogroupTitle);\n        const fields = geogroup.createChild('div', 'geo-fields');\n        let selectedIndex = 0;\n        const noOverrideOption = { title: i18nString(UIStrings.noOverride), location: NonPresetOptions.NoOverride };\n        this.locationSelectElement = fields.createChild('select', 'chrome-select');\n        this.locationSelectElement.setAttribute('jslog', `${VisualLogging.dropDown().track({ change: true })}`);\n        UI.ARIAUtils.bindLabelToControl(geogroupTitle, this.locationSelectElement);\n        // No override\n        this.locationSelectElement.appendChild(UI.UIUtils.createOption(noOverrideOption.title, noOverrideOption.location, 'no-override'));\n        this.customLocationsGroup = this.locationSelectElement.createChild('optgroup');\n        this.customLocationsGroup.label = i18nString(UIStrings.overrides);\n        const customLocations = Common.Settings.Settings.instance().moduleSetting('emulation.locations');\n        const manageButton = UI.UIUtils.createTextButton(i18nString(UIStrings.manage), () => Common.Revealer.reveal(customLocations), { className: 'manage-locations', jslogContext: 'sensors.manage-locations' });\n        UI.ARIAUtils.setLabel(manageButton, i18nString(UIStrings.manageTheListOfLocations));\n        fields.appendChild(manageButton);\n        const fillCustomSettings = () => {\n            if (!this.customLocationsGroup) {\n                return;\n            }\n            this.customLocationsGroup.removeChildren();\n            for (const [i, customLocation] of customLocations.get().entries()) {\n                this.customLocationsGroup.appendChild(UI.UIUtils.createOption(customLocation.title, JSON.stringify(customLocation), 'custom'));\n                if (location.latitude === customLocation.lat && location.longitude === customLocation.long) {\n                    // If the location coming from settings matches the custom location, use its index to select the option\n                    selectedIndex = i + 1;\n                }\n            }\n        };\n        customLocations.addChangeListener(fillCustomSettings);\n        fillCustomSettings();\n        // Other location\n        const customLocationOption = { title: i18nString(UIStrings.other), location: NonPresetOptions.Custom };\n        this.locationSelectElement.appendChild(UI.UIUtils.createOption(customLocationOption.title, customLocationOption.location, 'other'));\n        // Error location.\n        const group = this.locationSelectElement.createChild('optgroup');\n        group.label = i18nString(UIStrings.error);\n        group.appendChild(UI.UIUtils.createOption(i18nString(UIStrings.locationUnavailable), NonPresetOptions.Unavailable, 'unavailable'));\n        this.locationSelectElement.selectedIndex = selectedIndex;\n        this.locationSelectElement.addEventListener('change', this.#locationSelectChanged.bind(this));\n        this.fieldsetElement = fields.createChild('fieldset');\n        this.fieldsetElement.disabled = !this.#locationOverrideEnabled;\n        this.fieldsetElement.id = 'location-override-section';\n        const latitudeGroup = this.fieldsetElement.createChild('div', 'latlong-group');\n        const longitudeGroup = this.fieldsetElement.createChild('div', 'latlong-group');\n        const timezoneGroup = this.fieldsetElement.createChild('div', 'latlong-group');\n        const localeGroup = this.fieldsetElement.createChild('div', 'latlong-group');\n        const cmdOrCtrl = Host.Platform.isMac() ? '\\u2318' : 'Ctrl';\n        const modifierKeyMessage = i18nString(UIStrings.adjustWithMousewheelOrUpdownKeys, { PH1: cmdOrCtrl });\n        this.latitudeInput = UI.UIUtils.createInput('', 'number', 'latitude');\n        latitudeGroup.appendChild(this.latitudeInput);\n        this.latitudeInput.setAttribute('step', 'any');\n        this.latitudeInput.value = '0';\n        this.latitudeSetter = UI.UIUtils.bindInput(this.latitudeInput, this.applyLocationUserInput.bind(this), SDK.EmulationModel.Location.latitudeValidator, true, 0.1);\n        this.latitudeSetter(String(location.latitude));\n        UI.Tooltip.Tooltip.install(this.latitudeInput, modifierKeyMessage);\n        latitudeGroup.appendChild(UI.UIUtils.createLabel(i18nString(UIStrings.latitude), 'latlong-title', this.latitudeInput));\n        this.longitudeInput = UI.UIUtils.createInput('', 'number', 'longitude');\n        longitudeGroup.appendChild(this.longitudeInput);\n        this.longitudeInput.setAttribute('step', 'any');\n        this.longitudeInput.value = '0';\n        this.longitudeSetter = UI.UIUtils.bindInput(this.longitudeInput, this.applyLocationUserInput.bind(this), SDK.EmulationModel.Location.longitudeValidator, true, 0.1);\n        this.longitudeSetter(String(location.longitude));\n        UI.Tooltip.Tooltip.install(this.longitudeInput, modifierKeyMessage);\n        longitudeGroup.appendChild(UI.UIUtils.createLabel(i18nString(UIStrings.longitude), 'latlong-title', this.longitudeInput));\n        this.timezoneInput = UI.UIUtils.createInput('', 'text', 'timezone');\n        timezoneGroup.appendChild(this.timezoneInput);\n        this.timezoneInput.value = 'Europe/Berlin';\n        this.timezoneSetter = UI.UIUtils.bindInput(this.timezoneInput, this.applyLocationUserInput.bind(this), SDK.EmulationModel.Location.timezoneIdValidator, false);\n        this.timezoneSetter(location.timezoneId);\n        timezoneGroup.appendChild(UI.UIUtils.createLabel(i18nString(UIStrings.timezoneId), 'timezone-title', this.timezoneInput));\n        this.timezoneError = timezoneGroup.createChild('div', 'timezone-error');\n        this.localeInput = UI.UIUtils.createInput('', 'text', 'locale');\n        localeGroup.appendChild(this.localeInput);\n        this.localeInput.value = 'en-US';\n        this.localeSetter = UI.UIUtils.bindInput(this.localeInput, this.applyLocationUserInput.bind(this), SDK.EmulationModel.Location.localeValidator, false);\n        this.localeSetter(location.locale);\n        localeGroup.appendChild(UI.UIUtils.createLabel(i18nString(UIStrings.locale), 'locale-title', this.localeInput));\n        this.localeError = localeGroup.createChild('div', 'locale-error');\n    }\n    #locationSelectChanged() {\n        this.fieldsetElement.disabled = false;\n        this.timezoneError.textContent = '';\n        const value = this.locationSelectElement.options[this.locationSelectElement.selectedIndex].value;\n        if (value === NonPresetOptions.NoOverride) {\n            this.#locationOverrideEnabled = false;\n            this.clearFieldsetElementInputs();\n            this.fieldsetElement.disabled = true;\n        }\n        else if (value === NonPresetOptions.Custom) {\n            this.#locationOverrideEnabled = true;\n            const location = SDK.EmulationModel.Location.parseUserInput(this.latitudeInput.value.trim(), this.longitudeInput.value.trim(), this.timezoneInput.value.trim(), this.localeInput.value.trim());\n            if (!location) {\n                return;\n            }\n            this.#location = location;\n        }\n        else if (value === NonPresetOptions.Unavailable) {\n            this.#locationOverrideEnabled = true;\n            this.#location = new SDK.EmulationModel.Location(0, 0, '', '', true);\n        }\n        else {\n            this.#locationOverrideEnabled = true;\n            const coordinates = JSON.parse(value);\n            this.#location = new SDK.EmulationModel.Location(coordinates.lat, coordinates.long, coordinates.timezoneId, coordinates.locale, false);\n            this.latitudeSetter(coordinates.lat);\n            this.longitudeSetter(coordinates.long);\n            this.timezoneSetter(coordinates.timezoneId);\n            this.localeSetter(coordinates.locale);\n        }\n        this.applyLocation();\n        if (value === NonPresetOptions.Custom) {\n            this.latitudeInput.focus();\n        }\n    }\n    applyLocationUserInput() {\n        const location = SDK.EmulationModel.Location.parseUserInput(this.latitudeInput.value.trim(), this.longitudeInput.value.trim(), this.timezoneInput.value.trim(), this.localeInput.value.trim());\n        if (!location) {\n            return;\n        }\n        this.timezoneError.textContent = '';\n        this.setSelectElementLabel(this.locationSelectElement, NonPresetOptions.Custom);\n        this.#location = location;\n        this.applyLocation();\n    }\n    applyLocation() {\n        if (this.#locationOverrideEnabled) {\n            this.#locationSetting.set(this.#location.toSetting());\n        }\n        else {\n            this.#locationSetting.set('');\n        }\n        for (const emulationModel of SDK.TargetManager.TargetManager.instance().models(SDK.EmulationModel.EmulationModel)) {\n            emulationModel.emulateLocation(this.#locationOverrideEnabled ? this.#location : null).catch(err => {\n                switch (err.type) {\n                    case 'emulation-set-timezone': {\n                        this.timezoneError.textContent = err.message;\n                        break;\n                    }\n                    case 'emulation-set-locale': {\n                        this.localeError.textContent = err.message;\n                        break;\n                    }\n                }\n            });\n        }\n    }\n    clearFieldsetElementInputs() {\n        this.latitudeSetter('0');\n        this.longitudeSetter('0');\n        this.timezoneSetter('');\n        this.localeSetter('');\n    }\n    createDeviceOrientationSection() {\n        const orientationGroup = this.contentElement.createChild('section', 'sensors-group');\n        orientationGroup.setAttribute('jslog', `${VisualLogging.section('device-orientation')}`);\n        const orientationTitle = UI.UIUtils.createLabel(i18nString(UIStrings.orientation), 'sensors-group-title');\n        orientationGroup.appendChild(orientationTitle);\n        const orientationContent = orientationGroup.createChild('div', 'orientation-content');\n        const fields = orientationContent.createChild('div', 'orientation-fields');\n        const orientationOffOption = {\n            title: i18nString(UIStrings.off),\n            orientation: NonPresetOptions.NoOverride,\n            jslogContext: 'off',\n        };\n        const customOrientationOption = {\n            title: i18nString(UIStrings.customOrientation),\n            orientation: NonPresetOptions.Custom,\n        };\n        const orientationGroups = [{\n                title: i18nString(UIStrings.presets),\n                value: [\n                    { title: i18nString(UIStrings.portrait), orientation: '[0, 90, 0]', jslogContext: 'portrait' },\n                    {\n                        title: i18nString(UIStrings.portraitUpsideDown),\n                        orientation: '[180, -90, 0]',\n                        jslogContext: 'portrait-upside-down',\n                    },\n                    { title: i18nString(UIStrings.landscapeLeft), orientation: '[90, 0, -90]', jslogContext: 'landscape-left' },\n                    { title: i18nString(UIStrings.landscapeRight), orientation: '[90, -180, -90]', jslogContext: 'landscape-right' },\n                    { title: i18nString(UIStrings.displayUp), orientation: '[0, 0, 0]', jslogContext: 'display-up' },\n                    { title: i18nString(UIStrings.displayDown), orientation: '[0, -180, 0]', jslogContext: 'displayUp-down' },\n                ],\n            }];\n        this.orientationSelectElement = this.contentElement.createChild('select', 'chrome-select');\n        this.orientationSelectElement.setAttribute('jslog', `${VisualLogging.dropDown().track({ change: true })}`);\n        UI.ARIAUtils.bindLabelToControl(orientationTitle, this.orientationSelectElement);\n        this.orientationSelectElement.appendChild(UI.UIUtils.createOption(orientationOffOption.title, orientationOffOption.orientation, orientationOffOption.jslogContext));\n        this.orientationSelectElement.appendChild(UI.UIUtils.createOption(customOrientationOption.title, customOrientationOption.orientation, 'custom'));\n        for (let i = 0; i < orientationGroups.length; ++i) {\n            const groupElement = this.orientationSelectElement.createChild('optgroup');\n            groupElement.label = orientationGroups[i].title;\n            const group = orientationGroups[i].value;\n            for (let j = 0; j < group.length; ++j) {\n                groupElement.appendChild(UI.UIUtils.createOption(group[j].title, group[j].orientation, group[j].jslogContext));\n            }\n        }\n        this.orientationSelectElement.selectedIndex = 0;\n        fields.appendChild(this.orientationSelectElement);\n        this.orientationSelectElement.addEventListener('change', this.orientationSelectChanged.bind(this));\n        this.deviceOrientationFieldset = this.createDeviceOrientationOverrideElement(this.deviceOrientation);\n        this.stageElement = orientationContent.createChild('div', 'orientation-stage');\n        this.stageElement.setAttribute('jslog', `${VisualLogging.preview().track({ drag: true })}`);\n        this.orientationLayer = this.stageElement.createChild('div', 'orientation-layer');\n        this.boxElement = this.orientationLayer.createChild('section', 'orientation-box orientation-element');\n        this.boxElement.createChild('section', 'orientation-front orientation-element');\n        this.boxElement.createChild('section', 'orientation-top orientation-element');\n        this.boxElement.createChild('section', 'orientation-back orientation-element');\n        this.boxElement.createChild('section', 'orientation-left orientation-element');\n        this.boxElement.createChild('section', 'orientation-right orientation-element');\n        this.boxElement.createChild('section', 'orientation-bottom orientation-element');\n        UI.UIUtils.installDragHandle(this.stageElement, this.onBoxDragStart.bind(this), event => {\n            this.onBoxDrag(event);\n        }, null, '-webkit-grabbing', '-webkit-grab');\n        fields.appendChild(this.deviceOrientationFieldset);\n        this.enableOrientationFields(true);\n        this.setBoxOrientation(this.deviceOrientation, false);\n    }\n    createPressureSection() {\n        const container = this.contentElement.createChild('div', 'pressure-section');\n        const control = UI.SettingsUI.createControlForSetting(Common.Settings.Settings.instance().moduleSetting('emulation.cpu-pressure'), i18nString(UIStrings.forcesSelectedPressureStateEmulation));\n        if (control) {\n            container.appendChild(control);\n        }\n    }\n    enableOrientationFields(disable) {\n        if (disable) {\n            this.deviceOrientationFieldset.disabled = true;\n            this.stageElement.classList.add('disabled');\n            UI.Tooltip.Tooltip.install(this.stageElement, i18nString(UIStrings.enableOrientationToRotate));\n        }\n        else {\n            this.deviceOrientationFieldset.disabled = false;\n            this.stageElement.classList.remove('disabled');\n            UI.Tooltip.Tooltip.install(this.stageElement, i18nString(UIStrings.shiftdragHorizontallyToRotate));\n        }\n    }\n    orientationSelectChanged() {\n        const value = this.orientationSelectElement.options[this.orientationSelectElement.selectedIndex].value;\n        this.enableOrientationFields(false);\n        if (value === NonPresetOptions.NoOverride) {\n            this.deviceOrientationOverrideEnabled = false;\n            this.enableOrientationFields(true);\n            this.applyDeviceOrientation();\n        }\n        else if (value === NonPresetOptions.Custom) {\n            this.deviceOrientationOverrideEnabled = true;\n            this.resetDeviceOrientation();\n            this.alphaElement.focus();\n        }\n        else {\n            const parsedValue = JSON.parse(value);\n            this.deviceOrientationOverrideEnabled = true;\n            this.deviceOrientation = new SDK.EmulationModel.DeviceOrientation(parsedValue[0], parsedValue[1], parsedValue[2]);\n            this.setDeviceOrientation(this.deviceOrientation, \"selectPreset\" /* DeviceOrientationModificationSource.SELECT_PRESET */);\n        }\n    }\n    applyDeviceOrientation() {\n        if (this.deviceOrientationOverrideEnabled) {\n            this.deviceOrientationSetting.set(this.deviceOrientation.toSetting());\n        }\n        for (const emulationModel of SDK.TargetManager.TargetManager.instance().models(SDK.EmulationModel.EmulationModel)) {\n            void emulationModel.emulateDeviceOrientation(this.deviceOrientationOverrideEnabled ? this.deviceOrientation : null);\n        }\n    }\n    setSelectElementLabel(selectElement, labelValue) {\n        const optionValues = Array.prototype.map.call(selectElement.options, x => x.value);\n        selectElement.selectedIndex = optionValues.indexOf(labelValue);\n    }\n    applyDeviceOrientationUserInput() {\n        this.setDeviceOrientation(SDK.EmulationModel.DeviceOrientation.parseUserInput(this.alphaElement.value.trim(), this.betaElement.value.trim(), this.gammaElement.value.trim()), \"userInput\" /* DeviceOrientationModificationSource.USER_INPUT */);\n        this.setSelectElementLabel(this.orientationSelectElement, NonPresetOptions.Custom);\n    }\n    resetDeviceOrientation() {\n        this.setDeviceOrientation(new SDK.EmulationModel.DeviceOrientation(0, 90, 0), \"resetButton\" /* DeviceOrientationModificationSource.RESET_BUTTON */);\n        this.setSelectElementLabel(this.orientationSelectElement, '[0, 90, 0]');\n    }\n    setDeviceOrientation(deviceOrientation, modificationSource) {\n        if (!deviceOrientation) {\n            return;\n        }\n        function roundAngle(angle) {\n            return Math.round(angle * 10000) / 10000;\n        }\n        if (modificationSource !== \"userInput\" /* DeviceOrientationModificationSource.USER_INPUT */) {\n            // Even though the angles in |deviceOrientation| will not be rounded\n            // here, their precision will be rounded by CSS when we change\n            // |this.orientationLayer.style| in setBoxOrientation().\n            this.alphaSetter(String(roundAngle(deviceOrientation.alpha)));\n            this.betaSetter(String(roundAngle(deviceOrientation.beta)));\n            this.gammaSetter(String(roundAngle(deviceOrientation.gamma)));\n        }\n        const animate = modificationSource !== \"userDrag\" /* DeviceOrientationModificationSource.USER_DRAG */;\n        this.setBoxOrientation(deviceOrientation, animate);\n        this.deviceOrientation = deviceOrientation;\n        this.applyDeviceOrientation();\n        UI.ARIAUtils.alert(i18nString(UIStrings.deviceOrientationSetToAlphaSBeta, { PH1: deviceOrientation.alpha, PH2: deviceOrientation.beta, PH3: deviceOrientation.gamma }));\n    }\n    createAxisInput(parentElement, input, label, validator) {\n        const div = parentElement.createChild('div', 'orientation-axis-input-container');\n        div.appendChild(input);\n        div.appendChild(UI.UIUtils.createLabel(label, /* className */ '', input));\n        return UI.UIUtils.bindInput(input, this.applyDeviceOrientationUserInput.bind(this), validator, true);\n    }\n    createDeviceOrientationOverrideElement(deviceOrientation) {\n        const fieldsetElement = document.createElement('fieldset');\n        fieldsetElement.classList.add('device-orientation-override-section');\n        const cellElement = fieldsetElement.createChild('td', 'orientation-inputs-cell');\n        this.alphaElement = UI.UIUtils.createInput('', 'number', 'alpha');\n        this.alphaElement.setAttribute('step', 'any');\n        this.alphaSetter = this.createAxisInput(cellElement, this.alphaElement, i18nString(UIStrings.alpha), SDK.EmulationModel.DeviceOrientation.alphaAngleValidator);\n        this.alphaSetter(String(deviceOrientation.alpha));\n        this.betaElement = UI.UIUtils.createInput('', 'number', 'beta');\n        this.betaElement.setAttribute('step', 'any');\n        this.betaSetter = this.createAxisInput(cellElement, this.betaElement, i18nString(UIStrings.beta), SDK.EmulationModel.DeviceOrientation.betaAngleValidator);\n        this.betaSetter(String(deviceOrientation.beta));\n        this.gammaElement = UI.UIUtils.createInput('', 'number', 'gamma');\n        this.gammaElement.setAttribute('step', 'any');\n        this.gammaSetter = this.createAxisInput(cellElement, this.gammaElement, i18nString(UIStrings.gamma), SDK.EmulationModel.DeviceOrientation.gammaAngleValidator);\n        this.gammaSetter(String(deviceOrientation.gamma));\n        const resetButton = UI.UIUtils.createTextButton(i18nString(UIStrings.reset), this.resetDeviceOrientation.bind(this), { className: 'orientation-reset-button', jslogContext: 'sensors.reset-device-orientiation' });\n        UI.ARIAUtils.setLabel(resetButton, i18nString(UIStrings.resetDeviceOrientation));\n        resetButton.setAttribute('type', 'reset');\n        cellElement.appendChild(resetButton);\n        return fieldsetElement;\n    }\n    setBoxOrientation(deviceOrientation, animate) {\n        if (animate) {\n            this.stageElement.classList.add('is-animating');\n        }\n        else {\n            this.stageElement.classList.remove('is-animating');\n        }\n        // It is important to explain the multiple conversions happening here. A\n        // few notes on coordinate spaces first:\n        // 1. The CSS coordinate space is left-handed. X and Y are parallel to the\n        //    screen, and Z is perpendicular to the screen. X is positive to the\n        //    right, Y is positive downwards and Z increases towards the viewer.\n        //    See https://drafts.csswg.org/css-transforms-2/#transform-rendering\n        //    for more information.\n        // 2. The Device Orientation coordinate space is right-handed. X and Y are\n        //    parallel to the screen, and Z is perpenticular to the screen. X is\n        //    positive to the right, Y is positive upwards and Z increases towards\n        //    the viewer. See\n        //    https://w3c.github.io/deviceorientation/#deviceorientation for more\n        //    information.\n        // 3. Additionally, the phone model we display is rotated +90 degrees in\n        //    the X axis in the CSS coordinate space (i.e. when all angles are 0 we\n        //    cannot see its screen in DevTools).\n        //\n        // |this.boxMatrix| is set in the Device Orientation coordinate space\n        // because it represents the phone model we show users and also because the\n        // calculations in UI.Geometry.EulerAngles assume this coordinate space (so\n        // we apply the rotations in the Z-X'-Y'' order).\n        // The CSS transforms, on the other hand, are done in the CSS coordinate\n        // space, so we need to convert 2) to 1) while keeping 3) in mind. We can\n        // cover 3) by swapping the Y and Z axes, and 2) by inverting the X axis.\n        const { alpha, beta, gamma } = deviceOrientation;\n        this.boxMatrix = new DOMMatrixReadOnly().rotate(0, 0, alpha).rotate(beta, 0, 0).rotate(0, gamma, 0);\n        this.orientationLayer.style.transform = `rotateY(${alpha}deg) rotateX(${-beta}deg) rotateZ(${gamma}deg)`;\n    }\n    onBoxDrag(event) {\n        const mouseMoveVector = this.calculateRadiusVector(event.x, event.y);\n        if (!mouseMoveVector) {\n            return true;\n        }\n        if (!this.mouseDownVector) {\n            return true;\n        }\n        event.consume(true);\n        let axis, angle;\n        if (event.shiftKey) {\n            axis = new UI.Geometry.Vector(0, 0, 1);\n            angle = (mouseMoveVector.x - this.mouseDownVector.x) * ShiftDragOrientationSpeed;\n        }\n        else {\n            axis = UI.Geometry.crossProduct(this.mouseDownVector, mouseMoveVector);\n            angle = UI.Geometry.calculateAngle(this.mouseDownVector, mouseMoveVector);\n        }\n        // See the comment in setBoxOrientation() for a longer explanation about\n        // the CSS coordinate space, the Device Orientation coordinate space and\n        // the conversions we make. |axis| and |angle| are in the CSS coordinate\n        // space, while |this.originalBoxMatrix| is rotated and in the Device\n        // Orientation coordinate space, which is why we swap Y and Z and invert X.\n        const currentMatrix = new DOMMatrixReadOnly().rotateAxisAngle(-axis.x, axis.z, axis.y, angle).multiply(this.originalBoxMatrix);\n        const eulerAngles = UI.Geometry.EulerAngles.fromDeviceOrientationRotationMatrix(currentMatrix);\n        const newOrientation = new SDK.EmulationModel.DeviceOrientation(eulerAngles.alpha, eulerAngles.beta, eulerAngles.gamma);\n        this.setDeviceOrientation(newOrientation, \"userDrag\" /* DeviceOrientationModificationSource.USER_DRAG */);\n        this.setSelectElementLabel(this.orientationSelectElement, NonPresetOptions.Custom);\n        return false;\n    }\n    onBoxDragStart(event) {\n        if (!this.deviceOrientationOverrideEnabled) {\n            return false;\n        }\n        this.mouseDownVector = this.calculateRadiusVector(event.x, event.y);\n        this.originalBoxMatrix = this.boxMatrix;\n        if (!this.mouseDownVector) {\n            return false;\n        }\n        event.consume(true);\n        return true;\n    }\n    calculateRadiusVector(x, y) {\n        const rect = this.stageElement.getBoundingClientRect();\n        const radius = Math.max(rect.width, rect.height) / 2;\n        const sphereX = (x - rect.left - rect.width / 2) / radius;\n        const sphereY = (y - rect.top - rect.height / 2) / radius;\n        const sqrSum = sphereX * sphereX + sphereY * sphereY;\n        if (sqrSum > 0.5) {\n            return new UI.Geometry.Vector(sphereX, sphereY, 0.5 / Math.sqrt(sqrSum));\n        }\n        return new UI.Geometry.Vector(sphereX, sphereY, Math.sqrt(1 - sqrSum));\n    }\n    appendTouchControl() {\n        const container = this.contentElement.createChild('div', 'touch-section');\n        const control = UI.SettingsUI.createControlForSetting(Common.Settings.Settings.instance().moduleSetting('emulation.touch'), i18nString(UIStrings.forcesTouchInsteadOfClick));\n        if (control) {\n            container.appendChild(control);\n        }\n    }\n    appendIdleEmulator() {\n        const container = this.contentElement.createChild('div', 'idle-section');\n        const control = UI.SettingsUI.createControlForSetting(Common.Settings.Settings.instance().moduleSetting('emulation.idle-detection'), i18nString(UIStrings.forcesSelectedIdleStateEmulation));\n        if (control) {\n            container.appendChild(control);\n        }\n    }\n    createHardwareConcurrencySection() {\n        const container = this.contentElement.createChild('div', 'concurrency-section');\n        const { checkbox, numericInput, reset, warning } = MobileThrottling.ThrottlingManager.throttlingManager().createHardwareConcurrencySelector();\n        const div = document.createElement('div');\n        div.classList.add('concurrency-details');\n        div.append(numericInput.element, reset.element, warning.element);\n        container.append(checkbox, div);\n    }\n}\nexport const PressureOptions = {\n    NoOverride: 'no-override',\n    Nominal: 'nominal',\n    Fair: 'fair',\n    Serious: 'serious',\n    Critical: 'critical',\n};\nexport const NonPresetOptions = {\n    NoOverride: 'noOverride',\n    Custom: 'custom',\n    Unavailable: 'unavailable',\n};\nexport class ShowActionDelegate {\n    handleAction(_context, _actionId) {\n        void UI.ViewManager.ViewManager.instance().showView('sensors');\n        return true;\n    }\n}\nexport const ShiftDragOrientationSpeed = 16;\n//# sourceMappingURL=SensorsView.js.map"],"names":["styles","UIStrings","str_","i18n.i18n.registerUIStrings","i18nString","i18n.i18n.getLocalizedString","LocationsSettingsTab","UI.Widget.VBox","VisualLogging.pane","addButton","UI.UIUtils.createTextButton","UI.ListWidget.ListWidget","Common.Settings.Settings","list","location","replaceLocationTitles","defaultValues","replacement","defaultLocation","locationsSettingsTabStyles","conditions","condition","_editable","element","title","titleText","UI.Tooltip.Tooltip","lat","long","timezoneId","locale","item","index","editor","isNew","UI.ListWidget.Editor","content","titles","fields","titleValidator","cell","latValidator","longValidator","timezoneIdValidator","localeValidator","input","value","errorMessage","parsedValue","SensorsView","#locationSetting","#location","#locationOverrideEnabled","VisualLogging.panel","SDK.EmulationModel.Location","SDK.EmulationModel.DeviceOrientation","sensorsStyles","geogroup","VisualLogging.section","geogroupTitle","UI.UIUtils.createLabel","selectedIndex","noOverrideOption","NonPresetOptions","VisualLogging.dropDown","UI.ARIAUtils.bindLabelToControl","UI.UIUtils.createOption","customLocations","manageButton","Common.Revealer.reveal","UI.ARIAUtils.setLabel","fillCustomSettings","i","customLocation","customLocationOption","group","#locationSelectChanged","latitudeGroup","longitudeGroup","timezoneGroup","localeGroup","cmdOrCtrl","Host.Platform.isMac","modifierKeyMessage","UI.UIUtils.createInput","UI.UIUtils.bindInput","coordinates","emulationModel","SDK.TargetManager.TargetManager","SDK.EmulationModel.EmulationModel","err","orientationGroup","orientationTitle","orientationContent","orientationOffOption","customOrientationOption","orientationGroups","groupElement","j","VisualLogging.preview","UI.UIUtils.installDragHandle","event","container","control","UI.SettingsUI.createControlForSetting","disable","selectElement","labelValue","optionValues","x","deviceOrientation","modificationSource","roundAngle","angle","animate","UI.ARIAUtils.alert","parentElement","label","validator","div","fieldsetElement","cellElement","resetButton","alpha","beta","gamma","mouseMoveVector","axis","UI.Geometry.Vector","ShiftDragOrientationSpeed","UI.Geometry.crossProduct","UI.Geometry.calculateAngle","currentMatrix","eulerAngles","UI.Geometry.EulerAngles","newOrientation","y","rect","radius","sphereX","sphereY","sqrSum","checkbox","numericInput","reset","warning","MobileThrottling.ThrottlingManager.throttlingManager","PressureOptions","ShowActionDelegate","_context","_actionId","UI.ViewManager.ViewManager"],"mappings":"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"}