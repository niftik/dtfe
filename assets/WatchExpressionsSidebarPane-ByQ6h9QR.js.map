{"version":3,"file":"WatchExpressionsSidebarPane-ByQ6h9QR.js","sources":["../../models/workspace/SearchConfig.js","../../models/source_map_scopes/ScopeChainModel.js","../../panels/sources/dialog.css.js","../../panels/sources/AddSourceMapURLDialog.js","../../panels/sources/breakpointEditDialog.css.js","../../panels/sources/BreakpointEditDialog.js","../../panels/sources/callStackSidebarPane.css.js","../../panels/sources/CallStackSidebarPane.js","../../panels/sources/CategorizedBreakpointL10n.js","../../panels/sources/Plugin.js","../../panels/sources/CoveragePlugin.js","../../panels/sources/CSSPlugin.js","../../panels/sources/debuggerPausedMessage.css.js","../../panels/sources/DebuggerPausedMessage.js","../../panels/sources/navigatorTree.css.js","../../panels/sources/navigatorView.css.js","../../panels/search/searchResultsPane.css.js","../../panels/search/SearchResultsPane.js","../../panels/search/searchView.css.js","../../panels/search/SearchView.js","../../panels/sources/SourcesSearchScope.js","../../panels/sources/SearchSourcesView.js","../../panels/sources/NavigatorView.js","../../panels/sources/sourcesPanel.css.js","../../panels/sources/EditingLocationHistoryManager.js","../../panels/sources/sourcesView.css.js","../../panels/sources/ProfilePlugin.js","../../panels/sources/ResourceOriginPlugin.js","../../panels/sources/SnippetsPlugin.js","../../panels/sources/UISourceCodeFrame.js","../../panels/sources/TabbedEditorContainer.js","../../panels/sources/SourcesView.js","../../panels/sources/threadsSidebarPane.css.js","../../panels/sources/ThreadsSidebarPane.js","../../panels/sources/SourcesPanel.js","../../panels/sources/DebuggerPlugin.js","../../panels/sources/FilePathScoreFunction.js","../../panels/sources/FilteredUISourceCodeListProvider.js","../../panels/sources/GoToLineQuickOpen.js","../../panels/sources/InplaceFormatterEditorAction.js","../../panels/sources/OutlineQuickOpen.js","../../panels/sources/scopeChainSidebarPane.css.js","../../panels/sources/ScopeChainSidebarPane.js","../../panels/sources/sourcesNavigator.css.js","../../panels/sources/SourcesNavigator.js","../../panels/sources/watchExpressionsSidebarPane.css.js","../../panels/sources/WatchExpressionsSidebarPane.js"],"sourcesContent":["// Copyright 2023 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\nimport * as Platform from '../../core/platform/platform.js';\nexport class SearchConfig {\n    #query;\n    #ignoreCase;\n    #isRegex;\n    #queries;\n    #fileRegexQueries;\n    constructor(query, ignoreCase, isRegex) {\n        this.#query = query;\n        this.#ignoreCase = ignoreCase;\n        this.#isRegex = isRegex;\n        const { queries, fileRegexQueries } = SearchConfig.#parse(query, ignoreCase, isRegex);\n        this.#queries = queries;\n        this.#fileRegexQueries = fileRegexQueries;\n    }\n    static fromPlainObject(object) {\n        return new SearchConfig(object.query, object.ignoreCase, object.isRegex);\n    }\n    filePathMatchesFileQuery(filePath) {\n        return this.#fileRegexQueries.every(({ regex, shouldMatch }) => (Boolean(filePath.match(regex)) === shouldMatch));\n    }\n    queries() {\n        return this.#queries;\n    }\n    query() {\n        return this.#query;\n    }\n    ignoreCase() {\n        return this.#ignoreCase;\n    }\n    isRegex() {\n        return this.#isRegex;\n    }\n    toPlainObject() {\n        return { query: this.query(), ignoreCase: this.ignoreCase(), isRegex: this.isRegex() };\n    }\n    static #parse(query, ignoreCase, isRegex) {\n        // Inside double quotes: any symbol except double quote and backslash or any symbol escaped with a backslash.\n        const quotedPattern = /\"([^\\\\\"]|\\\\.)+\"/;\n        // A word is a sequence of any symbols except space and backslash or any symbols escaped with a backslash, that does not start with file:.\n        const unquotedWordPattern = /(\\s*(?!-?f(ile)?:)[^\\\\ ]|\\\\.)+/;\n        const unquotedPattern = unquotedWordPattern.source + '(\\\\s+' + unquotedWordPattern.source + ')*';\n        const pattern = [\n            '(\\\\s*' + FilePatternRegex.source + '\\\\s*)',\n            '(' + quotedPattern.source + ')',\n            '(' + unquotedPattern + ')',\n        ].join('|');\n        const regexp = new RegExp(pattern, 'g');\n        const queryParts = query.match(regexp) || [];\n        const queries = [];\n        const fileRegexQueries = [];\n        for (const queryPart of queryParts) {\n            if (!queryPart) {\n                continue;\n            }\n            const fileQuery = SearchConfig.#parseFileQuery(queryPart);\n            if (fileQuery) {\n                const regex = new RegExp(fileQuery.text, ignoreCase ? 'i' : '');\n                fileRegexQueries.push({ regex, shouldMatch: fileQuery.shouldMatch });\n            }\n            else if (isRegex) {\n                queries.push(queryPart);\n            }\n            else if (queryPart.startsWith('\"') && queryPart.endsWith('\"')) {\n                queries.push(SearchConfig.#parseQuotedQuery(queryPart));\n            }\n            else {\n                queries.push(SearchConfig.#parseUnquotedQuery(queryPart));\n            }\n        }\n        return { queries, fileRegexQueries };\n    }\n    static #parseUnquotedQuery(query) {\n        return query.replace(/\\\\(.)/g, '$1');\n    }\n    static #parseQuotedQuery(query) {\n        return query.substring(1, query.length - 1).replace(/\\\\(.)/g, '$1');\n    }\n    static #parseFileQuery(query) {\n        const match = query.match(FilePatternRegex);\n        if (!match) {\n            return null;\n        }\n        query = match[3];\n        let result = '';\n        for (let i = 0; i < query.length; ++i) {\n            const char = query[i];\n            if (char === '*') {\n                result += '.*';\n            }\n            else if (char === '\\\\') {\n                ++i;\n                const nextChar = query[i];\n                if (nextChar === ' ') {\n                    result += ' ';\n                }\n            }\n            else {\n                if (Platform.StringUtilities.regexSpecialCharacters().indexOf(query.charAt(i)) !== -1) {\n                    result += '\\\\';\n                }\n                result += query.charAt(i);\n            }\n        }\n        const shouldMatch = !Boolean(match[1]);\n        return { text: result, shouldMatch };\n    }\n}\n// After file: prefix: any symbol except space and backslash or any symbol escaped with a backslash.\nconst FilePatternRegex = /(-)?f(ile)?:((?:[^\\\\ ]|\\\\.)+)/;\n//# sourceMappingURL=SearchConfig.js.map","// Copyright 2024 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\nimport * as Common from '../../core/common/common.js';\nimport * as SDK from '../../core/sdk/sdk.js';\nimport { resolveScopeChain } from './NamesResolver.js';\n/**\n * This class is responsible for resolving / updating the scope chain for a specific {@link SDK.DebuggerModel.CallFrame}\n * instance.\n *\n * There are several sources that can influence the scope view:\n *   - Debugger plugins can provide the whole scope info (e.g. from DWARF)\n *   - Source Maps can provide OR augment scope info\n *\n * Source maps can be enabled/disabled dynamically and debugger plugins can attach debug info after the fact.\n *\n * This class tracks all that and sends events with the latest scope chain for a specific call frame.\n */\nexport class ScopeChainModel extends Common.ObjectWrapper.ObjectWrapper {\n    #callFrame;\n    /** We use the `Throttler` here to make sure that `#boundUpdate` is not run multiple times simultanously */\n    #throttler = new Common.Throttler.Throttler(5);\n    #boundUpdate = this.#update.bind(this);\n    constructor(callFrame) {\n        super();\n        this.#callFrame = callFrame;\n        this.#callFrame.debuggerModel.addEventListener(SDK.DebuggerModel.Events.DebugInfoAttached, this.#debugInfoAttached, this);\n        this.#callFrame.debuggerModel.sourceMapManager().addEventListener(SDK.SourceMapManager.Events.SourceMapAttached, this.#sourceMapAttached, this);\n        void this.#throttler.schedule(this.#boundUpdate);\n    }\n    dispose() {\n        this.#callFrame.debuggerModel.removeEventListener(SDK.DebuggerModel.Events.DebugInfoAttached, this.#debugInfoAttached, this);\n        this.#callFrame.debuggerModel.sourceMapManager().removeEventListener(SDK.SourceMapManager.Events.SourceMapAttached, this.#sourceMapAttached, this);\n        this.listeners?.clear();\n    }\n    async #update() {\n        const scopeChain = await resolveScopeChain(this.#callFrame);\n        this.dispatchEventToListeners(\"ScopeChainUpdated\" /* Events.SCOPE_CHAIN_UPDATED */, new ScopeChain(scopeChain));\n    }\n    #debugInfoAttached(event) {\n        if (event.data === this.#callFrame.script) {\n            void this.#throttler.schedule(this.#boundUpdate);\n        }\n    }\n    #sourceMapAttached(event) {\n        if (event.data.client === this.#callFrame.script) {\n            void this.#throttler.schedule(this.#boundUpdate);\n        }\n    }\n}\n/**\n * A scope chain ready to be shown in the UI with debugging info applied.\n */\nexport class ScopeChain {\n    scopeChain;\n    constructor(scopeChain) {\n        this.scopeChain = scopeChain;\n    }\n}\n//# sourceMappingURL=ScopeChainModel.js.map","// Copyright 2024 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n// IMPORTANT: this file is auto generated. Please do not edit this file.\n/* istanbul ignore file */\nconst styles = new CSSStyleSheet();\nstyles.replaceSync(\n`/*\n * Copyright (c) 2015 The Chromium Authors. All rights reserved.\n * Use of this source code is governed by a BSD-style license that can be\n * found in the LICENSE file.\n */\n\n:host {\n  padding: 10px;\n}\n\n.widget {\n  align-items: center;\n}\n\nlabel {\n  white-space: nowrap;\n}\n\ninput[type=\"text\"].add-source-map {\n  box-shadow: 0 0 0 1px var(--box-shadow-outline-color);\n  font-size: inherit;\n  margin: 0 8px 0 5px;\n}\n\n/*# sourceURL=dialog.css */\n`);\n\nexport default styles;\n","// Copyright 2014 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\nimport * as i18n from '../../core/i18n/i18n.js';\nimport * as UI from '../../ui/legacy/legacy.js';\nimport dialogStyles from './dialog.css.js';\nconst UIStrings = {\n    /**\n     *@description Text in Add Source Map URLDialog of the Sources panel\n     */\n    sourceMapUrl: 'Source map URL: ',\n    /**\n     *@description Text in Add Debug Info URL Dialog of the Sources panel\n     */\n    debugInfoUrl: 'DWARF symbols URL: ',\n    /**\n     *@description Text to add something\n     */\n    add: 'Add',\n};\nconst str_ = i18n.i18n.registerUIStrings('panels/sources/AddSourceMapURLDialog.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\nexport class AddDebugInfoURLDialog extends UI.Widget.HBox {\n    input;\n    dialog;\n    callback;\n    constructor(label, jslogContext, callback) {\n        super(/* useShadowDom */ true);\n        this.contentElement.createChild('label').textContent = label;\n        this.input = UI.UIUtils.createInput('add-source-map', 'text', 'url');\n        this.input.addEventListener('keydown', this.onKeyDown.bind(this), false);\n        this.contentElement.appendChild(this.input);\n        const addButton = UI.UIUtils.createTextButton(i18nString(UIStrings.add), this.apply.bind(this), {\n            jslogContext: 'add',\n        });\n        this.contentElement.appendChild(addButton);\n        this.dialog = new UI.Dialog.Dialog(jslogContext);\n        this.dialog.setSizeBehavior(\"MeasureContent\" /* UI.GlassPane.SizeBehavior.MEASURE_CONTENT */);\n        this.dialog.setDefaultFocusedElement(this.input);\n        this.callback = callback;\n    }\n    static createAddSourceMapURLDialog(callback) {\n        return new AddDebugInfoURLDialog(i18nString(UIStrings.sourceMapUrl), 'add-source-map-url', callback);\n    }\n    static createAddDWARFSymbolsURLDialog(callback) {\n        return new AddDebugInfoURLDialog(i18nString(UIStrings.debugInfoUrl), 'add-debug-info-url', callback);\n    }\n    show() {\n        super.show(this.dialog.contentElement);\n        // UI.Dialog extends GlassPane and overrides the `show` method with a wider\n        // accepted type. However, TypeScript uses the supertype declaration to\n        // determine the full type, which requires a `!Document`.\n        // @ts-ignore\n        this.dialog.show();\n    }\n    done(value) {\n        this.dialog.hide();\n        this.callback(value);\n    }\n    apply() {\n        this.done(this.input.value);\n    }\n    onKeyDown(event) {\n        if (event.key === 'Enter') {\n            event.consume(true);\n            this.apply();\n        }\n    }\n    wasShown() {\n        super.wasShown();\n        this.registerCSSFiles([dialogStyles]);\n    }\n}\n//# sourceMappingURL=AddSourceMapURLDialog.js.map","// Copyright 2024 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n// IMPORTANT: this file is auto generated. Please do not edit this file.\n/* istanbul ignore file */\nconst styles = new CSSStyleSheet();\nstyles.replaceSync(\n`/*\n * Copyright 2018 The Chromium Authors. All rights reserved.\n * Use of this source code is governed by a BSD-style license that can be\n * found in the LICENSE file.\n */\n\n:host {\n  z-index: 30;\n  padding: 4px;\n  background-color: var(--sys-color-surface3);\n  border-radius: 7px;\n  border: 2px solid var(--sys-color-divider);\n  width: 90%;\n  pointer-events: auto;\n}\n\n:host(.sources-edit-breakpoint-dialog) {\n  border-radius: 0;\n  z-index: 30;\n  background-color: var(--sys-color-surface3);\n  width: 555px;\n  pointer-events: auto;\n  margin-left: -1px;\n  padding: 0 10px 10px 5px;\n  border: 1px solid var(--sys-color-divider);\n}\n\n:host-context(.sources-edit-breakpoint-dialog) .condition-editor {\n  background-color: var(--sys-color-cdt-base-container);\n  margin: 0 6px 20px 3px;\n}\n\n:host-context(.sources-edit-breakpoint-dialog) .source-frame-breakpoint-toolbar {\n  font-family: sans-serif;\n  font-size: 12px;\n}\n\n:host-context(.sources-edit-breakpoint-dialog) .link,\n.devtools-link {\n  font-family: sans-serif;\n  font-size: 12px;\n  margin: 0 3px;\n}\n\n:host-context(.sources-edit-breakpoint-dialog) devtools-icon.link-icon {\n  vertical-align: sub;\n  margin-right: 0.5ch;\n  color: var(--icon-link);\n  width: 16px;\n  height: 16px;\n}\n\n:host-context(.sources-edit-breakpoint-dialog) .link-wrapper {\n  display: inline-flex;\n}\n\n:host-context(.sources-edit-breakpoint-dialog) .dialog-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n:host-context(.sources-edit-breakpoint-dialog) .dialog-header > devtools-icon:hover {\n  color: var(--icon-default-hover);\n}\n\n/*# sourceURL=breakpointEditDialog.css */\n`);\n\nexport default styles;\n","// Copyright 2018 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\nimport * as Common from '../../core/common/common.js';\nimport * as i18n from '../../core/i18n/i18n.js';\nimport * as SDK from '../../core/sdk/sdk.js';\nimport * as CodeMirror from '../../third_party/codemirror.next/codemirror.next.js';\nimport * as IconButton from '../../ui/components/icon_button/icon_button.js';\nimport * as TextEditor from '../../ui/components/text_editor/text_editor.js';\nimport * as UI from '../../ui/legacy/legacy.js';\nimport * as VisualLogging from '../../ui/visual_logging/visual_logging.js';\nimport breakpointEditDialogStyles from './breakpointEditDialog.css.js';\nconst { Direction } = TextEditor.TextEditorHistory;\nconst UIStrings = {\n    /**\n     *@description Screen reader label for a select box that chooses the breakpoint type in the Sources panel when editing a breakpoint\n     */\n    breakpointType: 'Breakpoint type',\n    /**\n     *@description Text in Breakpoint Edit Dialog of the Sources panel\n     */\n    breakpoint: 'Breakpoint',\n    /**\n     *@description Tooltip text in Breakpoint Edit Dialog of the Sources panel that shows up when hovering over the close icon\n     */\n    closeDialog: 'Close edit dialog and save changes',\n    /**\n     *@description Text in Breakpoint Edit Dialog of the Sources panel\n     */\n    conditionalBreakpoint: 'Conditional breakpoint',\n    /**\n     *@description Text in Breakpoint Edit Dialog of the Sources panel\n     */\n    logpoint: 'Logpoint',\n    /**\n     *@description Text in Breakpoint Edit Dialog of the Sources panel\n     */\n    expressionToCheckBeforePausingEg: 'Expression to check before pausing, e.g. x > 5',\n    /**\n     *@description Type selector element title in Breakpoint Edit Dialog of the Sources panel\n     */\n    pauseOnlyWhenTheConditionIsTrue: 'Pause only when the condition is true',\n    /**\n     * @description Link text in the Breakpoint Edit Dialog of the Sources panel\n     */\n    learnMoreOnBreakpointTypes: 'Learn more: Breakpoint Types',\n    /**\n     *@description Text in Breakpoint Edit Dialog of the Sources panel. It is used as\n     *the placeholder for a text input field before the user enters text. Provides the user with\n     *an example on how to use Logpoints. 'Log' is a verb and 'message' is a noun.\n     *See: https://developer.chrome.com/blog/new-in-devtools-73/#logpoints\n     */\n    logMessageEgXIsX: 'Log message, e.g. `\\'x is\\', x`',\n    /**\n     *@description Type selector element title in Breakpoint Edit Dialog of the Sources panel\n     */\n    logAMessageToConsoleDoNotBreak: 'Log a message to Console, do not break',\n};\nconst str_ = i18n.i18n.registerUIStrings('panels/sources/BreakpointEditDialog.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\nexport class BreakpointEditDialog extends UI.Widget.Widget {\n    onFinish;\n    finished;\n    editor;\n    typeSelector;\n    placeholderCompartment;\n    #history;\n    #editorHistory;\n    constructor(editorLineNumber, oldCondition, isLogpoint, onFinish) {\n        super(true);\n        const editorConfig = [\n            CodeMirror.javascript.javascriptLanguage,\n            TextEditor.Config.baseConfiguration(oldCondition || ''),\n            TextEditor.Config.closeBrackets.instance(),\n            TextEditor.Config.autocompletion.instance(),\n            CodeMirror.EditorView.lineWrapping,\n            TextEditor.Config.showCompletionHint,\n            TextEditor.Config.conservativeCompletion,\n            CodeMirror.javascript.javascriptLanguage.data.of({\n                autocomplete: (context) => this.#editorHistory.historyCompletions(context),\n            }),\n            CodeMirror.autocompletion(),\n            TextEditor.JavaScript.argumentHints(),\n        ];\n        this.onFinish = onFinish;\n        this.finished = false;\n        this.element.tabIndex = -1;\n        this.element.classList.add('sources-edit-breakpoint-dialog');\n        this.element.setAttribute('jslog', `${VisualLogging.dialog('edit-breakpoint')}`);\n        const header = this.contentElement.createChild('div', 'dialog-header');\n        const toolbar = new UI.Toolbar.Toolbar('source-frame-breakpoint-toolbar', header);\n        toolbar.appendText(`Line ${editorLineNumber + 1}:`);\n        this.typeSelector = new UI.Toolbar.ToolbarComboBox(this.onTypeChanged.bind(this), i18nString(UIStrings.breakpointType), undefined, 'type');\n        this.typeSelector.createOption(i18nString(UIStrings.breakpoint), \"REGULAR_BREAKPOINT\" /* SDK.DebuggerModel.BreakpointType.REGULAR_BREAKPOINT */);\n        const conditionalOption = this.typeSelector.createOption(i18nString(UIStrings.conditionalBreakpoint), \"CONDITIONAL_BREAKPOINT\" /* SDK.DebuggerModel.BreakpointType.CONDITIONAL_BREAKPOINT */);\n        const logpointOption = this.typeSelector.createOption(i18nString(UIStrings.logpoint), \"LOGPOINT\" /* SDK.DebuggerModel.BreakpointType.LOGPOINT */);\n        this.typeSelector.select(isLogpoint ? logpointOption : conditionalOption);\n        toolbar.appendToolbarItem(this.typeSelector);\n        const content = oldCondition || '';\n        const finishIfComplete = (view) => {\n            void TextEditor.JavaScript.isExpressionComplete(view.state.doc.toString()).then(complete => {\n                if (complete) {\n                    this.finishEditing(true, this.editor.state.doc.toString());\n                }\n                else {\n                    CodeMirror.insertNewlineAndIndent(view);\n                }\n            });\n            return true;\n        };\n        const keymap = [\n            { key: 'ArrowUp', run: () => this.#editorHistory.moveHistory(-1 /* Direction.BACKWARD */) },\n            { key: 'ArrowDown', run: () => this.#editorHistory.moveHistory(1 /* Direction.FORWARD */) },\n            { mac: 'Ctrl-p', run: () => this.#editorHistory.moveHistory(-1 /* Direction.BACKWARD */, true) },\n            { mac: 'Ctrl-n', run: () => this.#editorHistory.moveHistory(1 /* Direction.FORWARD */, true) },\n            {\n                key: 'Mod-Enter',\n                run: finishIfComplete,\n            },\n            {\n                key: 'Enter',\n                run: finishIfComplete,\n            },\n            {\n                key: 'Shift-Enter',\n                run: CodeMirror.insertNewlineAndIndent,\n            },\n            {\n                key: 'Escape',\n                run: () => {\n                    this.finishEditing(false, '');\n                    return true;\n                },\n            },\n        ];\n        this.placeholderCompartment = new CodeMirror.Compartment();\n        const editorWrapper = this.contentElement.appendChild(document.createElement('div'));\n        editorWrapper.classList.add('condition-editor');\n        editorWrapper.setAttribute('jslog', `${VisualLogging.textField().track({ change: true })}`);\n        this.editor = new TextEditor.TextEditor.TextEditor(CodeMirror.EditorState.create({\n            doc: content,\n            selection: { anchor: 0, head: content.length },\n            extensions: [\n                this.placeholderCompartment.of(this.getPlaceholder()),\n                CodeMirror.keymap.of(keymap),\n                editorConfig,\n            ],\n        }));\n        editorWrapper.appendChild(this.editor);\n        const closeIcon = new IconButton.Icon.Icon();\n        closeIcon.name = 'cross';\n        closeIcon.title = i18nString(UIStrings.closeDialog);\n        closeIcon.setAttribute('jslog', `${VisualLogging.close().track({ click: true })}`);\n        closeIcon.onclick = () => this.finishEditing(true, this.editor.state.doc.toString());\n        header.appendChild(closeIcon);\n        this.#history = new TextEditor.AutocompleteHistory.AutocompleteHistory(Common.Settings.Settings.instance().createLocalSetting('breakpoint-condition-history', []));\n        this.#editorHistory = new TextEditor.TextEditorHistory.TextEditorHistory(this.editor, this.#history);\n        const linkWrapper = this.contentElement.appendChild(document.createElement('div'));\n        linkWrapper.classList.add('link-wrapper');\n        const link = UI.Fragment.html `<x-link class=\"link devtools-link\" tabindex=\"0\" href=\"https://goo.gle/devtools-loc\"\n                                          jslog=\"${VisualLogging.link('learn-more')}\">${i18nString(UIStrings.learnMoreOnBreakpointTypes)}</x-link>`;\n        const linkIcon = new IconButton.Icon.Icon();\n        linkIcon.name = 'open-externally';\n        linkIcon.classList.add('link-icon');\n        link.prepend(linkIcon);\n        linkWrapper.appendChild(link);\n        this.updateTooltip();\n    }\n    saveAndFinish() {\n        this.finishEditing(true, this.editor.state.doc.toString());\n    }\n    focusEditor() {\n        this.editor.editor.focus();\n    }\n    onTypeChanged() {\n        if (this.breakpointType === \"REGULAR_BREAKPOINT\" /* SDK.DebuggerModel.BreakpointType.REGULAR_BREAKPOINT */) {\n            this.finishEditing(true, '');\n            return;\n        }\n        this.focusEditor();\n        this.editor.dispatch({ effects: this.placeholderCompartment.reconfigure(this.getPlaceholder()) });\n        this.updateTooltip();\n    }\n    get breakpointType() {\n        const option = this.typeSelector.selectedOption();\n        return option ? option.value : null;\n    }\n    getPlaceholder() {\n        const type = this.breakpointType;\n        if (type === \"CONDITIONAL_BREAKPOINT\" /* SDK.DebuggerModel.BreakpointType.CONDITIONAL_BREAKPOINT */) {\n            return CodeMirror.placeholder(i18nString(UIStrings.expressionToCheckBeforePausingEg));\n        }\n        if (type === \"LOGPOINT\" /* SDK.DebuggerModel.BreakpointType.LOGPOINT */) {\n            return CodeMirror.placeholder(i18nString(UIStrings.logMessageEgXIsX));\n        }\n        return [];\n    }\n    updateTooltip() {\n        const type = this.breakpointType;\n        if (type === \"CONDITIONAL_BREAKPOINT\" /* SDK.DebuggerModel.BreakpointType.CONDITIONAL_BREAKPOINT */) {\n            UI.Tooltip.Tooltip.install((this.typeSelector.element), i18nString(UIStrings.pauseOnlyWhenTheConditionIsTrue));\n        }\n        else if (type === \"LOGPOINT\" /* SDK.DebuggerModel.BreakpointType.LOGPOINT */) {\n            UI.Tooltip.Tooltip.install((this.typeSelector.element), i18nString(UIStrings.logAMessageToConsoleDoNotBreak));\n        }\n    }\n    finishEditing(committed, condition) {\n        if (this.finished) {\n            return;\n        }\n        this.finished = true;\n        this.editor.remove();\n        this.#history.pushHistoryItem(condition);\n        const isLogpoint = this.breakpointType === \"LOGPOINT\" /* SDK.DebuggerModel.BreakpointType.LOGPOINT */;\n        this.onFinish({ committed, condition: condition, isLogpoint });\n    }\n    wasShown() {\n        super.wasShown();\n        this.registerCSSFiles([breakpointEditDialogStyles]);\n    }\n    get editorForTest() {\n        return this.editor;\n    }\n}\n//# sourceMappingURL=BreakpointEditDialog.js.map","// Copyright 2024 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n// IMPORTANT: this file is auto generated. Please do not edit this file.\n/* istanbul ignore file */\nconst styles = new CSSStyleSheet();\nstyles.replaceSync(\n`/*\n * Copyright 2016 The Chromium Authors. All rights reserved.\n * Use of this source code is governed by a BSD-style license that can be\n * found in the LICENSE file.\n */\n\n.call-frame-warnings-message {\n  text-align: center;\n  font-style: italic;\n  padding: 4px;\n  color: var(--sys-color-on-surface-yellow);\n  background-color: var(--sys-color-surface-yellow);\n}\n\n.ignore-listed-message {\n  padding: 1px;\n}\n\n.ignore-listed-message-label {\n  color: var(--sys-color-token-subtle);\n  align-items: center;\n  display: flex;\n}\n\n.show-more-message > .link {\n  margin-left: 5px;\n}\n\n.show-more-message {\n  text-align: center;\n  font-style: italic;\n  padding: 4px;\n  border-top: 1px solid var(--sys-color-divider);\n}\n\n.call-frame-item {\n  padding: 3px 8px 3px 20px;\n  position: relative;\n  min-height: 18px;\n  line-height: 15px;\n  display: flex;\n  flex-wrap: wrap;\n}\n\n.call-frame-title-text {\n  text-overflow: ellipsis;\n  overflow: hidden;\n}\n\n.async-header + .call-frame-item {\n  border-top: 0;\n}\n\n.call-frame-item:not(.async-header) {\n  border-top: 1px solid var(--sys-color-divider);\n}\n\n.call-frame-item-title,\n.call-frame-location {\n  display: flex;\n  white-space: nowrap;\n}\n\n.async-header .call-frame-item-title {\n  font-weight: bold;\n  color: var(--sys-color-on-surface);\n  background-color: var(--sys-color-cdt-base-container);\n  margin-left: -5px;\n  padding: 0 5px;\n  z-index: 1;\n}\n\n.call-frame-item:focus-visible,\n.call-frame-item.async-header:focus-visible .call-frame-item-title {\n  background-color: var(--sys-color-tonal-container);\n}\n\n.ignore-listed-checkbox:focus-visible {\n  outline-width: unset;\n}\n\n.call-frame-item:not(.async-header):hover {\n  background-color: var(--sys-color-state-hover-on-subtle);\n}\n\n.call-frame-location {\n  color: var(--sys-color-token-subtle);\n  margin-left: auto;\n  padding: 0 10px;\n}\n\n.async-header::before {\n  content: \" \";\n  width: 100%;\n  border-top: 1px solid var(--sys-color-divider);\n  margin-top: 8px;\n  position: absolute;\n  left: 0;\n}\n\n.ignore-listed-call-frame {\n  opacity: 60%;\n  font-style: italic;\n}\n\n.selected-call-frame-icon {\n  display: none;\n  position: absolute;\n  top: 3px;\n  left: 4px;\n}\n\n.call-frame-item.selected .selected-call-frame-icon {\n  display: block;\n}\n\n.call-frame-warning-icon {\n  display: block;\n  position: absolute;\n  top: 3px;\n  right: 4px;\n}\n\n@media (forced-colors: active) {\n  .call-frame-item:focus-visible,\n  .call-frame-item:not(.async-header):hover {\n    forced-color-adjust: none;\n    background-color: Highlight;\n  }\n\n  .call-frame-item:focus-visible *,\n  .call-frame-item:not(.async-header):hover * {\n    color: HighlightText;\n  }\n}\n\n/*# sourceURL=callStackSidebarPane.css */\n`);\n\nexport default styles;\n","// Copyright 2021 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n/*\n * Copyright (C) 2008 Apple Inc. All Rights Reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions\n * are met:\n * 1. Redistributions of source code must retain the above copyright\n *    notice, this list of conditions and the following disclaimer.\n * 2. Redistributions in binary form must reproduce the above copyright\n *    notice, this list of conditions and the following disclaimer in the\n *    documentation and/or other materials provided with the distribution.\n *\n * THIS SOFTWARE IS PROVIDED BY APPLE INC. ``AS IS'' AND ANY\n * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR\n * PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL APPLE INC. OR\n * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,\n * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,\n * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR\n * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY\n * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\nimport * as Common from '../../core/common/common.js';\nimport * as Host from '../../core/host/host.js';\nimport * as i18n from '../../core/i18n/i18n.js';\nimport * as Platform from '../../core/platform/platform.js';\nimport * as SDK from '../../core/sdk/sdk.js';\nimport * as Bindings from '../../models/bindings/bindings.js';\nimport * as Persistence from '../../models/persistence/persistence.js';\nimport * as SourceMapScopes from '../../models/source_map_scopes/source_map_scopes.js';\nimport * as IconButton from '../../ui/components/icon_button/icon_button.js';\nimport * as UI from '../../ui/legacy/legacy.js';\nimport * as VisualLogging from '../../ui/visual_logging/visual_logging.js';\nimport callStackSidebarPaneStyles from './callStackSidebarPane.css.js';\nconst UIStrings = {\n    /**\n     *@description Text in Call Stack Sidebar Pane of the Sources panel\n     */\n    callStack: 'Call Stack',\n    /**\n     *@description Not paused message element text content in Call Stack Sidebar Pane of the Sources panel\n     */\n    notPaused: 'Not paused',\n    /**\n     *@description Text exposed to screen reader when navigating through a ignore-listed call frame in the sources panel\n     */\n    onIgnoreList: 'on ignore list',\n    /**\n     *@description Show all link text content in Call Stack Sidebar Pane of the Sources panel\n     */\n    showIgnorelistedFrames: 'Show ignore-listed frames',\n    /**\n     *@description Text to show more content\n     */\n    showMore: 'Show more',\n    /**\n     *@description A context menu item in the Call Stack Sidebar Pane of the Sources panel\n     */\n    copyStackTrace: 'Copy stack trace',\n    /**\n     *@description Text in Call Stack Sidebar Pane of the Sources panel when some call frames have warnings\n     */\n    callFrameWarnings: 'Some call frames have warnings',\n    /**\n     *@description Error message that is displayed in UI when a file needed for debugging information for a call frame is missing\n     *@example {src/myapp.debug.wasm.dwp} PH1\n     */\n    debugFileNotFound: 'Failed to load debug file \"{PH1}\".',\n    /**\n     * @description A contex menu item in the Call Stack Sidebar Pane. \"Restart\" is a verb and\n     * \"frame\" is a noun. \"Frame\" refers to an individual item in the call stack, i.e. a call frame.\n     * The user opens this context menu by selecting a specific call frame in the call stack sidebar pane.\n     */\n    restartFrame: 'Restart frame',\n};\nconst str_ = i18n.i18n.registerUIStrings('panels/sources/CallStackSidebarPane.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\nlet callstackSidebarPaneInstance;\nexport class CallStackSidebarPane extends UI.View.SimpleView {\n    ignoreListMessageElement;\n    ignoreListCheckboxElement;\n    notPausedMessageElement;\n    callFrameWarningsElement;\n    items;\n    list;\n    showMoreMessageElement;\n    showIgnoreListed;\n    locationPool;\n    updateThrottler;\n    maxAsyncStackChainDepth;\n    updateItemThrottler;\n    scheduledForUpdateItems;\n    muteActivateItem;\n    lastDebuggerModel = null;\n    constructor() {\n        super(i18nString(UIStrings.callStack), true, 'sources.callstack');\n        this.contentElement.setAttribute('jslog', `${VisualLogging.section('sources.callstack')}`);\n        ({ element: this.ignoreListMessageElement, checkbox: this.ignoreListCheckboxElement } =\n            this.createIgnoreListMessageElementAndCheckbox());\n        this.contentElement.appendChild(this.ignoreListMessageElement);\n        this.notPausedMessageElement = this.contentElement.createChild('div', 'gray-info-message');\n        this.notPausedMessageElement.textContent = i18nString(UIStrings.notPaused);\n        this.notPausedMessageElement.tabIndex = -1;\n        this.callFrameWarningsElement = this.contentElement.createChild('div', 'call-frame-warnings-message');\n        const icon = new IconButton.Icon.Icon();\n        icon.data = {\n            iconName: 'warning-filled',\n            color: 'var(--icon-warning)',\n            width: '14px',\n            height: '14px',\n        };\n        icon.classList.add('call-frame-warning-icon');\n        this.callFrameWarningsElement.appendChild(icon);\n        this.callFrameWarningsElement.appendChild(document.createTextNode(i18nString(UIStrings.callFrameWarnings)));\n        this.callFrameWarningsElement.tabIndex = -1;\n        this.items = new UI.ListModel.ListModel();\n        this.list = new UI.ListControl.ListControl(this.items, this, UI.ListControl.ListMode.NonViewport);\n        this.contentElement.appendChild(this.list.element);\n        this.list.element.addEventListener('contextmenu', this.onContextMenu.bind(this), false);\n        self.onInvokeElement(this.list.element, event => {\n            const item = this.list.itemForNode(event.target);\n            if (item) {\n                this.activateItem(item);\n                event.consume(true);\n            }\n        });\n        this.showMoreMessageElement = this.createShowMoreMessageElement();\n        this.showMoreMessageElement.classList.add('hidden');\n        this.contentElement.appendChild(this.showMoreMessageElement);\n        this.showIgnoreListed = false;\n        this.locationPool = new Bindings.LiveLocation.LiveLocationPool();\n        this.updateThrottler = new Common.Throttler.Throttler(100);\n        this.maxAsyncStackChainDepth = defaultMaxAsyncStackChainDepth;\n        this.update();\n        this.updateItemThrottler = new Common.Throttler.Throttler(100);\n        this.scheduledForUpdateItems = new Set();\n        SDK.TargetManager.TargetManager.instance().addModelListener(SDK.DebuggerModel.DebuggerModel, SDK.DebuggerModel.Events.DebugInfoAttached, this.debugInfoAttached, this);\n    }\n    static instance(opts = { forceNew: null }) {\n        const { forceNew } = opts;\n        if (!callstackSidebarPaneInstance || forceNew) {\n            callstackSidebarPaneInstance = new CallStackSidebarPane();\n        }\n        return callstackSidebarPaneInstance;\n    }\n    flavorChanged(_object) {\n        this.showIgnoreListed = false;\n        this.ignoreListCheckboxElement.checked = false;\n        this.maxAsyncStackChainDepth = defaultMaxAsyncStackChainDepth;\n        this.update();\n    }\n    debugInfoAttached() {\n        this.update();\n    }\n    setSourceMapSubscription(debuggerModel) {\n        // Shortcut for the case when we are listening to the same model.\n        if (this.lastDebuggerModel === debuggerModel) {\n            return;\n        }\n        if (this.lastDebuggerModel) {\n            this.lastDebuggerModel.sourceMapManager().removeEventListener(SDK.SourceMapManager.Events.SourceMapAttached, this.debugInfoAttached, this);\n        }\n        this.lastDebuggerModel = debuggerModel;\n        if (this.lastDebuggerModel) {\n            this.lastDebuggerModel.sourceMapManager().addEventListener(SDK.SourceMapManager.Events.SourceMapAttached, this.debugInfoAttached, this);\n        }\n    }\n    update() {\n        void this.updateThrottler.schedule(() => this.doUpdate());\n    }\n    async doUpdate() {\n        this.locationPool.disposeAll();\n        this.callFrameWarningsElement.classList.add('hidden');\n        const details = UI.Context.Context.instance().flavor(SDK.DebuggerModel.DebuggerPausedDetails);\n        this.setSourceMapSubscription(details?.debuggerModel ?? null);\n        if (!details) {\n            this.notPausedMessageElement.classList.remove('hidden');\n            this.ignoreListMessageElement.classList.add('hidden');\n            this.showMoreMessageElement.classList.add('hidden');\n            this.items.replaceAll([]);\n            UI.Context.Context.instance().setFlavor(SDK.DebuggerModel.CallFrame, null);\n            return;\n        }\n        this.notPausedMessageElement.classList.add('hidden');\n        const itemPromises = [];\n        const uniqueWarnings = new Set();\n        for (const frame of details.callFrames) {\n            const itemPromise = Item.createForDebuggerCallFrame(frame, this.locationPool, this.refreshItem.bind(this));\n            itemPromises.push(itemPromise);\n            if (frame.missingDebugInfoDetails) {\n                uniqueWarnings.add(frame.missingDebugInfoDetails.details);\n            }\n        }\n        const items = await Promise.all(itemPromises);\n        if (uniqueWarnings.size) {\n            this.callFrameWarningsElement.classList.remove('hidden');\n            UI.Tooltip.Tooltip.install(this.callFrameWarningsElement, Array.from(uniqueWarnings).join('\\n'));\n        }\n        let debuggerModel = details.debuggerModel;\n        let asyncStackTraceId = details.asyncStackTraceId;\n        let asyncStackTrace = details.asyncStackTrace;\n        let previousStackTrace = details.callFrames;\n        for (let { maxAsyncStackChainDepth } = this; maxAsyncStackChainDepth > 0; --maxAsyncStackChainDepth) {\n            if (!asyncStackTrace) {\n                if (!asyncStackTraceId) {\n                    break;\n                }\n                if (asyncStackTraceId.debuggerId) {\n                    const dm = await SDK.DebuggerModel.DebuggerModel.modelForDebuggerId(asyncStackTraceId.debuggerId);\n                    if (!dm) {\n                        break;\n                    }\n                    debuggerModel = dm;\n                }\n                asyncStackTrace = await debuggerModel.fetchAsyncStackTrace(asyncStackTraceId);\n                if (!asyncStackTrace) {\n                    break;\n                }\n            }\n            const title = UI.UIUtils.asyncStackTraceLabel(asyncStackTrace.description, previousStackTrace);\n            items.push(...await Item.createItemsForAsyncStack(title, debuggerModel, asyncStackTrace.callFrames, this.locationPool, this.refreshItem.bind(this)));\n            previousStackTrace = asyncStackTrace.callFrames;\n            asyncStackTraceId = asyncStackTrace.parentId;\n            asyncStackTrace = asyncStackTrace.parent;\n        }\n        this.showMoreMessageElement.classList.toggle('hidden', !asyncStackTrace);\n        this.items.replaceAll(items);\n        for (const item of this.items) {\n            this.refreshItem(item);\n        }\n        if (this.maxAsyncStackChainDepth === defaultMaxAsyncStackChainDepth) {\n            this.list.selectNextItem(true /* canWrap */, false /* center */);\n            const selectedItem = this.list.selectedItem();\n            if (selectedItem) {\n                this.activateItem(selectedItem);\n            }\n        }\n        this.updatedForTest();\n    }\n    updatedForTest() {\n    }\n    refreshItem(item) {\n        this.scheduledForUpdateItems.add(item);\n        void this.updateItemThrottler.schedule(async () => {\n            const items = Array.from(this.scheduledForUpdateItems);\n            this.scheduledForUpdateItems.clear();\n            this.muteActivateItem = true;\n            if (!this.showIgnoreListed && this.items.every(item => item.isIgnoreListed)) {\n                this.showIgnoreListed = true;\n                for (let i = 0; i < this.items.length; ++i) {\n                    this.list.refreshItemByIndex(i);\n                }\n                this.ignoreListMessageElement.classList.toggle('hidden', true);\n            }\n            else {\n                this.showIgnoreListed = this.ignoreListCheckboxElement.checked;\n                const itemsSet = new Set(items);\n                let hasIgnoreListed = false;\n                for (let i = 0; i < this.items.length; ++i) {\n                    const item = this.items.at(i);\n                    if (itemsSet.has(item)) {\n                        this.list.refreshItemByIndex(i);\n                    }\n                    hasIgnoreListed = hasIgnoreListed || item.isIgnoreListed;\n                }\n                this.ignoreListMessageElement.classList.toggle('hidden', !hasIgnoreListed);\n            }\n            delete this.muteActivateItem;\n        });\n    }\n    createElementForItem(item) {\n        const element = document.createElement('div');\n        element.classList.add('call-frame-item');\n        const title = element.createChild('div', 'call-frame-item-title');\n        const titleElement = title.createChild('div', 'call-frame-title-text');\n        titleElement.textContent = item.title;\n        if (item.isAsyncHeader) {\n            element.classList.add('async-header');\n        }\n        else {\n            UI.Tooltip.Tooltip.install(titleElement, item.title);\n            const linkElement = element.createChild('div', 'call-frame-location');\n            linkElement.textContent = Platform.StringUtilities.trimMiddle(item.linkText, 30);\n            UI.Tooltip.Tooltip.install(linkElement, item.linkText);\n            element.classList.toggle('ignore-listed-call-frame', item.isIgnoreListed);\n            if (item.isIgnoreListed) {\n                UI.ARIAUtils.setDescription(element, i18nString(UIStrings.onIgnoreList));\n            }\n            if (!item.frame) {\n                UI.ARIAUtils.setDisabled(element, true);\n            }\n        }\n        const callframe = item.frame;\n        const isSelected = callframe === UI.Context.Context.instance().flavor(SDK.DebuggerModel.CallFrame);\n        element.classList.toggle('selected', isSelected);\n        UI.ARIAUtils.setSelected(element, isSelected);\n        element.classList.toggle('hidden', !this.showIgnoreListed && item.isIgnoreListed);\n        const icon = new IconButton.Icon.Icon();\n        icon.data = {\n            iconName: 'large-arrow-right-filled',\n            color: 'var(--icon-arrow-main-thread)',\n            width: '14px',\n            height: '14px',\n        };\n        icon.classList.add('selected-call-frame-icon');\n        element.appendChild(icon);\n        element.tabIndex = item === this.list.selectedItem() ? 0 : -1;\n        if (callframe && callframe.missingDebugInfoDetails) {\n            const icon = new IconButton.Icon.Icon();\n            icon.data = {\n                iconName: 'warning-filled',\n                color: 'var(--icon-warning)',\n                width: '14px',\n                height: '14px',\n            };\n            icon.classList.add('call-frame-warning-icon');\n            const messages = callframe.missingDebugInfoDetails.resources.map(r => i18nString(UIStrings.debugFileNotFound, { PH1: Common.ParsedURL.ParsedURL.extractName(r.resourceUrl) }));\n            UI.Tooltip.Tooltip.install(icon, [callframe.missingDebugInfoDetails.details, ...messages].join('\\n'));\n            element.appendChild(icon);\n        }\n        return element;\n    }\n    heightForItem(_item) {\n        console.assert(false); // Should not be called.\n        return 0;\n    }\n    isItemSelectable(_item) {\n        return true;\n    }\n    selectedItemChanged(_from, _to, fromElement, toElement) {\n        if (fromElement) {\n            fromElement.tabIndex = -1;\n        }\n        if (toElement) {\n            this.setDefaultFocusedElement(toElement);\n            toElement.tabIndex = 0;\n            if (this.hasFocus()) {\n                toElement.focus();\n            }\n        }\n    }\n    updateSelectedItemARIA(_fromElement, _toElement) {\n        return true;\n    }\n    createIgnoreListMessageElementAndCheckbox() {\n        const element = document.createElement('div');\n        element.classList.add('ignore-listed-message');\n        const label = element.createChild('label');\n        label.classList.add('ignore-listed-message-label');\n        const checkbox = label.createChild('input');\n        checkbox.tabIndex = 0;\n        checkbox.type = 'checkbox';\n        checkbox.classList.add('ignore-listed-checkbox');\n        label.append(i18nString(UIStrings.showIgnorelistedFrames));\n        const showAll = () => {\n            this.showIgnoreListed = checkbox.checked;\n            for (const item of this.items) {\n                this.refreshItem(item);\n            }\n        };\n        checkbox.addEventListener('click', showAll);\n        return { element, checkbox };\n    }\n    createShowMoreMessageElement() {\n        const element = document.createElement('div');\n        element.classList.add('show-more-message');\n        element.createChild('span');\n        const showAllLink = element.createChild('span', 'link');\n        showAllLink.textContent = i18nString(UIStrings.showMore);\n        showAllLink.addEventListener('click', () => {\n            this.maxAsyncStackChainDepth += defaultMaxAsyncStackChainDepth;\n            this.update();\n        }, false);\n        return element;\n    }\n    onContextMenu(event) {\n        const item = this.list.itemForNode(event.target);\n        if (!item) {\n            return;\n        }\n        const contextMenu = new UI.ContextMenu.ContextMenu(event);\n        const debuggerCallFrame = item.frame;\n        if (debuggerCallFrame) {\n            contextMenu.defaultSection().appendItem(i18nString(UIStrings.restartFrame), () => {\n                Host.userMetrics.actionTaken(Host.UserMetrics.Action.StackFrameRestarted);\n                void debuggerCallFrame.restart();\n            }, { disabled: !debuggerCallFrame.canBeRestarted, jslogContext: 'restart-frame' });\n        }\n        contextMenu.defaultSection().appendItem(i18nString(UIStrings.copyStackTrace), this.copyStackTrace.bind(this), { jslogContext: 'copy-stack-trace' });\n        if (item.uiLocation) {\n            this.appendIgnoreListURLContextMenuItems(contextMenu, item.uiLocation.uiSourceCode);\n        }\n        void contextMenu.show();\n    }\n    onClick(event) {\n        const item = this.list.itemForNode(event.target);\n        if (item) {\n            this.activateItem(item);\n        }\n    }\n    activateItem(item) {\n        const uiLocation = item.uiLocation;\n        if (this.muteActivateItem || !uiLocation) {\n            return;\n        }\n        this.list.selectItem(item);\n        const debuggerCallFrame = item.frame;\n        const oldItem = this.activeCallFrameItem();\n        if (debuggerCallFrame && oldItem !== item) {\n            debuggerCallFrame.debuggerModel.setSelectedCallFrame(debuggerCallFrame);\n            UI.Context.Context.instance().setFlavor(SDK.DebuggerModel.CallFrame, debuggerCallFrame);\n            if (oldItem) {\n                this.refreshItem(oldItem);\n            }\n            this.refreshItem(item);\n        }\n        else {\n            void Common.Revealer.reveal(uiLocation);\n        }\n    }\n    activeCallFrameItem() {\n        const callFrame = UI.Context.Context.instance().flavor(SDK.DebuggerModel.CallFrame);\n        if (callFrame) {\n            return this.items.find(callFrameItem => callFrameItem.frame === callFrame) || null;\n        }\n        return null;\n    }\n    appendIgnoreListURLContextMenuItems(contextMenu, uiSourceCode) {\n        const binding = Persistence.Persistence.PersistenceImpl.instance().binding(uiSourceCode);\n        if (binding) {\n            uiSourceCode = binding.network;\n        }\n        const menuSection = contextMenu.section('ignoreList');\n        if (menuSection.items.length > 0) {\n            // Already added menu items.\n            return;\n        }\n        for (const { text, callback, jslogContext } of Bindings.IgnoreListManager.IgnoreListManager.instance()\n            .getIgnoreListURLContextMenuItems(uiSourceCode)) {\n            menuSection.appendItem(text, callback, { jslogContext });\n        }\n    }\n    selectNextCallFrameOnStack() {\n        const oldItem = this.activeCallFrameItem();\n        const startIndex = oldItem ? this.items.indexOf(oldItem) + 1 : 0;\n        for (let i = startIndex; i < this.items.length; i++) {\n            const newItem = this.items.at(i);\n            if (newItem.frame) {\n                this.activateItem(newItem);\n                break;\n            }\n        }\n    }\n    selectPreviousCallFrameOnStack() {\n        const oldItem = this.activeCallFrameItem();\n        const startIndex = oldItem ? this.items.indexOf(oldItem) - 1 : this.items.length - 1;\n        for (let i = startIndex; i >= 0; i--) {\n            const newItem = this.items.at(i);\n            if (newItem.frame) {\n                this.activateItem(newItem);\n                break;\n            }\n        }\n    }\n    copyStackTrace() {\n        const text = [];\n        for (const item of this.items) {\n            let itemText = item.title;\n            if (item.uiLocation) {\n                itemText += ' (' + item.uiLocation.linkText(true /* skipTrim */) + ')';\n            }\n            text.push(itemText);\n        }\n        Host.InspectorFrontendHost.InspectorFrontendHostInstance.copyText(text.join('\\n'));\n    }\n    wasShown() {\n        super.wasShown();\n        this.registerCSSFiles([callStackSidebarPaneStyles]);\n    }\n}\nexport const elementSymbol = Symbol('element');\nexport const defaultMaxAsyncStackChainDepth = 32;\nexport class ActionDelegate {\n    handleAction(context, actionId) {\n        switch (actionId) {\n            case 'debugger.next-call-frame':\n                CallStackSidebarPane.instance().selectNextCallFrameOnStack();\n                return true;\n            case 'debugger.previous-call-frame':\n                CallStackSidebarPane.instance().selectPreviousCallFrameOnStack();\n                return true;\n        }\n        return false;\n    }\n}\nexport class Item {\n    isIgnoreListed;\n    title;\n    linkText;\n    uiLocation;\n    isAsyncHeader;\n    updateDelegate;\n    /** Only set for synchronous frames */\n    frame;\n    static async createForDebuggerCallFrame(frame, locationPool, updateDelegate) {\n        const name = frame.functionName;\n        const item = new Item(UI.UIUtils.beautifyFunctionName(name), updateDelegate, frame);\n        await Bindings.DebuggerWorkspaceBinding.DebuggerWorkspaceBinding.instance().createCallFrameLiveLocation(frame.location(), item.update.bind(item), locationPool);\n        void SourceMapScopes.NamesResolver.resolveDebuggerFrameFunctionName(frame).then(functionName => {\n            if (functionName && functionName !== name) {\n                // Just update the item's title and call the update delegate directly,\n                // instead of going through the update method below, since location\n                // didn't change.\n                item.title = functionName;\n                item.updateDelegate(item);\n            }\n        });\n        return item;\n    }\n    static async createItemsForAsyncStack(title, debuggerModel, frames, locationPool, updateDelegate) {\n        const headerItemToItemsSet = new WeakMap();\n        const asyncHeaderItem = new Item(title, updateDelegate);\n        headerItemToItemsSet.set(asyncHeaderItem, new Set());\n        asyncHeaderItem.isAsyncHeader = true;\n        const asyncFrameItems = [];\n        const liveLocationPromises = [];\n        for (const frame of frames) {\n            const item = new Item(UI.UIUtils.beautifyFunctionName(frame.functionName), update);\n            const rawLocation = debuggerModel.createRawLocationByScriptId(frame.scriptId, frame.lineNumber, frame.columnNumber);\n            liveLocationPromises.push(Bindings.DebuggerWorkspaceBinding.DebuggerWorkspaceBinding.instance().createCallFrameLiveLocation(rawLocation, item.update.bind(item), locationPool));\n            asyncFrameItems.push(item);\n        }\n        await Promise.all(liveLocationPromises);\n        updateDelegate(asyncHeaderItem);\n        return [asyncHeaderItem, ...asyncFrameItems];\n        function update(item) {\n            updateDelegate(item);\n            let shouldUpdate = false;\n            const items = headerItemToItemsSet.get(asyncHeaderItem);\n            if (items) {\n                if (item.isIgnoreListed) {\n                    items.delete(item);\n                    shouldUpdate = items.size === 0;\n                }\n                else {\n                    shouldUpdate = items.size === 0;\n                    items.add(item);\n                }\n                asyncHeaderItem.isIgnoreListed = items.size === 0;\n            }\n            if (shouldUpdate) {\n                updateDelegate(asyncHeaderItem);\n            }\n        }\n    }\n    constructor(title, updateDelegate, frame) {\n        this.isIgnoreListed = false;\n        this.title = title;\n        this.linkText = '';\n        this.uiLocation = null;\n        this.isAsyncHeader = false;\n        this.updateDelegate = updateDelegate;\n        this.frame = frame;\n    }\n    async update(liveLocation) {\n        const uiLocation = await liveLocation.uiLocation();\n        this.isIgnoreListed = await liveLocation.isIgnoreListed();\n        this.linkText = uiLocation ? uiLocation.linkText() : '';\n        this.uiLocation = uiLocation;\n        this.updateDelegate(this);\n    }\n}\n//# sourceMappingURL=CallStackSidebarPane.js.map","// Copyright 2023 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n/**\n * @fileoverview The sources panel (via DebuggerPausedMessage) and the\n * \"browser_debugger\" module both require localized CategorizedBreakpoint\n * names. We put them \"upstream\" into \"panels/sources\" so they are\n * available to both.\n */\nimport * as i18n from '../../core/i18n/i18n.js';\nimport * as SDK from '../../core/sdk/sdk.js';\nconst UIStrings = {\n    /**\n     * @description Name of a breakpoint type.\n     * https://github.com/WICG/turtledove/blob/main/FLEDGE.md#32-on-device-bidding\n     */\n    beforeBidderWorkletBiddingStart: 'Bidder Bidding Phase Start',\n    /**\n     * @description Name of a breakpoint type.\n     * https://github.com/WICG/turtledove/blob/main/FLEDGE.md#52-buyer-reporting-on-render-and-ad-events\n     */\n    beforeBidderWorkletReportingStart: 'Bidder Reporting Phase Start',\n    /**\n     * @description Name of a breakpoint type.\n     * https://github.com/WICG/turtledove/blob/main/FLEDGE.md#23-scoring-bids\n     */\n    beforeSellerWorkletScoringStart: 'Seller Scoring Phase Start',\n    /**\n     * @description Name of a breakpoint type.\n     * https://github.com/WICG/turtledove/blob/main/FLEDGE.md#51-seller-reporting-on-render\n     */\n    beforeSellerWorkletReportingStart: 'Seller Reporting Phase Start',\n    /**\n     *@description Text in the Event Listener Breakpoints Panel of the JavaScript Debugger in the Sources Panel\n     *@example {setTimeout} PH1\n     */\n    setTimeoutOrIntervalFired: '{PH1} fired',\n    /**\n     *@description Text in the Event Listener Breakpoints Panel of the JavaScript Debugger in the Sources Panel\n     */\n    scriptFirstStatement: 'Script First Statement',\n    /**\n     *@description Text in the Event Listener Breakpoints Panel of the JavaScript Debugger in the Sources Panel\n     */\n    scriptBlockedByContentSecurity: 'Script Blocked by Content Security Policy',\n    /**\n     *@description Text for the request animation frame event\n     */\n    requestAnimationFrame: 'Request Animation Frame',\n    /**\n     *@description Text to cancel the animation frame\n     */\n    cancelAnimationFrame: 'Cancel Animation Frame',\n    /**\n     *@description Text for the event that an animation frame is fired\n     */\n    animationFrameFired: 'Animation Frame Fired',\n    /**\n     *@description Text in the Event Listener Breakpoints Panel of the JavaScript Debugger in the Sources Panel\n     */\n    webglErrorFired: 'WebGL Error Fired',\n    /**\n     *@description Text in the Event Listener Breakpoints Panel of the JavaScript Debugger in the Sources Panel\n     */\n    webglWarningFired: 'WebGL Warning Fired',\n    /**\n     *@description Text in the Event Listener Breakpoints Panel of the JavaScript Debugger in the Sources Panel\n     */\n    setInnerhtml: 'Set `innerHTML`',\n    /**\n     *@description Name of a breakpoint type in the Sources Panel.\n     */\n    createCanvasContext: 'Create canvas context',\n    /**\n     *@description Name of a breakpoint type in the Sources Panel.\n     */\n    createAudiocontext: 'Create `AudioContext`',\n    /**\n     *@description Name of a breakpoint type in the Sources Panel. Close is a verb.\n     */\n    closeAudiocontext: 'Close `AudioContext`',\n    /**\n     *@description Name of a breakpoint type in the Sources Panel. Resume is a verb.\n     */\n    resumeAudiocontext: 'Resume `AudioContext`',\n    /**\n     *@description Name of a breakpoint type in the Sources Panel.\n     */\n    suspendAudiocontext: 'Suspend `AudioContext`',\n    /**\n     * @description Noun. Title for a checkbox that turns on breakpoints on Trusted Type sink violations.\n     * \"Trusted Types\" is a Web API. A \"Sink\" (Noun, singular) is a special function, akin to a data sink, that expects\n     * to receive data in a specific format. Should the data be in the wrong format, or something else\n     * go wrong, its called a \"sink violation\".\n     */\n    sinkViolations: 'Sink Violations',\n    /**\n     *@description Title for a checkbox that turns on breakpoints on Trusted Type policy violations\n     */\n    policyViolations: 'Policy Violations',\n};\nconst str_ = i18n.i18n.registerUIStrings('panels/sources/CategorizedBreakpointL10n.ts', UIStrings);\nconst i18nLazyString = i18n.i18n.getLazilyComputedLocalizedString.bind(undefined, str_);\nexport function getLocalizedBreakpointName(name) {\n    const l10nLazyName = LOCALIZED_NAMES.get(name) ?? i18n.i18n.lockedLazyString(name);\n    return l10nLazyName();\n}\nconst LOCALIZED_INSTRUMENTATION_NAMES = {\n    [\"beforeBidderWorkletBiddingStart\" /* SDK.EventBreakpointsModel.InstrumentationNames.BEFORE_BIDDER_WORKLET_BIDDING_START */]: i18nLazyString(UIStrings.beforeBidderWorkletBiddingStart),\n    [\"beforeBidderWorkletReportingStart\" /* SDK.EventBreakpointsModel.InstrumentationNames.BEFORE_BIDDER_WORKLET_REPORTING_START */]: i18nLazyString(UIStrings.beforeBidderWorkletReportingStart),\n    [\"beforeSellerWorkletScoringStart\" /* SDK.EventBreakpointsModel.InstrumentationNames.BEFORE_SELLER_WORKLET_SCORING_START */]: i18nLazyString(UIStrings.beforeSellerWorkletScoringStart),\n    [\"beforeSellerWorkletReportingStart\" /* SDK.EventBreakpointsModel.InstrumentationNames.BEFORE_SELLER_WORKLET_REPORTING_START */]: i18nLazyString(UIStrings.beforeSellerWorkletReportingStart),\n    [\"setTimeout\" /* SDK.EventBreakpointsModel.InstrumentationNames.SET_TIMEOUT */]: i18n.i18n.lockedLazyString('setTimeout'),\n    [\"clearTimeout\" /* SDK.EventBreakpointsModel.InstrumentationNames.CLEAR_TIMEOUT */]: i18n.i18n.lockedLazyString('clearTimeout'),\n    [\"setTimeout.callback\" /* SDK.EventBreakpointsModel.InstrumentationNames.SET_TIMEOUT_CALLBACK */]: i18nLazyString(UIStrings.setTimeoutOrIntervalFired, { PH1: 'setTimeout' }),\n    [\"setInterval\" /* SDK.EventBreakpointsModel.InstrumentationNames.SET_INTERVAL */]: i18n.i18n.lockedLazyString('setInterval'),\n    [\"clearInterval\" /* SDK.EventBreakpointsModel.InstrumentationNames.CLEAR_INTERVAL */]: i18n.i18n.lockedLazyString('clearInterval'),\n    [\"setInterval.callback\" /* SDK.EventBreakpointsModel.InstrumentationNames.SET_INTERVAL_CALLBACK */]: i18nLazyString(UIStrings.setTimeoutOrIntervalFired, { PH1: 'setInterval' }),\n    [\"scriptFirstStatement\" /* SDK.EventBreakpointsModel.InstrumentationNames.SCRIPT_FIRST_STATEMENT */]: i18nLazyString(UIStrings.scriptFirstStatement),\n    [\"scriptBlockedByCSP\" /* SDK.EventBreakpointsModel.InstrumentationNames.SCRIPT_BLOCKED_BY_CSP */]: i18nLazyString(UIStrings.scriptBlockedByContentSecurity),\n    [\"sharedStorageWorkletScriptFirstStatement\" /* SDK.EventBreakpointsModel.InstrumentationNames.SHARED_STORAGE_WORKLET_SCRIPT_FIRST_STATEMENT */]: i18nLazyString(UIStrings.scriptFirstStatement),\n    [\"requestAnimationFrame\" /* SDK.EventBreakpointsModel.InstrumentationNames.REQUEST_ANIMATION_FRAME */]: i18nLazyString(UIStrings.requestAnimationFrame),\n    [\"cancelAnimationFrame\" /* SDK.EventBreakpointsModel.InstrumentationNames.CANCEL_ANIMATION_FRAME */]: i18nLazyString(UIStrings.cancelAnimationFrame),\n    [\"requestAnimationFrame.callback\" /* SDK.EventBreakpointsModel.InstrumentationNames.REQUEST_ANIMATION_FRAME_CALLBACK */]: i18nLazyString(UIStrings.animationFrameFired),\n    [\"webglErrorFired\" /* SDK.EventBreakpointsModel.InstrumentationNames.WEBGL_ERROR_FIRED */]: i18nLazyString(UIStrings.webglErrorFired),\n    [\"webglWarningFired\" /* SDK.EventBreakpointsModel.InstrumentationNames.WEBGL_WARNING_FIRED */]: i18nLazyString(UIStrings.webglWarningFired),\n    [\"Element.setInnerHTML\" /* SDK.EventBreakpointsModel.InstrumentationNames.ELEMENT_SET_INNER_HTML */]: i18nLazyString(UIStrings.setInnerhtml),\n    [\"canvasContextCreated\" /* SDK.EventBreakpointsModel.InstrumentationNames.CANVAS_CONTEXT_CREATED */]: i18nLazyString(UIStrings.createCanvasContext),\n    [\"Geolocation.getCurrentPosition\" /* SDK.EventBreakpointsModel.InstrumentationNames.GEOLOCATION_GET_CURRENT_POSITION */]: i18n.i18n.lockedLazyString('getCurrentPosition'),\n    [\"Geolocation.watchPosition\" /* SDK.EventBreakpointsModel.InstrumentationNames.GEOLOCATION_WATCH_POSITION */]: i18n.i18n.lockedLazyString('watchPosition'),\n    [\"Notification.requestPermission\" /* SDK.EventBreakpointsModel.InstrumentationNames.NOTIFCATION_REQUEST_PERMISSION */]: i18n.i18n.lockedLazyString('requestPermission'),\n    [\"DOMWindow.close\" /* SDK.EventBreakpointsModel.InstrumentationNames.DOM_WINDOW_CLOSE */]: i18n.i18n.lockedLazyString('window.close'),\n    [\"Document.write\" /* SDK.EventBreakpointsModel.InstrumentationNames.DOCUMENT_WRITE */]: i18n.i18n.lockedLazyString('document.write'),\n    [\"audioContextCreated\" /* SDK.EventBreakpointsModel.InstrumentationNames.AUDIO_CONTEXT_CREATED */]: i18nLazyString(UIStrings.createAudiocontext),\n    [\"audioContextClosed\" /* SDK.EventBreakpointsModel.InstrumentationNames.AUDIO_CONTEXT_CLOSED */]: i18nLazyString(UIStrings.closeAudiocontext),\n    [\"audioContextResumed\" /* SDK.EventBreakpointsModel.InstrumentationNames.AUDIO_CONTEXT_RESUMED */]: i18nLazyString(UIStrings.resumeAudiocontext),\n    [\"audioContextSuspended\" /* SDK.EventBreakpointsModel.InstrumentationNames.AUDIO_CONTEXT_SUSPENDED */]: i18nLazyString(UIStrings.suspendAudiocontext),\n};\nconst LOCALIZED_CSP_VIOLATION_TYPES = {\n    [\"trustedtype-policy-violation\" /* Protocol.DOMDebugger.CSPViolationType.TrustedtypePolicyViolation */]: i18nLazyString(UIStrings.policyViolations),\n    [\"trustedtype-sink-violation\" /* Protocol.DOMDebugger.CSPViolationType.TrustedtypeSinkViolation */]: i18nLazyString(UIStrings.sinkViolations),\n};\nconst LOCALIZED_NAMES = new Map([\n    ...Object.entries(LOCALIZED_INSTRUMENTATION_NAMES),\n    ...Object.entries(LOCALIZED_CSP_VIOLATION_TYPES),\n]);\n//# sourceMappingURL=CategorizedBreakpointL10n.js.map","// Copyright 2020 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\nexport class Plugin {\n    uiSourceCode;\n    constructor(uiSourceCode, _transformer) {\n        this.uiSourceCode = uiSourceCode;\n    }\n    static accepts(_uiSourceCode) {\n        return false;\n    }\n    willHide() {\n    }\n    rightToolbarItems() {\n        return [];\n    }\n    /**\n     *\n     * TODO(szuend): It is OK to asyncify this function (similar to {rightToolbarItems}),\n     *               but it is currently not strictly necessary.\n     */\n    leftToolbarItems() {\n        return [];\n    }\n    populateLineGutterContextMenu(_contextMenu, _lineNumber) {\n    }\n    populateTextAreaContextMenu(_contextMenu, _lineNumber, _columnNumber) {\n    }\n    decorationChanged(_type, _editor) {\n    }\n    editorExtension() {\n        return [];\n    }\n    editorInitialized(_editor) {\n    }\n    dispose() {\n    }\n}\n//# sourceMappingURL=Plugin.js.map","// Copyright 2019 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\nimport * as i18n from '../../core/i18n/i18n.js';\nimport * as SDK from '../../core/sdk/sdk.js';\nimport * as TextUtils from '../../models/text_utils/text_utils.js';\nimport * as CodeMirror from '../../third_party/codemirror.next/codemirror.next.js';\nimport * as SourceFrame from '../../ui/legacy/components/source_frame/source_frame.js';\nimport * as UI from '../../ui/legacy/legacy.js';\nimport * as Coverage from '../coverage/coverage.js';\nimport { Plugin } from './Plugin.js';\n// Plugin that shows a gutter with coverage information when available.\nconst UIStrings = {\n    /**\n     *@description Text for Coverage Status Bar Item in Sources Panel\n     */\n    clickToShowCoveragePanel: 'Click to show Coverage Panel',\n    /**\n     *@description Text for Coverage Status Bar Item in Sources Panel\n     */\n    showDetails: 'Show Details',\n    /**\n     *@description Text to show in the status bar if coverage data is available\n     *@example {12.3} PH1\n     */\n    coverageS: 'Coverage: {PH1}',\n    /**\n     *@description Text to be shown in the status bar if no coverage data is available\n     */\n    coverageNa: 'Coverage: n/a',\n};\nconst str_ = i18n.i18n.registerUIStrings('panels/sources/CoveragePlugin.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\nexport class CoveragePlugin extends Plugin {\n    originalSourceCode;\n    infoInToolbar;\n    model;\n    coverage;\n    #transformer;\n    constructor(uiSourceCode, transformer) {\n        super(uiSourceCode);\n        this.originalSourceCode = this.uiSourceCode;\n        this.#transformer = transformer;\n        this.infoInToolbar = new UI.Toolbar.ToolbarButton(i18nString(UIStrings.clickToShowCoveragePanel), undefined, undefined, 'debugger.show-coverage');\n        this.infoInToolbar.setSecondary();\n        this.infoInToolbar.addEventListener(\"Click\" /* UI.Toolbar.ToolbarButton.Events.CLICK */, () => {\n            void UI.ViewManager.ViewManager.instance().showView('coverage');\n        });\n        const mainTarget = SDK.TargetManager.TargetManager.instance().primaryPageTarget();\n        if (mainTarget) {\n            this.model = mainTarget.model(Coverage.CoverageModel.CoverageModel);\n            if (this.model) {\n                this.model.addEventListener(Coverage.CoverageModel.Events.CoverageReset, this.handleReset, this);\n                this.coverage = this.model.getCoverageForUrl(this.originalSourceCode.url());\n                if (this.coverage) {\n                    this.coverage.addEventListener(Coverage.CoverageModel.URLCoverageInfo.Events.SizesChanged, this.handleCoverageSizesChanged, this);\n                }\n            }\n        }\n        this.updateStats();\n    }\n    dispose() {\n        if (this.coverage) {\n            this.coverage.removeEventListener(Coverage.CoverageModel.URLCoverageInfo.Events.SizesChanged, this.handleCoverageSizesChanged, this);\n        }\n        if (this.model) {\n            this.model.removeEventListener(Coverage.CoverageModel.Events.CoverageReset, this.handleReset, this);\n        }\n    }\n    static accepts(uiSourceCode) {\n        return uiSourceCode.contentType().isDocumentOrScriptOrStyleSheet();\n    }\n    handleReset() {\n        this.coverage = null;\n        this.updateStats();\n    }\n    handleCoverageSizesChanged() {\n        this.updateStats();\n    }\n    updateStats() {\n        if (this.coverage) {\n            this.infoInToolbar.setTitle(i18nString(UIStrings.showDetails));\n            const formatter = new Intl.NumberFormat(i18n.DevToolsLocale.DevToolsLocale.instance().locale, {\n                style: 'percent',\n                maximumFractionDigits: 1,\n            });\n            this.infoInToolbar.setText(i18nString(UIStrings.coverageS, { PH1: formatter.format(this.coverage.usedPercentage()) }));\n        }\n        else {\n            this.infoInToolbar.setTitle(i18nString(UIStrings.clickToShowCoveragePanel));\n            this.infoInToolbar.setText(i18nString(UIStrings.coverageNa));\n        }\n    }\n    rightToolbarItems() {\n        return [this.infoInToolbar];\n    }\n    editorExtension() {\n        return coverageCompartment.of([]);\n    }\n    getCoverageManager() {\n        return this.uiSourceCode.getDecorationData(\"coverage\" /* SourceFrame.SourceFrame.DecoratorType.COVERAGE */);\n    }\n    editorInitialized(editor) {\n        if (this.getCoverageManager()) {\n            this.startDecoUpdate(editor);\n        }\n    }\n    decorationChanged(type, editor) {\n        if (type === \"coverage\" /* SourceFrame.SourceFrame.DecoratorType.COVERAGE */) {\n            this.startDecoUpdate(editor);\n        }\n    }\n    startDecoUpdate(editor) {\n        const manager = this.getCoverageManager();\n        void (manager ? manager.usageByLine(this.uiSourceCode, this.#editorLines(editor)) : Promise.resolve([]))\n            .then(usageByLine => {\n            const enabled = Boolean(editor.state.field(coverageState, false));\n            if (!usageByLine.length) {\n                if (enabled) {\n                    editor.dispatch({ effects: coverageCompartment.reconfigure([]) });\n                }\n            }\n            else if (!enabled) {\n                editor.dispatch({\n                    effects: coverageCompartment.reconfigure([\n                        coverageState.init(state => markersFromCoverageData(usageByLine, state)),\n                        coverageGutter(this.uiSourceCode.url()),\n                        theme,\n                    ]),\n                });\n            }\n            else {\n                editor.dispatch({ effects: setCoverageState.of(usageByLine) });\n            }\n        });\n    }\n    /**\n     * @returns The current lines of the CodeMirror editor expressed in terms of UISourceCode.\n     */\n    #editorLines(editor) {\n        const result = [];\n        for (let n = 1; n <= editor.state.doc.lines; ++n) {\n            const line = editor.state.doc.line(n);\n            // CodeMirror lines are 1-based where-as the transformer expects 0-based.\n            const { lineNumber: startLine, columnNumber: startColumn } = this.#transformer.editorLocationToUILocation(n - 1, 0);\n            const { lineNumber: endLine, columnNumber: endColumn } = this.#transformer.editorLocationToUILocation(n - 1, line.length);\n            result.push(new TextUtils.TextRange.TextRange(startLine, startColumn, endLine, endColumn));\n        }\n        return result;\n    }\n}\nconst coveredMarker = new (class extends CodeMirror.GutterMarker {\n    elementClass = 'cm-coverageUsed';\n})();\nconst notCoveredMarker = new (class extends CodeMirror.GutterMarker {\n    elementClass = 'cm-coverageUnused';\n})();\nfunction markersFromCoverageData(usageByLine, state) {\n    const builder = new CodeMirror.RangeSetBuilder();\n    for (let line = 0; line < usageByLine.length; line++) {\n        const usage = usageByLine[line];\n        if (usage !== undefined && line < state.doc.lines) {\n            const lineStart = state.doc.line(line + 1).from;\n            builder.add(lineStart, lineStart, usage ? coveredMarker : notCoveredMarker);\n        }\n    }\n    return builder.finish();\n}\nconst setCoverageState = CodeMirror.StateEffect.define();\nconst coverageState = CodeMirror.StateField.define({\n    create() {\n        return CodeMirror.RangeSet.empty;\n    },\n    update(markers, tr) {\n        return tr.effects.reduce((markers, effect) => {\n            return effect.is(setCoverageState) ? markersFromCoverageData(effect.value, tr.state) : markers;\n        }, markers.map(tr.changes));\n    },\n});\nfunction coverageGutter(url) {\n    return CodeMirror.gutter({\n        markers: view => view.state.field(coverageState),\n        domEventHandlers: {\n            click() {\n                void UI.ViewManager.ViewManager.instance()\n                    .showView('coverage')\n                    .then(() => {\n                    const view = UI.ViewManager.ViewManager.instance().view('coverage');\n                    return view && view.widget();\n                })\n                    .then(widget => {\n                    const matchFormattedSuffix = url.match(/(.*):formatted$/);\n                    const urlWithoutFormattedSuffix = (matchFormattedSuffix && matchFormattedSuffix[1]) || url;\n                    widget.selectCoverageItemByUrl(urlWithoutFormattedSuffix);\n                });\n                return true;\n            },\n        },\n        class: 'cm-coverageGutter',\n    });\n}\nconst coverageCompartment = new CodeMirror.Compartment();\nconst theme = CodeMirror.EditorView.baseTheme({\n    '.cm-coverageGutter': {\n        width: '5px',\n        marginLeft: '3px',\n    },\n    '.cm-coverageUnused': {\n        backgroundColor: 'var(--app-color-coverage-unused)',\n    },\n    '.cm-coverageUsed': {\n        backgroundColor: 'var(--app-color-coverage-used)',\n    },\n});\n//# sourceMappingURL=CoveragePlugin.js.map","// Copyright 2021 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\nimport * as Common from '../../core/common/common.js';\nimport * as Host from '../../core/host/host.js';\nimport * as i18n from '../../core/i18n/i18n.js';\nimport { assertNotNullOrUndefined } from '../../core/platform/platform.js';\nimport * as SDK from '../../core/sdk/sdk.js';\nimport * as Bindings from '../../models/bindings/bindings.js';\nimport * as Workspace from '../../models/workspace/workspace.js';\nimport * as CodeMirror from '../../third_party/codemirror.next/codemirror.next.js';\nimport * as ColorPicker from '../../ui/legacy/components/color_picker/color_picker.js';\nimport * as InlineEditor from '../../ui/legacy/components/inline_editor/inline_editor.js';\nimport * as UI from '../../ui/legacy/legacy.js';\nimport { AddDebugInfoURLDialog } from './AddSourceMapURLDialog.js';\nimport { Plugin } from './Plugin.js';\n// Plugin to add CSS completion, shortcuts, and color/curve swatches\n// to editors with CSS content.\nconst UIStrings = {\n    /**\n     *@description Swatch icon element title in CSSPlugin of the Sources panel\n     */\n    openColorPicker: 'Open color picker.',\n    /**\n     *@description Text to open the cubic bezier editor\n     */\n    openCubicBezierEditor: 'Open cubic bezier editor.',\n    /**\n     *@description Text for a context menu item for attaching a sourcemap to the currently open css file\n     */\n    addSourceMap: 'Add source map…',\n};\nconst str_ = i18n.i18n.registerUIStrings('panels/sources/CSSPlugin.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\nconst dontCompleteIn = new Set(['ColorLiteral', 'NumberLiteral', 'StringLiteral', 'Comment', 'Important']);\nfunction findPropertyAt(node, pos) {\n    if (dontCompleteIn.has(node.name)) {\n        return null;\n    }\n    for (let cur = node; cur; cur = cur.parent) {\n        if (cur.name === 'StyleSheet' || cur.name === 'Styles' || cur.name === 'CallExpression') {\n            break;\n        }\n        else if (cur.name === 'Declaration') {\n            const name = cur.getChild('PropertyName'), colon = cur.getChild(':');\n            return name && colon && colon.to <= pos ? name : null;\n        }\n    }\n    return null;\n}\nfunction getCurrentStyleSheet(url, cssModel) {\n    const currentStyleSheet = cssModel.getStyleSheetIdsForURL(url);\n    if (currentStyleSheet.length === 0) {\n        throw new Error('Can\\'t find style sheet ID for current URL');\n    }\n    return currentStyleSheet[0];\n}\nasync function specificCssCompletion(cx, uiSourceCode, cssModel) {\n    const node = CodeMirror.syntaxTree(cx.state).resolveInner(cx.pos, -1);\n    if (node.name === 'ClassName') {\n        // Should never happen, but let's code defensively here\n        assertNotNullOrUndefined(cssModel);\n        const currentStyleSheet = getCurrentStyleSheet(uiSourceCode.url(), cssModel);\n        const existingClassNames = await cssModel.getClassNames(currentStyleSheet);\n        return {\n            from: node.from,\n            options: existingClassNames.map(value => ({ type: 'constant', label: value })),\n        };\n    }\n    const property = findPropertyAt(node, cx.pos);\n    if (property) {\n        const propertyValues = SDK.CSSMetadata.cssMetadata().getPropertyValues(cx.state.sliceDoc(property.from, property.to));\n        return {\n            from: node.name === 'ValueName' ? node.from : cx.pos,\n            options: propertyValues.map(value => ({ type: 'constant', label: value })),\n            validFor: /^[\\w\\P{ASCII}\\-]+$/u,\n        };\n    }\n    return null;\n}\nfunction findColorsAndCurves(state, from, to, onColor, onCurve) {\n    let line = state.doc.lineAt(from);\n    function getToken(from, to) {\n        if (from >= line.to) {\n            line = state.doc.lineAt(from);\n        }\n        return line.text.slice(from - line.from, to - line.from);\n    }\n    const tree = CodeMirror.ensureSyntaxTree(state, to, 100);\n    if (!tree) {\n        return;\n    }\n    tree.iterate({\n        from,\n        to,\n        enter: node => {\n            let content;\n            if (node.name === 'ValueName' || node.name === 'ColorLiteral') {\n                content = getToken(node.from, node.to);\n            }\n            else if (node.name === 'Callee' &&\n                /^(?:(?:rgba?|hsla?|hwba?|lch|oklch|lab|oklab|color)|cubic-bezier)$/.test(getToken(node.from, node.to))) {\n                content = state.sliceDoc(node.from, node.node.parent.to);\n            }\n            if (content) {\n                const parsedColor = Common.Color.parse(content);\n                if (parsedColor) {\n                    onColor(node.from, parsedColor, content);\n                }\n                else {\n                    const parsedCurve = UI.Geometry.CubicBezier.parse(content);\n                    if (parsedCurve) {\n                        onCurve(node.from, parsedCurve, content);\n                    }\n                }\n            }\n        },\n    });\n}\nclass ColorSwatchWidget extends CodeMirror.WidgetType {\n    #text;\n    #color;\n    #from;\n    constructor(color, text, from) {\n        super();\n        this.#color = color;\n        this.#text = text;\n        this.#from = from;\n    }\n    eq(other) {\n        return this.#color.equal(other.#color) && this.#text === other.#text && this.#from === other.#from;\n    }\n    toDOM(view) {\n        const swatch = new InlineEditor.ColorSwatch.ColorSwatch(i18nString(UIStrings.openColorPicker));\n        swatch.renderColor(this.#color);\n        const value = swatch.createChild('span');\n        value.textContent = this.#text;\n        value.setAttribute('hidden', 'true');\n        swatch.addEventListener(InlineEditor.ColorSwatch.ColorChangedEvent.eventName, event => {\n            const insert = event.data.color.getAuthoredText() ?? event.data.color.asString();\n            view.dispatch({ changes: { from: this.#from, to: this.#from + this.#text.length, insert } });\n            this.#text = insert;\n            this.#color = swatch.getColor();\n        });\n        swatch.addEventListener(InlineEditor.ColorSwatch.ClickEvent.eventName, event => {\n            event.consume(true);\n            view.dispatch({\n                effects: setTooltip.of({\n                    type: 0 /* TooltipType.COLOR */,\n                    pos: view.posAtDOM(swatch),\n                    text: this.#text,\n                    swatch,\n                    color: this.#color,\n                }),\n            });\n        });\n        return swatch;\n    }\n    ignoreEvent() {\n        return true;\n    }\n}\nclass CurveSwatchWidget extends CodeMirror.WidgetType {\n    curve;\n    text;\n    constructor(curve, text) {\n        super();\n        this.curve = curve;\n        this.text = text;\n    }\n    eq(other) {\n        return this.curve.asCSSText() === other.curve.asCSSText() && this.text === other.text;\n    }\n    toDOM(view) {\n        const swatch = InlineEditor.Swatches.BezierSwatch.create();\n        swatch.setBezierText(this.text);\n        UI.Tooltip.Tooltip.install(swatch.iconElement(), i18nString(UIStrings.openCubicBezierEditor));\n        swatch.iconElement().addEventListener('click', (event) => {\n            event.consume(true);\n            view.dispatch({\n                effects: setTooltip.of({\n                    type: 1 /* TooltipType.CURVE */,\n                    pos: view.posAtDOM(swatch),\n                    text: this.text,\n                    swatch,\n                    curve: this.curve,\n                }),\n            });\n        }, false);\n        swatch.hideText(true);\n        return swatch;\n    }\n    ignoreEvent() {\n        return true;\n    }\n}\nfunction createCSSTooltip(active) {\n    return {\n        pos: active.pos,\n        arrow: true,\n        create(view) {\n            let text = active.text;\n            let widget, addListener;\n            if (active.type === 0 /* TooltipType.COLOR */) {\n                const spectrum = new ColorPicker.Spectrum.Spectrum();\n                addListener = handler => {\n                    spectrum.addEventListener(\"ColorChanged\" /* ColorPicker.Spectrum.Events.COLOR_CHANGED */, handler);\n                };\n                spectrum.addEventListener(\"SizeChanged\" /* ColorPicker.Spectrum.Events.SIZE_CHANGED */, () => view.requestMeasure());\n                spectrum.setColor(active.color);\n                widget = spectrum;\n                Host.userMetrics.colorPickerOpenedFrom(0 /* Host.UserMetrics.ColorPickerOpenedFrom.SOURCES_PANEL */);\n            }\n            else {\n                const spectrum = new InlineEditor.BezierEditor.BezierEditor(active.curve);\n                widget = spectrum;\n                addListener = handler => {\n                    spectrum.addEventListener(\"BezierChanged\" /* InlineEditor.BezierEditor.Events.BEZIER_CHANGED */, handler);\n                };\n            }\n            const dom = document.createElement('div');\n            dom.className = 'cm-tooltip-swatchEdit';\n            widget.markAsRoot();\n            widget.show(dom);\n            widget.showWidget();\n            widget.element.addEventListener('keydown', event => {\n                if (event.key === 'Escape') {\n                    event.consume();\n                    view.dispatch({\n                        effects: setTooltip.of(null),\n                        changes: text === active.text ? undefined :\n                            { from: active.pos, to: active.pos + text.length, insert: active.text },\n                    });\n                    widget.hideWidget();\n                    view.focus();\n                }\n            });\n            widget.element.addEventListener('focusout', event => {\n                if (event.relatedTarget && !widget.element.contains(event.relatedTarget)) {\n                    view.dispatch({ effects: setTooltip.of(null) });\n                    widget.hideWidget();\n                }\n            }, false);\n            widget.element.addEventListener('mousedown', event => event.consume());\n            return {\n                dom,\n                resize: false,\n                offset: { x: -8, y: 0 },\n                mount: () => {\n                    widget.focus();\n                    widget.wasShown();\n                    addListener((event) => {\n                        view.dispatch({\n                            changes: { from: active.pos, to: active.pos + text.length, insert: event.data },\n                            annotations: isSwatchEdit.of(true),\n                        });\n                        text = event.data;\n                    });\n                },\n            };\n        },\n    };\n}\nconst setTooltip = CodeMirror.StateEffect.define();\nconst isSwatchEdit = CodeMirror.Annotation.define();\nconst cssTooltipState = CodeMirror.StateField.define({\n    create() {\n        return null;\n    },\n    update(value, tr) {\n        if ((tr.docChanged || tr.selection) && !tr.annotation(isSwatchEdit)) {\n            value = null;\n        }\n        for (const effect of tr.effects) {\n            if (effect.is(setTooltip)) {\n                value = effect.value;\n            }\n        }\n        return value;\n    },\n    provide: field => CodeMirror.showTooltip.from(field, active => active && createCSSTooltip(active)),\n});\nfunction computeSwatchDeco(state, from, to) {\n    const builder = new CodeMirror.RangeSetBuilder();\n    findColorsAndCurves(state, from, to, (pos, parsedColor, colorText) => {\n        builder.add(pos, pos, CodeMirror.Decoration.widget({ widget: new ColorSwatchWidget(parsedColor, colorText, pos) }));\n    }, (pos, curve, text) => {\n        builder.add(pos, pos, CodeMirror.Decoration.widget({ widget: new CurveSwatchWidget(curve, text) }));\n    });\n    return builder.finish();\n}\nconst cssSwatchPlugin = CodeMirror.ViewPlugin.fromClass(class {\n    decorations;\n    constructor(view) {\n        this.decorations = computeSwatchDeco(view.state, view.viewport.from, view.viewport.to);\n    }\n    update(update) {\n        if (update.viewportChanged || update.docChanged) {\n            this.decorations = computeSwatchDeco(update.state, update.view.viewport.from, update.view.viewport.to);\n        }\n    }\n}, {\n    decorations: v => v.decorations,\n});\nfunction cssSwatches() {\n    return [cssSwatchPlugin, cssTooltipState];\n}\nfunction getNumberAt(node) {\n    if (node.name === 'Unit') {\n        node = node.parent;\n    }\n    if (node.name === 'NumberLiteral') {\n        const lastChild = node.lastChild;\n        return { from: node.from, to: lastChild && lastChild.name === 'Unit' ? lastChild.from : node.to };\n    }\n    return null;\n}\nfunction modifyUnit(view, by) {\n    const { head } = view.state.selection.main;\n    const context = CodeMirror.syntaxTree(view.state).resolveInner(head, -1);\n    const numberRange = getNumberAt(context) || getNumberAt(context.resolve(head, 1));\n    if (!numberRange) {\n        return false;\n    }\n    const currentNumber = Number(view.state.sliceDoc(numberRange.from, numberRange.to));\n    if (isNaN(currentNumber)) {\n        return false;\n    }\n    view.dispatch({\n        changes: { from: numberRange.from, to: numberRange.to, insert: String(currentNumber + by) },\n        scrollIntoView: true,\n        userEvent: 'insert.modifyUnit',\n    });\n    return true;\n}\nexport function cssBindings() {\n    // This is an awkward way to pass the argument given to the editor\n    // event handler through the ShortcutRegistry calling convention.\n    let currentView = null;\n    const listener = UI.ShortcutRegistry.ShortcutRegistry.instance().getShortcutListener({\n        'sources.increment-css': () => Promise.resolve(modifyUnit(currentView, 1)),\n        'sources.increment-css-by-ten': () => Promise.resolve(modifyUnit(currentView, 10)),\n        'sources.decrement-css': () => Promise.resolve(modifyUnit(currentView, -1)),\n        'sources.decrement-css-by-ten': () => Promise.resolve(modifyUnit(currentView, -10)),\n    });\n    return CodeMirror.EditorView.domEventHandlers({\n        keydown: (event, view) => {\n            const prevView = currentView;\n            currentView = view;\n            listener(event);\n            currentView = prevView;\n            return event.defaultPrevented;\n        },\n    });\n}\nexport class CSSPlugin extends Plugin {\n    #cssModel;\n    constructor(uiSourceCode, _transformer) {\n        super(uiSourceCode, _transformer);\n        SDK.TargetManager.TargetManager.instance().observeModels(SDK.CSSModel.CSSModel, this);\n    }\n    static accepts(uiSourceCode) {\n        return uiSourceCode.contentType().hasStyleSheets();\n    }\n    modelAdded(cssModel) {\n        if (cssModel.target() !== SDK.TargetManager.TargetManager.instance().primaryPageTarget()) {\n            return;\n        }\n        this.#cssModel = cssModel;\n    }\n    modelRemoved(cssModel) {\n        if (this.#cssModel === cssModel) {\n            this.#cssModel = undefined;\n        }\n    }\n    editorExtension() {\n        return [cssBindings(), this.#cssCompletion(), cssSwatches()];\n    }\n    #cssCompletion() {\n        const { cssCompletionSource } = CodeMirror.css;\n        // CodeMirror binds the function below to the state object.\n        // Therefore, we can't access `this` and retrieve the following properties.\n        // Instead, retrieve them up front to bind them to the correct closure.\n        const uiSourceCode = this.uiSourceCode;\n        const cssModel = this.#cssModel;\n        return CodeMirror.autocompletion({\n            override: [async (cx) => {\n                    return (await specificCssCompletion(cx, uiSourceCode, cssModel)) || cssCompletionSource(cx);\n                }],\n        });\n    }\n    populateTextAreaContextMenu(contextMenu) {\n        function addSourceMapURL(cssModel, sourceUrl) {\n            const dialog = AddDebugInfoURLDialog.createAddSourceMapURLDialog(sourceMapUrl => {\n                Bindings.CSSWorkspaceBinding.CSSWorkspaceBinding.instance().modelToInfo.get(cssModel)?.addSourceMap(sourceUrl, sourceMapUrl);\n            });\n            dialog.show();\n        }\n        const cssModel = this.#cssModel;\n        const url = this.uiSourceCode.url();\n        if (this.uiSourceCode.project().type() === Workspace.Workspace.projectTypes.Network && cssModel &&\n            !Bindings.IgnoreListManager.IgnoreListManager.instance().isUserIgnoreListedURL(url)) {\n            const addSourceMapURLLabel = i18nString(UIStrings.addSourceMap);\n            contextMenu.debugSection().appendItem(addSourceMapURLLabel, () => addSourceMapURL(cssModel, url), { jslogContext: 'add-source-map' });\n        }\n    }\n}\n//# sourceMappingURL=CSSPlugin.js.map","// Copyright 2024 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n// IMPORTANT: this file is auto generated. Please do not edit this file.\n/* istanbul ignore file */\nconst styles = new CSSStyleSheet();\nstyles.replaceSync(\n`/*\n * Copyright 2016 The Chromium Authors. All rights reserved.\n * Use of this source code is governed by a BSD-style license that can be\n * found in the LICENSE file.\n */\n\n.paused-status {\n  margin: 6px;\n  padding: 4px 10px;\n  border-radius: 10px;\n  background-color: var(--sys-color-yellow-container);\n  color: var(--sys-color-on-yellow-container);\n}\n\n.paused-status.error-reason {\n  background-color: var(--sys-color-surface-error);\n  color: var(--sys-color-on-surface-error);\n}\n\n.status-main {\n  padding-left: 18px;\n  position: relative;\n}\n\n.status-sub:not(:empty) {\n  padding-left: 15px;\n  padding-top: 5px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.paused-status.error-reason .status-sub {\n  color: var(--sys-color-error);\n  line-height: 11px;\n  max-height: 27px;\n  user-select: text;\n}\n\ndevtools-icon {\n  position: absolute;\n  left: -1px;\n  top: -1px;\n}\n\n/*# sourceURL=debuggerPausedMessage.css */\n`);\n\nexport default styles;\n","// Copyright 2016 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\nimport * as Common from '../../core/common/common.js';\nimport * as i18n from '../../core/i18n/i18n.js';\nimport * as SDK from '../../core/sdk/sdk.js';\nimport * as IconButton from '../../ui/components/icon_button/icon_button.js';\nimport * as UI from '../../ui/legacy/legacy.js';\nimport * as VisualLogging from '../../ui/visual_logging/visual_logging.js';\nimport { getLocalizedBreakpointName } from './CategorizedBreakpointL10n.js';\nimport debuggerPausedMessageStyles from './debuggerPausedMessage.css.js';\nconst UIStrings = {\n    /**\n     *@description Text in the JavaScript Debugging pane of the Sources pane when a DOM breakpoint is hit\n     *@example {conditional breakpoint} PH1\n     */\n    pausedOnS: 'Paused on {PH1}',\n    /**\n     *@description Text in the JavaScript Debugging pane of the Sources pane when a DOM breakpoint is hit because a child is added to the subtree\n     *@example {node} PH1\n     */\n    childSAdded: 'Child {PH1} added',\n    /**\n     *@description Text in the JavaScript Debugging pane of the Sources pane when a DOM breakpoint is hit because a descendant is added\n     *@example {node} PH1\n     */\n    descendantSAdded: 'Descendant {PH1} added',\n    /**\n     *@description Text in the JavaScript Debugging pane of the Sources pane when a DOM breakpoint is hit because a descendant is removed\n     *@example {node} PH1\n     */\n    descendantSRemoved: 'Descendant {PH1} removed',\n    /**\n     *@description Text in Debugger Paused Message of the Sources panel\n     */\n    pausedOnEventListener: 'Paused on event listener',\n    /**\n     *@description Text in Debugger Paused Message of the Sources panel\n     */\n    pausedOnXhrOrFetch: 'Paused on XHR or fetch',\n    /**\n     *@description Text in Debugger Paused Message of the Sources panel\n     */\n    pausedOnException: 'Paused on exception',\n    /**\n     *@description We pause exactly when the promise rejection is happening, so that the user can see where in the code it comes from.\n     * A Promise is a Web API object (https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise),\n     * that will either be 'fulfilled' or 'rejected' at some unknown time in the future.\n     * The subject of the term is omited but it is \"Execution\", that is, \"Execution was paused on <event>\".\n     */\n    pausedOnPromiseRejection: 'Paused on `promise` rejection',\n    /**\n     *@description Text in Debugger Paused Message of the Sources panel\n     */\n    pausedOnAssertion: 'Paused on assertion',\n    /**\n     *@description Text in Debugger Paused Message of the Sources panel\n     */\n    pausedOnDebuggedFunction: 'Paused on debugged function',\n    /**\n     *@description Text in Debugger Paused Message of the Sources panel\n     */\n    pausedBeforePotentialOutofmemory: 'Paused before potential out-of-memory crash',\n    /**\n     *@description Text in Debugger Paused Message of the Sources panel\n     */\n    pausedOnCspViolation: 'Paused on CSP violation',\n    /**\n     *@description Text in Debugger Paused Message of the Sources panel specifying cause of break\n     */\n    trustedTypeSinkViolation: '`Trusted Type` Sink Violation',\n    /**\n     *@description Text in Debugger Paused Message of the Sources panel specifying cause of break\n     */\n    trustedTypePolicyViolation: '`Trusted Type` Policy Violation',\n    /**\n     *@description Text in Debugger Paused Message of the Sources panel\n     */\n    pausedOnBreakpoint: 'Paused on breakpoint',\n    /**\n     *@description Text in Debugger Paused Message of the Sources panel\n     */\n    debuggerPaused: 'Debugger paused',\n    /**\n     *@description Text in Debugger Paused Message of the Sources panel\n     */\n    subtreeModifications: 'subtree modifications',\n    /**\n     *@description Text in Debugger Paused Message of the Sources panel\n     */\n    attributeModifications: 'attribute modifications',\n    /**\n     *@description Text in Debugger Paused Message of the Sources panel\n     */\n    nodeRemoval: 'node removal',\n    /**\n     *@description Error message text\n     *@example {Snag Error} PH1\n     */\n    webglErrorFiredS: 'WebGL Error Fired ({PH1})',\n    /**\n     *@description Text in DOMDebugger Model\n     *@example {\"script-src 'self'\"} PH1\n     */\n    scriptBlockedDueToContent: 'Script blocked due to Content Security Policy directive: {PH1}',\n};\nconst str_ = i18n.i18n.registerUIStrings('panels/sources/DebuggerPausedMessage.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\nconst i18nLazyString = i18n.i18n.getLazilyComputedLocalizedString.bind(undefined, str_);\nexport class DebuggerPausedMessage {\n    elementInternal;\n    contentElement;\n    constructor() {\n        this.elementInternal = document.createElement('div');\n        this.elementInternal.classList.add('paused-message');\n        this.elementInternal.classList.add('flex-none');\n        this.elementInternal.setAttribute('jslog', `${VisualLogging.dialog('debugger-paused')}`);\n        const root = UI.UIUtils.createShadowRootWithCoreStyles(this.elementInternal, { cssFile: [debuggerPausedMessageStyles], delegatesFocus: undefined });\n        this.contentElement = root.createChild('div');\n        UI.ARIAUtils.markAsPoliteLiveRegion(this.elementInternal, false);\n    }\n    element() {\n        return this.elementInternal;\n    }\n    static descriptionWithoutStack(description) {\n        const firstCallFrame = /^\\s+at\\s/m.exec(description);\n        return firstCallFrame ? description.substring(0, firstCallFrame.index - 1) :\n            description.substring(0, description.lastIndexOf('\\n'));\n    }\n    static async createDOMBreakpointHitMessage(details) {\n        const messageWrapper = document.createElement('span');\n        const domDebuggerModel = details.debuggerModel.target().model(SDK.DOMDebuggerModel.DOMDebuggerModel);\n        if (!details.auxData || !domDebuggerModel) {\n            return messageWrapper;\n        }\n        const data = domDebuggerModel.resolveDOMBreakpointData(details.auxData);\n        if (!data) {\n            return messageWrapper;\n        }\n        const mainElement = messageWrapper.createChild('div', 'status-main');\n        const mainIcon = new IconButton.Icon.Icon();\n        mainIcon.data = {\n            iconName: 'info',\n            color: 'var(--sys-color-on-yellow-container)',\n            width: '16px',\n            height: '16px',\n        };\n        mainElement.appendChild(mainIcon);\n        const breakpointType = BreakpointTypeNouns.get(data.type);\n        mainElement.appendChild(document.createTextNode(i18nString(UIStrings.pausedOnS, { PH1: breakpointType ? breakpointType() : String(null) })));\n        const subElement = messageWrapper.createChild('div', 'status-sub monospace');\n        const linkifiedNode = await Common.Linkifier.Linkifier.linkify(data.node);\n        subElement.appendChild(linkifiedNode);\n        if (data.targetNode) {\n            const targetNodeLink = await Common.Linkifier.Linkifier.linkify(data.targetNode);\n            let messageElement;\n            if (data.insertion) {\n                if (data.targetNode === data.node) {\n                    messageElement = i18n.i18n.getFormatLocalizedString(str_, UIStrings.childSAdded, { PH1: targetNodeLink });\n                }\n                else {\n                    messageElement = i18n.i18n.getFormatLocalizedString(str_, UIStrings.descendantSAdded, { PH1: targetNodeLink });\n                }\n            }\n            else {\n                messageElement = i18n.i18n.getFormatLocalizedString(str_, UIStrings.descendantSRemoved, { PH1: targetNodeLink });\n            }\n            subElement.appendChild(document.createElement('br'));\n            subElement.appendChild(messageElement);\n        }\n        return messageWrapper;\n    }\n    static #findEventNameForUi(detailsAuxData) {\n        if (!detailsAuxData) {\n            return '';\n        }\n        const { eventName, webglErrorName, directiveText, targetName } = detailsAuxData;\n        if (eventName === 'instrumentation:webglErrorFired' && webglErrorName) {\n            // If there is a hex code of the error, display only this.\n            const errorName = webglErrorName.replace(/^.*(0x[0-9a-f]+).*$/i, '$1');\n            return i18nString(UIStrings.webglErrorFiredS, { PH1: errorName });\n        }\n        if (eventName === 'instrumentation:scriptBlockedByCSP' && directiveText) {\n            return i18nString(UIStrings.scriptBlockedDueToContent, { PH1: directiveText });\n        }\n        let breakpoint = SDK.EventBreakpointsModel.EventBreakpointsManager.instance().resolveEventListenerBreakpoint(detailsAuxData);\n        if (breakpoint) {\n            // EventBreakpointsManager breakpoints are the only ones with localized names.\n            return getLocalizedBreakpointName(breakpoint.name);\n        }\n        breakpoint = SDK.DOMDebuggerModel.DOMDebuggerManager.instance().resolveEventListenerBreakpoint(detailsAuxData);\n        if (breakpoint && targetName) {\n            // For standard DOM event listeners we prepend the target of the event.\n            return targetName + '.' + breakpoint.name;\n        }\n        return breakpoint?.name ?? '';\n    }\n    async render(details, debuggerWorkspaceBinding, breakpointManager) {\n        this.contentElement.removeChildren();\n        this.contentElement.hidden = !details;\n        if (!details) {\n            return;\n        }\n        const status = this.contentElement.createChild('div', 'paused-status');\n        const errorLike = details.reason === \"exception\" /* Protocol.Debugger.PausedEventReason.Exception */ ||\n            details.reason === \"promiseRejection\" /* Protocol.Debugger.PausedEventReason.PromiseRejection */ ||\n            details.reason === \"assert\" /* Protocol.Debugger.PausedEventReason.Assert */ ||\n            details.reason === \"OOM\" /* Protocol.Debugger.PausedEventReason.OOM */;\n        let messageWrapper;\n        if (details.reason === \"DOM\" /* Protocol.Debugger.PausedEventReason.DOM */) {\n            messageWrapper = await DebuggerPausedMessage.createDOMBreakpointHitMessage(details);\n        }\n        else if (details.reason === \"EventListener\" /* Protocol.Debugger.PausedEventReason.EventListener */) {\n            const eventNameForUI = DebuggerPausedMessage.#findEventNameForUi(details.auxData);\n            messageWrapper = buildWrapper(i18nString(UIStrings.pausedOnEventListener), eventNameForUI);\n        }\n        else if (details.reason === \"XHR\" /* Protocol.Debugger.PausedEventReason.XHR */) {\n            const auxData = details.auxData;\n            messageWrapper = buildWrapper(i18nString(UIStrings.pausedOnXhrOrFetch), auxData.url || '');\n        }\n        else if (details.reason === \"exception\" /* Protocol.Debugger.PausedEventReason.Exception */) {\n            const auxData = details.auxData;\n            const description = auxData.description || auxData.value || '';\n            const descriptionWithoutStack = DebuggerPausedMessage.descriptionWithoutStack(description);\n            messageWrapper = buildWrapper(i18nString(UIStrings.pausedOnException), descriptionWithoutStack, description);\n        }\n        else if (details.reason === \"promiseRejection\" /* Protocol.Debugger.PausedEventReason.PromiseRejection */) {\n            const auxData = details.auxData;\n            const description = auxData.description || auxData.value || '';\n            const descriptionWithoutStack = DebuggerPausedMessage.descriptionWithoutStack(description);\n            messageWrapper =\n                buildWrapper(i18nString(UIStrings.pausedOnPromiseRejection), descriptionWithoutStack, description);\n        }\n        else if (details.reason === \"assert\" /* Protocol.Debugger.PausedEventReason.Assert */) {\n            messageWrapper = buildWrapper(i18nString(UIStrings.pausedOnAssertion));\n        }\n        else if (details.reason === \"debugCommand\" /* Protocol.Debugger.PausedEventReason.DebugCommand */) {\n            messageWrapper = buildWrapper(i18nString(UIStrings.pausedOnDebuggedFunction));\n        }\n        else if (details.reason === \"OOM\" /* Protocol.Debugger.PausedEventReason.OOM */) {\n            messageWrapper = buildWrapper(i18nString(UIStrings.pausedBeforePotentialOutofmemory));\n        }\n        else if (details.reason === \"CSPViolation\" /* Protocol.Debugger.PausedEventReason.CSPViolation */ && details.auxData &&\n            details.auxData['violationType']) {\n            const text = details.auxData['violationType'];\n            if (text === \"trustedtype-sink-violation\" /* Protocol.DOMDebugger.CSPViolationType.TrustedtypeSinkViolation */) {\n                messageWrapper =\n                    buildWrapper(i18nString(UIStrings.pausedOnCspViolation), i18nString(UIStrings.trustedTypeSinkViolation));\n            }\n            else if (text === \"trustedtype-policy-violation\" /* Protocol.DOMDebugger.CSPViolationType.TrustedtypePolicyViolation */) {\n                messageWrapper =\n                    buildWrapper(i18nString(UIStrings.pausedOnCspViolation), i18nString(UIStrings.trustedTypePolicyViolation));\n            }\n        }\n        else if (details.callFrames.length) {\n            const uiLocation = await debuggerWorkspaceBinding.rawLocationToUILocation(details.callFrames[0].location());\n            const breakpoint = uiLocation ? breakpointManager.findBreakpoint(uiLocation) : null;\n            const defaultText = breakpoint ? i18nString(UIStrings.pausedOnBreakpoint) : i18nString(UIStrings.debuggerPaused);\n            messageWrapper = buildWrapper(defaultText);\n        }\n        else {\n            console.warn('ScriptsPanel paused, but callFrames.length is zero.'); // TODO remove this once we understand this case better\n        }\n        status.classList.toggle('error-reason', errorLike);\n        if (messageWrapper) {\n            status.appendChild(messageWrapper);\n        }\n        function buildWrapper(mainText, subText, title) {\n            const messageWrapper = document.createElement('span');\n            const mainElement = messageWrapper.createChild('div', 'status-main');\n            const mainIcon = new IconButton.Icon.Icon();\n            mainIcon.data = {\n                iconName: errorLike ? 'cross-circle-filled' : 'info',\n                color: errorLike ? 'var(--icon-error)' : 'var(--sys-color-on-yellow-container)',\n                width: '16px',\n                height: '16px',\n            };\n            mainElement.appendChild(mainIcon);\n            mainElement.appendChild(document.createTextNode(mainText));\n            if (subText) {\n                const subElement = messageWrapper.createChild('div', 'status-sub monospace');\n                subElement.textContent = subText;\n                UI.Tooltip.Tooltip.install(subElement, title || subText);\n            }\n            return messageWrapper;\n        }\n    }\n}\nexport const BreakpointTypeNouns = new Map([\n    [\"subtree-modified\" /* Protocol.DOMDebugger.DOMBreakpointType.SubtreeModified */, i18nLazyString(UIStrings.subtreeModifications)],\n    [\"attribute-modified\" /* Protocol.DOMDebugger.DOMBreakpointType.AttributeModified */, i18nLazyString(UIStrings.attributeModifications)],\n    [\"node-removed\" /* Protocol.DOMDebugger.DOMBreakpointType.NodeRemoved */, i18nLazyString(UIStrings.nodeRemoval)],\n]);\n//# sourceMappingURL=DebuggerPausedMessage.js.map","// Copyright 2024 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n// IMPORTANT: this file is auto generated. Please do not edit this file.\n/* istanbul ignore file */\nconst styles = new CSSStyleSheet();\nstyles.replaceSync(\n`/*\n * Copyright (C) 2006, 2007, 2008 Apple Inc.  All rights reserved.\n * Copyright (C) 2009 Anthony Ricaud <rik@webkit.org>\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions\n * are met:\n *\n * 1.  Redistributions of source code must retain the above copyright\n *     notice, this list of conditions and the following disclaimer.\n * 2.  Redistributions in binary form must reproduce the above copyright\n *     notice, this list of conditions and the following disclaimer in the\n *     documentation and/or other materials provided with the distribution.\n * 3.  Neither the name of Apple Computer, Inc. (\"Apple\") nor the names of\n *     its contributors may be used to endorse or promote products derived\n *     from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY APPLE AND ITS CONTRIBUTORS \"AS IS\" AND ANY\n * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL APPLE OR ITS CONTRIBUTORS BE LIABLE FOR ANY\n * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF\n * THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n.is-ignore-listed {\n  .tree-element-title,\n  .leading-icons {\n    opacity: 40%;\n  }\n}\n\n.tree-outline li {\n  min-height: 20px;\n}\n\n.tree-outline li:hover:not(.selected) .selection {\n  display: block;\n  background-color: var(--sys-color-state-hover-on-subtle);\n}\n\n.navigator-fs-folder-tree-item devtools-icon {\n  color: var(--icon-folder-workspace);\n}\n\n.navigator-fs-tree-item devtools-icon {\n  color: var(--icon-file-authored);\n}\n\n.navigator-nw-folder-tree-item devtools-icon {\n  color: var(--icon-folder-deployed);\n}\n\n.navigator-sm-script-tree-item devtools-icon,\n.navigator-script-tree-item devtools-icon,\n.navigator-snippet-tree-item devtools-icon {\n  color: var(--icon-file-script);\n}\n\n.navigator-file-tree-item .ai-button-container {\n  display: none;\n  position: absolute;\n  z-index: 999;\n  right: var(--sys-size-3);\n}\n\n.navigator-file-tree-item:hover .ai-button-container {\n  display: inline-flex;\n}\n\n.navigator-file-tree-item devtools-icon.dot::before {\n  width: 7px;\n  height: 7px;\n  top: 12px;\n  left: 11px;\n}\n\n.navigator-file-tree-item:hover:not(.force-white-icons) devtools-icon.dot::before {\n  outline-color: var(--icon-gap-hover);\n}\n\n.navigator-file-tree-item.selected:not(.force-white-icons) devtools-icon.dot::before {\n  outline-color: var(--icon-gap-inactive);\n}\n\n.navigator-file-tree-item.selected.force-white-icons devtools-icon.dot::before {\n  outline-color: var(--icon-gap-focus-selected);\n}\n\n.navigator-sm-stylesheet-tree-item devtools-icon,\n.navigator-stylesheet-tree-item devtools-icon {\n  color: var(--icon-file-styles);\n}\n\n.navigator-image-tree-item devtools-icon,\n.navigator-font-tree-item devtools-icon {\n  color: var(--icon-file-image);\n}\n\n.navigator-nw-folder-tree-item.is-from-source-map devtools-icon {\n  color: var(--icon-folder-authored);\n}\n\n.navigator-fs-tree-item:not(.has-mapped-files):not(.selected) > :not(.selection),\n.navigator-fs-folder-tree-item:not(.has-mapped-files):not(.selected) > :not(.selection) {\n  color: var(--sys-color-on-surface-subtle);\n  opacity: 40%;\n\n  & devtools-icon {\n    color: var(--sys-color-on-surface-subtle);\n  }\n}\n\n.tree-outline:not(:has(.navigator-deployed-tree-item)) .navigator-sm-folder-tree-item .tree-element-title,\n.tree-outline:not(:has(.navigator-deployed-tree-item)) .navigator-sm-script-tree-item .tree-element-title,\n.tree-outline:not(:has(.navigator-deployed-tree-item)) .navigator-sm-stylesheet-tree-item .tree-element-title {\n  font-style: italic;\n}\n\n@media (forced-colors: active) {\n  .tree-outline li .leading-icons devtools-icon {\n    color: ButtonText;\n  }\n\n  .tree-outline li:hover:not(.selected) .selection,\n  .tree-outline li:hover:not(:has(span[is=\"dt-checkbox\"])) .selection {\n    forced-color-adjust: none;\n    background-color: Highlight;\n  }\n\n  .tree-outline:not(.hide-selection-when-blurred) li.parent:hover:not(.selected)::before {\n    background-color: HighlightText;\n  }\n\n  .tree-outline:not(.hide-selection-when-blurred) li:hover:not(.selected) devtools-icon,\n  .tree-outline li:not(.selected):hover .tree-element-title {\n    forced-color-adjust: none;\n    color: HighlightText;\n  }\n\n  .navigator-fs-tree-item:not(.has-mapped-files):not(.selected) > :not(.selection),\n  .navigator-fs-folder-tree-item:not(.has-mapped-files):not(.selected) > :not(.selection),\n  .is-ignore-listed {\n    filter: none;\n    opacity: 100%;\n  }\n}\n\n/*# sourceURL=navigatorTree.css */\n`);\n\nexport default styles;\n","// Copyright 2024 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n// IMPORTANT: this file is auto generated. Please do not edit this file.\n/* istanbul ignore file */\nconst styles = new CSSStyleSheet();\nstyles.replaceSync(\n`/*\n * Copyright 2016 The Chromium Authors. All rights reserved.\n * Use of this source code is governed by a BSD-style license that can be\n * found in the LICENSE file.\n */\n\n.navigator-toolbar {\n  border-bottom: 1px solid var(--sys-color-divider);\n  padding-left: 8px;\n}\n\n/*# sourceURL=navigatorView.css */\n`);\n\nexport default styles;\n","// Copyright 2024 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n// IMPORTANT: this file is auto generated. Please do not edit this file.\n/* istanbul ignore file */\nconst styles = new CSSStyleSheet();\nstyles.replaceSync(\n`/*\n * Copyright 2016 The Chromium Authors. All rights reserved.\n * Use of this source code is governed by a BSD-style license that can be\n * found in the LICENSE file.\n */\n\n:host {\n  padding: 0;\n  margin: 0;\n  overflow-y: auto;\n}\n\n.tree-outline {\n  padding: 0;\n}\n\n.tree-outline ol {\n  padding: 0;\n}\n\n.tree-outline li {\n  height: 16px;\n}\n\nli.search-result {\n  cursor: pointer;\n  font-size: 12px;\n  margin-top: 8px;\n  padding: 2px 0 2px 4px;\n  word-wrap: normal;\n  white-space: pre;\n}\n\nli.search-result:hover {\n  background-color: var(--sys-color-state-hover-on-subtle);\n}\n\nli.search-result .search-result-file-name {\n  color: var(--sys-color-on-surface);\n  flex: 1 1;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n\nli.search-result .search-result-matches-count {\n  color: var(--sys-color-token-subtle);\n  margin: 0 8px;\n}\n\nli.search-result.expanded .search-result-matches-count {\n  display: none;\n}\n\nli.show-more-matches {\n  color: var(--sys-color-on-surface);\n  cursor: pointer;\n  margin: 8px 0 0 -4px;\n}\n\nli.show-more-matches:hover {\n  text-decoration: underline;\n}\n\nli.search-match {\n  margin: 2px 0;\n  word-wrap: normal;\n  white-space: pre;\n}\n\nli.search-match.selected:focus-visible {\n  background: var(--sys-color-tonal-container);\n}\n\nli.search-match::before {\n  display: none;\n}\n\nli.search-match .search-match-line-number {\n  color: var(--sys-color-token-subtle);\n  text-align: right;\n  vertical-align: top;\n  word-break: normal;\n  padding: 2px 4px 2px 6px;\n  margin-right: 5px;\n}\n\n.tree-outline .devtools-link {\n  text-decoration: none;\n  display: block;\n  flex: auto;\n}\n\nli.search-match .search-match-content {\n  color: var(--sys-color-on-surface);\n}\n\nol.children.expanded {\n  padding-bottom: 4px;\n}\n\nli.search-match .link-style.search-match-link {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  margin-left: 9px;\n  text-align: left;\n}\n\n.search-result-qualifier {\n  color: var(--sys-color-token-subtle);\n}\n\n.search-result-dash {\n  color: var(--sys-color-surface-variant);\n  margin: 0 4px;\n}\n\n/*# sourceURL=searchResultsPane.css */\n`);\n\nexport default styles;\n","// Copyright 2014 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\nimport * as Common from '../../core/common/common.js';\nimport * as i18n from '../../core/i18n/i18n.js';\nimport * as Platform from '../../core/platform/platform.js';\nimport * as TextUtils from '../../models/text_utils/text_utils.js';\nimport * as Components from '../../ui/legacy/components/utils/utils.js';\nimport * as UI from '../../ui/legacy/legacy.js';\nimport searchResultsPaneStyles from './searchResultsPane.css.js';\nconst UIStrings = {\n    /**\n     *@description Accessibility label for number of matches in each file in search results pane\n     *@example {2} PH1\n     */\n    matchesCountS: 'Matches Count {PH1}',\n    /**\n     *@description Search result label for results in the Search tool\n     *@example {2} PH1\n     */\n    lineS: 'Line {PH1}',\n    /**\n     *@description Text in Search Results Pane of the Search tab\n     *@example {2} PH1\n     */\n    showDMore: 'Show {PH1} more',\n};\nconst str_ = i18n.i18n.registerUIStrings('panels/search/SearchResultsPane.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\nexport class SearchResultsPane extends UI.Widget.VBox {\n    searchConfig;\n    searchResults;\n    treeElements;\n    treeOutline;\n    matchesExpandedCount;\n    constructor(searchConfig) {\n        super(true);\n        this.searchConfig = searchConfig;\n        this.searchResults = [];\n        this.treeElements = [];\n        this.treeOutline = new UI.TreeOutline.TreeOutlineInShadow();\n        this.treeOutline.hideOverflow();\n        this.contentElement.appendChild(this.treeOutline.element);\n        this.matchesExpandedCount = 0;\n    }\n    addSearchResult(searchResult) {\n        this.searchResults.push(searchResult);\n        this.addTreeElement(searchResult);\n    }\n    showAllMatches() {\n        this.treeElements.forEach(treeElement => {\n            treeElement.expand();\n            treeElement.showAllMatches();\n        });\n    }\n    collapseAllResults() {\n        this.treeElements.forEach(treeElement => {\n            treeElement.collapse();\n        });\n    }\n    addTreeElement(searchResult) {\n        const treeElement = new SearchResultsTreeElement(this.searchConfig, searchResult);\n        this.treeOutline.appendChild(treeElement);\n        if (!this.treeOutline.selectedTreeElement) {\n            treeElement.select(/* omitFocus */ true, /* selectedByUser */ true);\n        }\n        // Expand until at least a certain number of matches is expanded.\n        if (this.matchesExpandedCount < matchesExpandedByDefault) {\n            treeElement.expand();\n        }\n        this.matchesExpandedCount += searchResult.matchesCount();\n        this.treeElements.push(treeElement);\n    }\n    wasShown() {\n        super.wasShown();\n        this.treeOutline.registerCSSFiles([searchResultsPaneStyles]);\n    }\n}\nexport const matchesExpandedByDefault = 200;\nexport const matchesShownAtOnce = 20;\nexport class SearchResultsTreeElement extends UI.TreeOutline.TreeElement {\n    searchConfig;\n    searchResult;\n    initialized;\n    toggleOnClick;\n    constructor(searchConfig, searchResult) {\n        super('', true);\n        this.searchConfig = searchConfig;\n        this.searchResult = searchResult;\n        this.initialized = false;\n        this.toggleOnClick = true;\n    }\n    onexpand() {\n        if (this.initialized) {\n            return;\n        }\n        this.updateMatchesUI();\n        this.initialized = true;\n    }\n    showAllMatches() {\n        this.removeChildren();\n        this.appendSearchMatches(0, this.searchResult.matchesCount());\n    }\n    updateMatchesUI() {\n        this.removeChildren();\n        const toIndex = Math.min(this.searchResult.matchesCount(), matchesShownAtOnce);\n        if (toIndex < this.searchResult.matchesCount()) {\n            this.appendSearchMatches(0, toIndex - 1);\n            this.appendShowMoreMatchesElement(toIndex - 1);\n        }\n        else {\n            this.appendSearchMatches(0, toIndex);\n        }\n    }\n    onattach() {\n        this.updateSearchMatches();\n    }\n    updateSearchMatches() {\n        this.listItemElement.classList.add('search-result');\n        const fileNameSpan = span(this.searchResult.label(), 'search-result-file-name');\n        fileNameSpan.appendChild(span('\\u2014', 'search-result-dash'));\n        fileNameSpan.appendChild(span(this.searchResult.description(), 'search-result-qualifier'));\n        this.tooltip = this.searchResult.description();\n        this.listItemElement.appendChild(fileNameSpan);\n        const matchesCountSpan = document.createElement('span');\n        matchesCountSpan.className = 'search-result-matches-count';\n        matchesCountSpan.textContent = `${this.searchResult.matchesCount()}`;\n        UI.ARIAUtils.setLabel(matchesCountSpan, i18nString(UIStrings.matchesCountS, { PH1: this.searchResult.matchesCount() }));\n        this.listItemElement.appendChild(matchesCountSpan);\n        if (this.expanded) {\n            this.updateMatchesUI();\n        }\n        function span(text, className) {\n            const span = document.createElement('span');\n            span.className = className;\n            span.textContent = text;\n            return span;\n        }\n    }\n    appendSearchMatches(fromIndex, toIndex) {\n        const searchResult = this.searchResult;\n        const queries = this.searchConfig.queries();\n        const regexes = [];\n        for (let i = 0; i < queries.length; ++i) {\n            regexes.push(Platform.StringUtilities.createSearchRegex(queries[i], !this.searchConfig.ignoreCase(), this.searchConfig.isRegex()));\n        }\n        for (let i = fromIndex; i < toIndex; ++i) {\n            let lineContent = searchResult.matchLineContent(i);\n            let matchRanges = [];\n            // Searching in scripts and network response bodies produces one result entry per match. We can skip re-doing the\n            // search since we have the exact match range.\n            // For matches found in headers or the request URL we re-do the search to find all match ranges.\n            const column = searchResult.matchColumn(i);\n            const matchLength = searchResult.matchLength(i);\n            if (column !== undefined && matchLength !== undefined) {\n                const { matchRange, lineSegment } = lineSegmentForMatch(lineContent, new TextUtils.TextRange.SourceRange(column, matchLength));\n                lineContent = lineSegment;\n                matchRanges = [matchRange];\n            }\n            else {\n                lineContent = lineContent.trim();\n                for (let j = 0; j < regexes.length; ++j) {\n                    matchRanges = matchRanges.concat(this.regexMatchRanges(lineContent, regexes[j]));\n                }\n                ({ lineSegment: lineContent, matchRanges } = lineSegmentForMultipleMatches(lineContent, matchRanges));\n            }\n            const anchor = Components.Linkifier.Linkifier.linkifyRevealable(searchResult.matchRevealable(i), '', undefined, undefined, undefined, 'search-match');\n            anchor.classList.add('search-match-link');\n            anchor.tabIndex = 0;\n            const labelSpan = document.createElement('span');\n            labelSpan.classList.add('search-match-line-number');\n            const resultLabel = searchResult.matchLabel(i);\n            labelSpan.textContent = resultLabel;\n            if (typeof resultLabel === 'number' && !isNaN(resultLabel)) {\n                UI.ARIAUtils.setLabel(labelSpan, i18nString(UIStrings.lineS, { PH1: resultLabel }));\n            }\n            else {\n                UI.ARIAUtils.setLabel(labelSpan, resultLabel);\n            }\n            anchor.appendChild(labelSpan);\n            const contentSpan = this.createContentSpan(lineContent, matchRanges);\n            anchor.appendChild(contentSpan);\n            const searchMatchElement = new UI.TreeOutline.TreeElement();\n            this.appendChild(searchMatchElement);\n            searchMatchElement.listItemElement.className = 'search-match';\n            searchMatchElement.listItemElement.appendChild(anchor);\n            searchMatchElement.listItemElement.addEventListener('keydown', event => {\n                if (event.key === 'Enter') {\n                    event.consume(true);\n                    void Common.Revealer.reveal(searchResult.matchRevealable(i));\n                }\n            });\n            searchMatchElement.tooltip = lineContent;\n        }\n    }\n    appendShowMoreMatchesElement(startMatchIndex) {\n        const matchesLeftCount = this.searchResult.matchesCount() - startMatchIndex;\n        const showMoreMatchesText = i18nString(UIStrings.showDMore, { PH1: matchesLeftCount });\n        const showMoreMatchesTreeElement = new UI.TreeOutline.TreeElement(showMoreMatchesText);\n        this.appendChild(showMoreMatchesTreeElement);\n        showMoreMatchesTreeElement.listItemElement.classList.add('show-more-matches');\n        showMoreMatchesTreeElement.onselect =\n            this.showMoreMatchesElementSelected.bind(this, showMoreMatchesTreeElement, startMatchIndex);\n    }\n    createContentSpan(lineContent, matchRanges) {\n        const contentSpan = document.createElement('span');\n        contentSpan.className = 'search-match-content';\n        contentSpan.textContent = lineContent;\n        UI.ARIAUtils.setLabel(contentSpan, `${lineContent} line`);\n        UI.UIUtils.highlightRangesWithStyleClass(contentSpan, matchRanges, 'highlighted-search-result');\n        return contentSpan;\n    }\n    regexMatchRanges(lineContent, regex) {\n        regex.lastIndex = 0;\n        let match;\n        const matchRanges = [];\n        while ((regex.lastIndex < lineContent.length) && (match = regex.exec(lineContent))) {\n            matchRanges.push(new TextUtils.TextRange.SourceRange(match.index, match[0].length));\n        }\n        return matchRanges;\n    }\n    showMoreMatchesElementSelected(showMoreMatchesTreeElement, startMatchIndex) {\n        this.removeChild(showMoreMatchesTreeElement);\n        this.appendSearchMatches(startMatchIndex, this.searchResult.matchesCount());\n        return false;\n    }\n}\nconst DEFAULT_OPTS = {\n    prefixLength: 25,\n    maxLength: 1000,\n};\n/**\n * Takes a whole line and calculates the substring we want to actually display in the UI.\n * Also returns a translated {matchRange} (the parameter is relative to {lineContent} but the\n * caller needs it relative to {lineSegment}).\n *\n * {lineContent} is modified in the following way:\n *\n *   * Whitespace is trimmed from the beginning (unless the match includes it).\n *   * We only leave {options.prefixLength} characters before the match (and add an ellipsis in\n *     case we removed anything)\n *   * Truncate the remainder to {options.maxLength} characters.\n */\nexport function lineSegmentForMatch(lineContent, range, optionsArg = DEFAULT_OPTS) {\n    const options = { ...DEFAULT_OPTS, ...optionsArg };\n    // Remove the whitespace at the beginning, but stop where the match starts.\n    const attemptedTrimmedLine = lineContent.trimStart();\n    const potentiallyRemovedWhitespaceLength = lineContent.length - attemptedTrimmedLine.length;\n    const actuallyRemovedWhitespaceLength = Math.min(range.offset, potentiallyRemovedWhitespaceLength);\n    // Apply {options.prefixLength} and {options.maxLength}.\n    const lineSegmentBegin = Math.max(actuallyRemovedWhitespaceLength, range.offset - options.prefixLength);\n    const lineSegmentEnd = Math.min(lineContent.length, lineSegmentBegin + options.maxLength);\n    const lineSegmentPrefix = lineSegmentBegin > actuallyRemovedWhitespaceLength ? '…' : '';\n    // Build the resulting line segment and match range.\n    const lineSegment = lineSegmentPrefix + lineContent.substring(lineSegmentBegin, lineSegmentEnd);\n    const rangeOffset = range.offset - lineSegmentBegin + lineSegmentPrefix.length;\n    const rangeLength = Math.min(range.length, lineSegment.length - rangeOffset);\n    const matchRange = new TextUtils.TextRange.SourceRange(rangeOffset, rangeLength);\n    return { lineSegment, matchRange };\n}\n/**\n * Takes a line and multiple match ranges and trims/cuts the line accordingly.\n * The match ranges are then adjusted to reflect the transformation.\n *\n * Ideally prefer `lineSegmentForMatch`, it can center the line on the match\n * whereas this method risks cutting matches out of the string.\n */\nfunction lineSegmentForMultipleMatches(lineContent, ranges) {\n    let trimBy = 0;\n    let matchRanges = ranges;\n    if (matchRanges.length > 0 && matchRanges[0].offset > 20) {\n        trimBy = 15;\n    }\n    let lineSegment = lineContent.substring(trimBy, 1000 + trimBy);\n    if (trimBy) {\n        matchRanges =\n            matchRanges.map(range => new TextUtils.TextRange.SourceRange(range.offset - trimBy + 1, range.length));\n        lineSegment = '…' + lineSegment;\n    }\n    return { lineSegment, matchRanges };\n}\n//# sourceMappingURL=SearchResultsPane.js.map","// Copyright 2024 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n// IMPORTANT: this file is auto generated. Please do not edit this file.\n/* istanbul ignore file */\nconst styles = new CSSStyleSheet();\nstyles.replaceSync(\n`/*\n * Copyright 2014 The Chromium Authors. All rights reserved.\n * Use of this source code is governed by a BSD-style license that can be\n * found in the LICENSE file.\n */\n\n.search-drawer-header {\n  align-items: center;\n  flex-shrink: 0;\n  overflow: hidden;\n  display: inline-flex;\n  min-width: 150px;\n\n  .search-container {\n    border-bottom: 1px solid var(--sys-color-divider);\n    display: flex;\n    height: 100%;\n    align-items: center;\n    flex-grow: 1;\n  }\n\n  .toolbar-item-search {\n    flex-grow: 1;\n    box-shadow: inset 0 0 0 2px transparent;\n    box-sizing: border-box;\n    height: var(--sys-size-9);\n    margin-left: var(--sys-size-3);\n    padding: 0 var(--sys-size-2) 0 var(--sys-size-5);\n    border-radius: 100px;\n    position: relative;\n    display: flex;\n    align-items: center;\n    background-color: var(--sys-color-cdt-base);\n\n    &:has(input:focus) {\n      box-shadow: inset 0 0 0 2px var(--sys-color-state-focus-ring);\n    }\n\n    &:has(input:hover)::before {\n      content: \"\";\n      box-sizing: inherit;\n      height: 100%;\n      width: 100%;\n      position: absolute;\n      border-radius: 100px;\n      left: 0;\n      background-color: var(--sys-color-state-hover-on-subtle);\n    }\n\n    & > devtools-icon {\n      color: var(--sys-color-on-surface-subtle);\n      width: var(--sys-size-8);\n      height: var(--sys-size-8);\n      margin-right: var(--sys-size-3);\n    }\n  }\n\n  .search-toolbar-input {\n    appearance: none;\n    color: var(--sys-color-on-surface);\n    background-color: transparent;\n    border: 0;\n    z-index: 1;\n    flex: 1;\n\n    &::placeholder {\n      color: var(--sys-color-on-surface-subtle);\n    }\n\n    &:placeholder-shown + .clear-button {\n      display: none;\n    }\n\n    &::-webkit-search-cancel-button {\n      display: none;\n    }\n  }\n}\n\n.search-toolbar {\n  background-color: var(--sys-color-cdt-base-container);\n  border-bottom: 1px solid var(--sys-color-divider);\n}\n\n.search-toolbar-summary {\n  background-color: var(--sys-color-cdt-base-container);\n  border-top: 1px solid var(--sys-color-divider);\n  padding-left: 5px;\n  flex: 0 0 19px;\n  display: flex;\n  padding-right: 5px;\n}\n\n.search-toolbar-summary .search-message {\n  padding-top: 2px;\n  padding-left: 1ex;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  overflow: hidden;\n}\n\n.search-view .search-results {\n  overflow-y: auto;\n  display: flex;\n  flex: auto;\n}\n\n.search-view .search-results > div {\n  flex: auto;\n}\n\n/*# sourceURL=searchView.css */\n`);\n\nexport default styles;\n","// Copyright 2014 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\nimport * as Common from '../../core/common/common.js';\nimport * as Host from '../../core/host/host.js';\nimport * as i18n from '../../core/i18n/i18n.js';\nimport * as Workspace from '../../models/workspace/workspace.js';\nimport * as Buttons from '../../ui/components/buttons/buttons.js';\nimport * as IconButton from '../../ui/components/icon_button/icon_button.js';\nimport * as UI from '../../ui/legacy/legacy.js';\nimport * as VisualLogging from '../../ui/visual_logging/visual_logging.js';\nimport { SearchResultsPane } from './SearchResultsPane.js';\nimport searchViewStyles from './searchView.css.js';\nconst UIStrings = {\n    /**\n     *@description Placeholder text of a search bar\n     */\n    find: 'Find',\n    /**\n     *@description Tooltip text on a toggle to enable search by matching case of the input\n     */\n    enableCaseSensitive: 'Enable case sensitive search',\n    /**\n     *@description Tooltip text on a toggle to disable search by matching case of the input\n     */\n    disableCaseSensitive: 'Disable case sensitive search',\n    /**\n     *@description Tooltip text on a toggle to enable searching with regular expression\n     */\n    enableRegularExpression: 'Enable regular expressions',\n    /**\n     *@description Tooltip text on a toggle to disable searching with regular expression\n     */\n    disableRegularExpression: 'Disable regular expressions',\n    /**\n     *@description Text to refresh the page\n     */\n    refresh: 'Refresh',\n    /**\n     *@description Tooltip text to clear the search input field\n     */\n    clearInput: 'Clear',\n    /**\n     *@description Text to clear content\n     */\n    clear: 'Clear search',\n    /**\n     *@description Search message element text content in Search View of the Search tab\n     */\n    indexing: 'Indexing…',\n    /**\n     *@description Text to indicate the searching is in progress\n     */\n    searching: 'Searching…',\n    /**\n     *@description Text in Search View of the Search tab\n     */\n    indexingInterrupted: 'Indexing interrupted.',\n    /**\n     *@description Search results message element text content in Search View of the Search tab\n     */\n    foundMatchingLineInFile: 'Found 1 matching line in 1 file.',\n    /**\n     *@description Search results message element text content in Search View of the Search tab\n     *@example {2} PH1\n     */\n    foundDMatchingLinesInFile: 'Found {PH1} matching lines in 1 file.',\n    /**\n     *@description Search results message element text content in Search View of the Search tab\n     *@example {2} PH1\n     *@example {2} PH2\n     */\n    foundDMatchingLinesInDFiles: 'Found {PH1} matching lines in {PH2} files.',\n    /**\n     *@description Search results message element text content in Search View of the Search tab\n     */\n    noMatchesFound: 'No matches found.',\n    /**\n     *@description Text in Search View of the Search tab\n     */\n    searchFinished: 'Search finished.',\n    /**\n     *@description Text in Search View of the Search tab\n     */\n    searchInterrupted: 'Search interrupted.',\n};\nconst str_ = i18n.i18n.registerUIStrings('panels/search/SearchView.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\nfunction createSearchToggleButton(iconName, jslogContext) {\n    const button = new Buttons.Button.Button();\n    button.data = {\n        variant: \"icon_toggle\" /* Buttons.Button.Variant.ICON_TOGGLE */,\n        size: \"SMALL\" /* Buttons.Button.Size.SMALL */,\n        iconName,\n        toggledIconName: iconName,\n        toggleType: \"primary-toggle\" /* Buttons.Button.ToggleType.PRIMARY */,\n        toggled: false,\n        jslogContext,\n    };\n    return button;\n}\nexport class SearchView extends UI.Widget.VBox {\n    focusOnShow;\n    isIndexing;\n    searchId;\n    searchMatchesCount;\n    searchResultsCount;\n    nonEmptySearchResultsCount;\n    searchingView;\n    notFoundView;\n    searchConfig;\n    pendingSearchConfig;\n    searchResultsPane;\n    progressIndicator;\n    visiblePane;\n    searchPanelElement;\n    searchResultsElement;\n    search;\n    matchCaseButton;\n    regexButton;\n    searchMessageElement;\n    searchProgressPlaceholderElement;\n    searchResultsMessageElement;\n    advancedSearchConfig;\n    searchScope;\n    // We throttle adding search results, otherwise we trigger DOM layout for each\n    // result added.\n    #throttler;\n    #pendingSearchResults = [];\n    constructor(settingKey, throttler) {\n        super(true);\n        this.setMinimumSize(0, 40);\n        this.focusOnShow = false;\n        this.isIndexing = false;\n        this.searchId = 1;\n        this.searchMatchesCount = 0;\n        this.searchResultsCount = 0;\n        this.nonEmptySearchResultsCount = 0;\n        this.searchingView = null;\n        this.notFoundView = null;\n        this.searchConfig = null;\n        this.pendingSearchConfig = null;\n        this.searchResultsPane = null;\n        this.progressIndicator = null;\n        this.visiblePane = null;\n        this.#throttler = throttler;\n        this.contentElement.setAttribute('jslog', `${VisualLogging.panel('search').track({ resize: true })}`);\n        this.contentElement.classList.add('search-view');\n        this.contentElement.addEventListener('keydown', event => {\n            this.onKeyDownOnPanel(event);\n        });\n        this.searchPanelElement = this.contentElement.createChild('div', 'search-drawer-header');\n        this.searchResultsElement = this.contentElement.createChild('div');\n        this.searchResultsElement.className = 'search-results';\n        const searchContainer = document.createElement('div');\n        searchContainer.classList.add('search-container');\n        const searchElements = searchContainer.createChild('div', 'toolbar-item-search');\n        const searchIcon = IconButton.Icon.create('search');\n        searchElements.appendChild(searchIcon);\n        this.search = UI.HistoryInput.HistoryInput.create();\n        this.search.addEventListener('keydown', event => {\n            this.onKeyDown(event);\n        });\n        this.search.setAttribute('jslog', `${VisualLogging.textField().track({ change: true, keydown: 'ArrowUp|ArrowDown|Enter' })}`);\n        searchElements.appendChild(this.search);\n        this.search.placeholder = i18nString(UIStrings.find);\n        this.search.setAttribute('type', 'search');\n        this.search.setAttribute('results', '0');\n        this.search.setAttribute('size', '100');\n        this.search.classList.add('search-toolbar-input');\n        UI.ARIAUtils.setLabel(this.search, this.search.placeholder);\n        const clearInputFieldButton = new Buttons.Button.Button();\n        clearInputFieldButton.data = {\n            variant: \"icon\" /* Buttons.Button.Variant.ICON */,\n            size: \"SMALL\" /* Buttons.Button.Size.SMALL */,\n            iconName: 'cross-circle-filled',\n            jslogContext: 'clear-input',\n            title: i18nString(UIStrings.clearInput),\n        };\n        clearInputFieldButton.classList.add('clear-button');\n        clearInputFieldButton.addEventListener('click', () => {\n            this.onSearchInputClear();\n        });\n        clearInputFieldButton.tabIndex = -1;\n        searchElements.appendChild(clearInputFieldButton);\n        const regexIconName = 'regular-expression';\n        this.regexButton = createSearchToggleButton(regexIconName, regexIconName);\n        this.regexButton.addEventListener('click', () => this.regexButtonToggled());\n        searchElements.appendChild(this.regexButton);\n        const matchCaseIconName = 'match-case';\n        this.matchCaseButton = createSearchToggleButton(matchCaseIconName, matchCaseIconName);\n        this.matchCaseButton.addEventListener('click', () => this.matchCaseButtonToggled());\n        searchElements.appendChild(this.matchCaseButton);\n        this.searchPanelElement.appendChild(searchContainer);\n        const toolbar = new UI.Toolbar.Toolbar('search-toolbar', this.searchPanelElement);\n        toolbar.element.setAttribute('jslog', `${VisualLogging.toolbar()}`);\n        const refreshButton = new UI.Toolbar.ToolbarButton(i18nString(UIStrings.refresh), 'refresh', undefined, 'search.refresh');\n        const clearButton = new UI.Toolbar.ToolbarButton(i18nString(UIStrings.clear), 'clear', undefined, 'search.clear');\n        toolbar.appendToolbarItem(refreshButton);\n        toolbar.appendToolbarItem(clearButton);\n        refreshButton.addEventListener(\"Click\" /* UI.Toolbar.ToolbarButton.Events.CLICK */, () => this.onAction());\n        clearButton.addEventListener(\"Click\" /* UI.Toolbar.ToolbarButton.Events.CLICK */, () => {\n            this.resetSearch();\n            this.onSearchInputClear();\n        });\n        const searchStatusBarElement = this.contentElement.createChild('div', 'search-toolbar-summary');\n        this.searchMessageElement = searchStatusBarElement.createChild('div', 'search-message');\n        this.searchProgressPlaceholderElement = searchStatusBarElement.createChild('div', 'flex-centered');\n        this.searchResultsMessageElement = searchStatusBarElement.createChild('div', 'search-message');\n        this.advancedSearchConfig = Common.Settings.Settings.instance().createLocalSetting(settingKey + '-search-config', new Workspace.SearchConfig.SearchConfig('', true, false).toPlainObject());\n        this.load();\n        this.searchScope = null;\n    }\n    regexButtonToggled() {\n        this.regexButton.title = this.regexButton.toggled ? i18nString(UIStrings.disableRegularExpression) :\n            i18nString(UIStrings.enableRegularExpression);\n    }\n    matchCaseButtonToggled() {\n        this.matchCaseButton.title = this.matchCaseButton.toggled ? i18nString(UIStrings.disableCaseSensitive) :\n            i18nString(UIStrings.enableCaseSensitive);\n    }\n    buildSearchConfig() {\n        return new Workspace.SearchConfig.SearchConfig(this.search.value, !this.matchCaseButton.toggled, this.regexButton.toggled);\n    }\n    toggle(queryCandidate, searchImmediately) {\n        this.search.value = queryCandidate;\n        if (this.isShowing()) {\n            this.focus();\n        }\n        else {\n            this.focusOnShow = true;\n        }\n        this.initScope();\n        if (searchImmediately) {\n            this.onAction();\n        }\n        else {\n            this.startIndexing();\n        }\n    }\n    createScope() {\n        throw new Error('Not implemented');\n    }\n    initScope() {\n        this.searchScope = this.createScope();\n    }\n    wasShown() {\n        if (this.focusOnShow) {\n            this.focus();\n            this.focusOnShow = false;\n        }\n        this.registerCSSFiles([searchViewStyles]);\n    }\n    onIndexingFinished() {\n        if (!this.progressIndicator) {\n            return;\n        }\n        const finished = !this.progressIndicator.isCanceled();\n        this.progressIndicator.done();\n        this.progressIndicator = null;\n        this.isIndexing = false;\n        this.searchMessageElement.textContent = finished ? '' : i18nString(UIStrings.indexingInterrupted);\n        if (!finished) {\n            this.pendingSearchConfig = null;\n        }\n        if (!this.pendingSearchConfig) {\n            return;\n        }\n        const searchConfig = this.pendingSearchConfig;\n        this.pendingSearchConfig = null;\n        this.innerStartSearch(searchConfig);\n    }\n    startIndexing() {\n        this.isIndexing = true;\n        if (this.progressIndicator) {\n            this.progressIndicator.done();\n        }\n        this.progressIndicator = new UI.ProgressIndicator.ProgressIndicator();\n        this.searchMessageElement.textContent = i18nString(UIStrings.indexing);\n        this.progressIndicator.show(this.searchProgressPlaceholderElement);\n        if (this.searchScope) {\n            this.searchScope.performIndexing(new Common.Progress.ProgressProxy(this.progressIndicator, this.onIndexingFinished.bind(this)));\n        }\n    }\n    onSearchInputClear() {\n        this.search.value = '';\n        this.save();\n        this.focus();\n    }\n    onSearchResult(searchId, searchResult) {\n        if (searchId !== this.searchId || !this.progressIndicator) {\n            return;\n        }\n        if (this.progressIndicator && this.progressIndicator.isCanceled()) {\n            this.onIndexingFinished();\n            return;\n        }\n        if (!this.searchResultsPane) {\n            this.searchResultsPane = new SearchResultsPane(this.searchConfig);\n            this.showPane(this.searchResultsPane);\n        }\n        this.#pendingSearchResults.push(searchResult);\n        void this.#throttler.schedule(async () => this.#addPendingSearchResults());\n    }\n    #addPendingSearchResults() {\n        for (const searchResult of this.#pendingSearchResults) {\n            this.addSearchResult(searchResult);\n            if (searchResult.matchesCount()) {\n                this.searchResultsPane?.addSearchResult(searchResult);\n            }\n        }\n        this.#pendingSearchResults = [];\n    }\n    onSearchFinished(searchId, finished) {\n        if (searchId !== this.searchId || !this.progressIndicator) {\n            return;\n        }\n        if (!this.searchResultsPane) {\n            this.nothingFound();\n        }\n        this.searchFinished(finished);\n        this.searchConfig = null;\n        UI.ARIAUtils.alert(this.searchMessageElement.textContent + ' ' + this.searchResultsMessageElement.textContent);\n    }\n    innerStartSearch(searchConfig) {\n        this.searchConfig = searchConfig;\n        if (this.progressIndicator) {\n            this.progressIndicator.done();\n        }\n        this.progressIndicator = new UI.ProgressIndicator.ProgressIndicator();\n        this.searchStarted(this.progressIndicator);\n        if (this.searchScope) {\n            void this.searchScope.performSearch(searchConfig, this.progressIndicator, this.onSearchResult.bind(this, this.searchId), this.onSearchFinished.bind(this, this.searchId));\n        }\n    }\n    resetSearch() {\n        this.stopSearch();\n        this.showPane(null);\n        this.searchResultsPane = null;\n        this.searchMessageElement.textContent = '';\n        this.searchResultsMessageElement.textContent = '';\n    }\n    stopSearch() {\n        if (this.progressIndicator && !this.isIndexing) {\n            this.progressIndicator.cancel();\n        }\n        if (this.searchScope) {\n            this.searchScope.stopSearch();\n        }\n        this.searchConfig = null;\n    }\n    searchStarted(progressIndicator) {\n        this.searchMatchesCount = 0;\n        this.searchResultsCount = 0;\n        this.nonEmptySearchResultsCount = 0;\n        if (!this.searchingView) {\n            this.searchingView = new UI.EmptyWidget.EmptyWidget(i18nString(UIStrings.searching));\n        }\n        this.showPane(this.searchingView);\n        this.searchMessageElement.textContent = i18nString(UIStrings.searching);\n        progressIndicator.show(this.searchProgressPlaceholderElement);\n        this.updateSearchResultsMessage();\n    }\n    updateSearchResultsMessage() {\n        if (this.searchMatchesCount && this.searchResultsCount) {\n            if (this.searchMatchesCount === 1 && this.nonEmptySearchResultsCount === 1) {\n                this.searchResultsMessageElement.textContent = i18nString(UIStrings.foundMatchingLineInFile);\n            }\n            else if (this.searchMatchesCount > 1 && this.nonEmptySearchResultsCount === 1) {\n                this.searchResultsMessageElement.textContent =\n                    i18nString(UIStrings.foundDMatchingLinesInFile, { PH1: this.searchMatchesCount });\n            }\n            else {\n                this.searchResultsMessageElement.textContent = i18nString(UIStrings.foundDMatchingLinesInDFiles, { PH1: this.searchMatchesCount, PH2: this.nonEmptySearchResultsCount });\n            }\n        }\n        else {\n            this.searchResultsMessageElement.textContent = '';\n        }\n    }\n    showPane(panel) {\n        if (this.visiblePane) {\n            this.visiblePane.detach();\n        }\n        if (panel) {\n            panel.show(this.searchResultsElement);\n        }\n        this.visiblePane = panel;\n    }\n    nothingFound() {\n        if (!this.notFoundView) {\n            this.notFoundView = new UI.EmptyWidget.EmptyWidget(i18nString(UIStrings.noMatchesFound));\n        }\n        this.showPane(this.notFoundView);\n        this.searchResultsMessageElement.textContent = i18nString(UIStrings.noMatchesFound);\n    }\n    addSearchResult(searchResult) {\n        const matchesCount = searchResult.matchesCount();\n        this.searchMatchesCount += matchesCount;\n        this.searchResultsCount++;\n        if (matchesCount) {\n            this.nonEmptySearchResultsCount++;\n        }\n        this.updateSearchResultsMessage();\n    }\n    searchFinished(finished) {\n        this.searchMessageElement.textContent =\n            finished ? i18nString(UIStrings.searchFinished) : i18nString(UIStrings.searchInterrupted);\n    }\n    focus() {\n        this.search.focus();\n        this.search.select();\n    }\n    willHide() {\n        this.stopSearch();\n    }\n    onKeyDown(event) {\n        this.save();\n        switch (event.keyCode) {\n            case UI.KeyboardShortcut.Keys.Enter.code:\n                this.onAction();\n                break;\n        }\n    }\n    /**\n     * Handles keydown event on panel itself for handling expand/collapse all shortcut\n     *\n     * We use `event.code` instead of `event.key` here to check whether the shortcut is triggered.\n     * The reason is, `event.key` is dependent on the modification keys, locale and keyboard layout.\n     * Usually it is useful when we care about the character that needs to be printed.\n     *\n     * However, our aim in here is to assign a shortcut to the physical key combination on the keyboard\n     * not on the character that the key combination prints.\n     *\n     * For example, `Cmd + [` shortcut in global shortcuts map to focusing on previous panel.\n     * In Turkish - Q keyboard layout, the key combination that triggers the shortcut prints `ğ`\n     * character. Whereas in Turkish - Q Legacy keyboard layout, the shortcut that triggers focusing\n     * on previous panel prints `[` character. So, if we use `event.key` and check\n     * whether it is `[`, we break the shortcut in Turkish - Q keyboard layout.\n     *\n     * @param event KeyboardEvent\n     */\n    onKeyDownOnPanel(event) {\n        const isMac = Host.Platform.isMac();\n        // \"Command + Alt + ]\" for Mac\n        const shouldShowAllForMac = isMac && event.metaKey && !event.ctrlKey && event.altKey && event.code === 'BracketRight';\n        // \"Ctrl + Shift + }\" for other platforms\n        const shouldShowAllForOtherPlatforms = !isMac && event.ctrlKey && !event.metaKey && event.shiftKey && event.code === 'BracketRight';\n        // \"Command + Alt + [\" for Mac\n        const shouldCollapseAllForMac = isMac && event.metaKey && !event.ctrlKey && event.altKey && event.code === 'BracketLeft';\n        // \"Command + Alt + {\" for other platforms\n        const shouldCollapseAllForOtherPlatforms = !isMac && event.ctrlKey && !event.metaKey && event.shiftKey && event.code === 'BracketLeft';\n        if (shouldShowAllForMac || shouldShowAllForOtherPlatforms) {\n            this.searchResultsPane?.showAllMatches();\n            void VisualLogging.logKeyDown(event.currentTarget, event, 'show-all-matches');\n        }\n        else if (shouldCollapseAllForMac || shouldCollapseAllForOtherPlatforms) {\n            this.searchResultsPane?.collapseAllResults();\n            void VisualLogging.logKeyDown(event.currentTarget, event, 'collapse-all-results');\n        }\n    }\n    save() {\n        this.advancedSearchConfig.set(this.buildSearchConfig().toPlainObject());\n    }\n    load() {\n        const searchConfig = Workspace.SearchConfig.SearchConfig.fromPlainObject(this.advancedSearchConfig.get());\n        this.search.value = searchConfig.query();\n        this.matchCaseButton.toggled = !searchConfig.ignoreCase();\n        this.matchCaseButtonToggled();\n        this.regexButton.toggled = searchConfig.isRegex();\n        this.regexButtonToggled();\n    }\n    onAction() {\n        const searchConfig = this.buildSearchConfig();\n        if (!searchConfig.query() || !searchConfig.query().length) {\n            return;\n        }\n        this.resetSearch();\n        ++this.searchId;\n        this.initScope();\n        if (!this.isIndexing) {\n            this.startIndexing();\n        }\n        this.pendingSearchConfig = searchConfig;\n    }\n    get throttlerForTest() {\n        return this.#throttler;\n    }\n}\n//# sourceMappingURL=SearchView.js.map","/*\n * Copyright (C) 2011 Google Inc. All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are\n * met:\n *\n *     * Redistributions of source code must retain the above copyright\n * notice, this list of conditions and the following disclaimer.\n *     * Redistributions in binary form must reproduce the above\n * copyright notice, this list of conditions and the following disclaimer\n * in the documentation and/or other materials provided with the\n * distribution.\n *     * Neither the name of Google Inc. nor the names of its\n * contributors may be used to endorse or promote products derived from\n * this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\nimport * as Common from '../../core/common/common.js';\nimport * as Platform from '../../core/platform/platform.js';\nimport * as Bindings from '../../models/bindings/bindings.js';\nimport * as Persistence from '../../models/persistence/persistence.js';\nimport * as TextUtils from '../../models/text_utils/text_utils.js';\nimport * as Workspace from '../../models/workspace/workspace.js';\nexport class SourcesSearchScope {\n    searchId;\n    searchResultCandidates;\n    searchResultCallback;\n    searchFinishedCallback;\n    searchConfig;\n    constructor() {\n        // FIXME: Add title once it is used by search controller.\n        this.searchId = 0;\n        this.searchResultCandidates = [];\n        this.searchResultCallback = null;\n        this.searchFinishedCallback = null;\n        this.searchConfig = null;\n    }\n    static filesComparator(uiSourceCode1, uiSourceCode2) {\n        if (uiSourceCode1.isDirty() && !uiSourceCode2.isDirty()) {\n            return -1;\n        }\n        if (!uiSourceCode1.isDirty() && uiSourceCode2.isDirty()) {\n            return 1;\n        }\n        const isFileSystem1 = uiSourceCode1.project().type() === Workspace.Workspace.projectTypes.FileSystem &&\n            !Persistence.Persistence.PersistenceImpl.instance().binding(uiSourceCode1);\n        const isFileSystem2 = uiSourceCode2.project().type() === Workspace.Workspace.projectTypes.FileSystem &&\n            !Persistence.Persistence.PersistenceImpl.instance().binding(uiSourceCode2);\n        if (isFileSystem1 !== isFileSystem2) {\n            return isFileSystem1 ? 1 : -1;\n        }\n        const url1 = uiSourceCode1.url();\n        const url2 = uiSourceCode2.url();\n        if (url1 && !url2) {\n            return -1;\n        }\n        if (!url1 && url2) {\n            return 1;\n        }\n        return Platform.StringUtilities.naturalOrderComparator(uiSourceCode1.fullDisplayName(), uiSourceCode2.fullDisplayName());\n    }\n    static urlComparator(uiSourceCode1, uiSourceCode2) {\n        return Platform.StringUtilities.naturalOrderComparator(uiSourceCode1.url(), uiSourceCode2.url());\n    }\n    performIndexing(progress) {\n        this.stopSearch();\n        const projects = this.projects();\n        const compositeProgress = new Common.Progress.CompositeProgress(progress);\n        for (let i = 0; i < projects.length; ++i) {\n            const project = projects[i];\n            const projectProgress = compositeProgress.createSubProgress([...project.uiSourceCodes()].length);\n            project.indexContent(projectProgress);\n        }\n    }\n    projects() {\n        const searchInAnonymousAndContentScripts = Common.Settings.Settings.instance().moduleSetting('search-in-anonymous-and-content-scripts').get();\n        return Workspace.Workspace.WorkspaceImpl.instance().projects().filter(project => {\n            if (project.type() === Workspace.Workspace.projectTypes.Service) {\n                return false;\n            }\n            if (!searchInAnonymousAndContentScripts && project.isServiceProject() &&\n                project.type() !== Workspace.Workspace.projectTypes.Formatter) {\n                return false;\n            }\n            if (!searchInAnonymousAndContentScripts && project.type() === Workspace.Workspace.projectTypes.ContentScripts) {\n                return false;\n            }\n            return true;\n        });\n    }\n    performSearch(searchConfig, progress, searchResultCallback, searchFinishedCallback) {\n        this.stopSearch();\n        this.searchResultCandidates = [];\n        this.searchResultCallback = searchResultCallback;\n        this.searchFinishedCallback = searchFinishedCallback;\n        this.searchConfig = searchConfig;\n        const promises = [];\n        const compositeProgress = new Common.Progress.CompositeProgress(progress);\n        const searchContentProgress = compositeProgress.createSubProgress();\n        const findMatchingFilesProgress = new Common.Progress.CompositeProgress(compositeProgress.createSubProgress());\n        for (const project of this.projects()) {\n            const weight = [...project.uiSourceCodes()].length;\n            const findMatchingFilesInProjectProgress = findMatchingFilesProgress.createSubProgress(weight);\n            const filesMatchingFileQuery = this.projectFilesMatchingFileQuery(project, searchConfig);\n            const promise = project\n                .findFilesMatchingSearchRequest(searchConfig, filesMatchingFileQuery, findMatchingFilesInProjectProgress)\n                .then(this.processMatchingFilesForProject.bind(this, this.searchId, project, searchConfig, filesMatchingFileQuery));\n            promises.push(promise);\n        }\n        void Promise.all(promises).then(this.processMatchingFiles.bind(this, this.searchId, searchContentProgress, this.searchFinishedCallback.bind(this, true)));\n    }\n    projectFilesMatchingFileQuery(project, searchConfig, dirtyOnly) {\n        const result = [];\n        for (const uiSourceCode of project.uiSourceCodes()) {\n            if (!uiSourceCode.contentType().isTextType()) {\n                continue;\n            }\n            if (Bindings.IgnoreListManager.IgnoreListManager.instance().isUserOrSourceMapIgnoreListedUISourceCode(uiSourceCode)) {\n                continue;\n            }\n            const binding = Persistence.Persistence.PersistenceImpl.instance().binding(uiSourceCode);\n            if (binding && binding.network === uiSourceCode) {\n                continue;\n            }\n            if (dirtyOnly && !uiSourceCode.isDirty()) {\n                continue;\n            }\n            if (searchConfig.filePathMatchesFileQuery(uiSourceCode.fullDisplayName())) {\n                result.push(uiSourceCode);\n            }\n        }\n        result.sort(SourcesSearchScope.urlComparator);\n        return result;\n    }\n    processMatchingFilesForProject(searchId, project, searchConfig, filesMatchingFileQuery, filesWithPreliminaryResult) {\n        if (searchId !== this.searchId && this.searchFinishedCallback) {\n            this.searchFinishedCallback(false);\n            return;\n        }\n        let files = [...filesWithPreliminaryResult.keys()];\n        files.sort(SourcesSearchScope.urlComparator);\n        files = Platform.ArrayUtilities.intersectOrdered(files, filesMatchingFileQuery, SourcesSearchScope.urlComparator);\n        const dirtyFiles = this.projectFilesMatchingFileQuery(project, searchConfig, true);\n        files = Platform.ArrayUtilities.mergeOrdered(files, dirtyFiles, SourcesSearchScope.urlComparator);\n        const uiSourceCodes = [];\n        for (const uiSourceCode of files) {\n            const script = Bindings.DefaultScriptMapping.DefaultScriptMapping.scriptForUISourceCode(uiSourceCode);\n            if (script && !script.isAnonymousScript()) {\n                continue;\n            }\n            uiSourceCodes.push(uiSourceCode);\n        }\n        uiSourceCodes.sort(SourcesSearchScope.filesComparator);\n        this.searchResultCandidates = Platform.ArrayUtilities.mergeOrdered(this.searchResultCandidates, uiSourceCodes, SourcesSearchScope.filesComparator);\n    }\n    processMatchingFiles(searchId, progress, callback) {\n        if (searchId !== this.searchId && this.searchFinishedCallback) {\n            this.searchFinishedCallback(false);\n            return;\n        }\n        const files = this.searchResultCandidates;\n        if (!files.length) {\n            progress.done();\n            callback();\n            return;\n        }\n        progress.setTotalWork(files.length);\n        let fileIndex = 0;\n        const maxFileContentRequests = 20;\n        let callbacksLeft = 0;\n        for (let i = 0; i < maxFileContentRequests && i < files.length; ++i) {\n            scheduleSearchInNextFileOrFinish.call(this);\n        }\n        function searchInNextFile(uiSourceCode) {\n            if (uiSourceCode.isDirty()) {\n                contentLoaded.call(this, uiSourceCode, new TextUtils.Text.Text(uiSourceCode.workingCopy()));\n            }\n            else {\n                void uiSourceCode.requestContentData().then(contentData => {\n                    contentLoaded.call(this, uiSourceCode, TextUtils.ContentData.ContentData.contentDataOrEmpty(contentData).textObj);\n                });\n            }\n        }\n        function scheduleSearchInNextFileOrFinish() {\n            if (fileIndex >= files.length) {\n                if (!callbacksLeft) {\n                    progress.done();\n                    callback();\n                    return;\n                }\n                return;\n            }\n            ++callbacksLeft;\n            const uiSourceCode = files[fileIndex++];\n            window.setTimeout(searchInNextFile.bind(this, uiSourceCode), 0);\n        }\n        function contentLoaded(uiSourceCode, content) {\n            progress.incrementWorked(1);\n            let matches = [];\n            const searchConfig = this.searchConfig;\n            const queries = searchConfig.queries();\n            if (content !== null) {\n                for (let i = 0; i < queries.length; ++i) {\n                    const nextMatches = TextUtils.TextUtils.performSearchInContent(content, queries[i], !searchConfig.ignoreCase(), searchConfig.isRegex());\n                    matches = Platform.ArrayUtilities.mergeOrdered(matches, nextMatches, TextUtils.ContentProvider.SearchMatch.comparator);\n                }\n                if (!searchConfig.queries().length) {\n                    matches = [new TextUtils.ContentProvider.SearchMatch(0, content.lineAt(0), 0, 0)];\n                }\n            }\n            if (matches && this.searchResultCallback) {\n                const searchResult = new FileBasedSearchResult(uiSourceCode, matches);\n                this.searchResultCallback(searchResult);\n            }\n            --callbacksLeft;\n            scheduleSearchInNextFileOrFinish.call(this);\n        }\n    }\n    stopSearch() {\n        ++this.searchId;\n    }\n}\nexport class FileBasedSearchResult {\n    uiSourceCode;\n    searchMatches;\n    constructor(uiSourceCode, searchMatches) {\n        this.uiSourceCode = uiSourceCode;\n        this.searchMatches = searchMatches;\n    }\n    label() {\n        return this.uiSourceCode.displayName();\n    }\n    description() {\n        return this.uiSourceCode.fullDisplayName();\n    }\n    matchesCount() {\n        return this.searchMatches.length;\n    }\n    matchLineContent(index) {\n        return this.searchMatches[index].lineContent;\n    }\n    matchRevealable(index) {\n        const { lineNumber, columnNumber, matchLength } = this.searchMatches[index];\n        const range = new TextUtils.TextRange.TextRange(lineNumber, columnNumber, lineNumber, columnNumber + matchLength);\n        return new Workspace.UISourceCode.UILocationRange(this.uiSourceCode, range);\n    }\n    matchLabel(index) {\n        return String(this.searchMatches[index].lineNumber + 1);\n    }\n    matchColumn(index) {\n        return this.searchMatches[index].columnNumber;\n    }\n    matchLength(index) {\n        return this.searchMatches[index].matchLength;\n    }\n}\n//# sourceMappingURL=SourcesSearchScope.js.map","// Copyright 2018 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\nimport * as Common from '../../core/common/common.js';\nimport * as UI from '../../ui/legacy/legacy.js';\nimport * as Search from '../search/search.js';\nimport { SourcesSearchScope } from './SourcesSearchScope.js';\nexport class SearchSources {\n    query;\n    constructor(query) {\n        this.query = query;\n    }\n}\nexport class SearchSourcesView extends Search.SearchView.SearchView {\n    constructor() {\n        super('sources', new Common.Throttler.Throttler(/* timeoutMs */ 200));\n    }\n    createScope() {\n        return new SourcesSearchScope();\n    }\n}\nexport class ActionDelegate {\n    handleAction(_context, actionId) {\n        switch (actionId) {\n            case 'sources.search': {\n                const selection = UI.InspectorView.InspectorView.instance().element.window().getSelection();\n                const query = selection ? selection.toString().replace(/\\r?\\n.*/, '') : '';\n                void Common.Revealer.reveal(new SearchSources(query));\n                return true;\n            }\n        }\n        return false;\n    }\n}\nexport class Revealer {\n    async reveal({ query }, omitFocus) {\n        const viewManager = UI.ViewManager.ViewManager.instance();\n        await viewManager.showView('sources.search-sources-tab', true, omitFocus);\n        const searchSourcesView = viewManager.materializedWidget('sources.search-sources-tab');\n        if (searchSourcesView instanceof SearchSourcesView) {\n            searchSourcesView.toggle(query);\n        }\n    }\n}\n//# sourceMappingURL=SearchSourcesView.js.map","/*\n * Copyright (C) 2012 Google Inc. All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are\n * met:\n *\n *     * Redistributions of source code must retain the above copyright\n * notice, this list of conditions and the following disclaimer.\n *     * Redistributions in binary form must reproduce the above\n * copyright notice, this list of conditions and the following disclaimer\n * in the documentation and/or other materials provided with the\n * distribution.\n *     * Neither the name of Google Inc. nor the names of its\n * contributors may be used to endorse or promote products derived from\n * this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\nimport * as Common from '../../core/common/common.js';\nimport * as Host from '../../core/host/host.js';\nimport * as i18n from '../../core/i18n/i18n.js';\nimport * as Platform from '../../core/platform/platform.js';\nimport * as Root from '../../core/root/root.js';\nimport * as SDK from '../../core/sdk/sdk.js';\nimport * as Bindings from '../../models/bindings/bindings.js';\nimport * as Persistence from '../../models/persistence/persistence.js';\nimport * as Workspace from '../../models/workspace/workspace.js';\nimport * as FloatingButton from '../../ui/components/floating_button/floating_button.js';\nimport * as IconButton from '../../ui/components/icon_button/icon_button.js';\nimport * as UI from '../../ui/legacy/legacy.js';\nimport * as VisualLogging from '../../ui/visual_logging/visual_logging.js';\nimport * as Snippets from '../snippets/snippets.js';\nimport { PanelUtils } from '../utils/utils.js';\nimport navigatorTreeStyles from './navigatorTree.css.js';\nimport navigatorViewStyles from './navigatorView.css.js';\nimport { SearchSources } from './SearchSourcesView.js';\nconst UIStrings = {\n    /**\n     *@description Text in Navigator View of the Sources panel\n     */\n    searchInFolder: 'Search in folder',\n    /**\n     *@description Search label in Navigator View of the Sources panel\n     */\n    searchInAllFiles: 'Search in all files',\n    /**\n     *@description Text in Navigator View of the Sources panel\n     */\n    noDomain: '(no domain)',\n    /**\n     *@description Text in Navigator View of the Sources panel\n     */\n    authored: 'Authored',\n    /**\n     *@description Text in Navigator View of the Sources panel\n     */\n    authoredTooltip: 'Contains original sources',\n    /**\n     *@description Text in Navigator View of the Sources panel\n     */\n    deployed: 'Deployed',\n    /**\n     *@description Text in Navigator View of the Sources panel\n     */\n    deployedTooltip: 'Contains final sources the browser sees',\n    /**\n     *@description Text in Navigator View of the Sources panel\n     */\n    areYouSureYouWantToExcludeThis: 'Are you sure you want to exclude this folder?',\n    /**\n     *@description Text in Navigator View of the Sources panel\n     */\n    areYouSureYouWantToDeleteThis: 'Are you sure you want to delete this file?',\n    /**\n     *@description A context menu item in the Navigator View of the Sources panel\n     */\n    rename: 'Rename…',\n    /**\n     *@description A context menu item in the Navigator View of the Sources panel\n     */\n    makeACopy: 'Make a copy…',\n    /**\n     *@description Text to delete something\n     */\n    delete: 'Delete',\n    /**\n     *@description A button text to confirm an action to remove a folder. This is not the same as delete. It removes the folder from UI but do not delete them.\n     */\n    remove: 'Remove',\n    /**\n     *@description Text in Navigator View of the Sources panel\n     */\n    areYouSureYouWantToDeleteFolder: 'Are you sure you want to delete this folder and its contents?',\n    /**\n     *@description Text in Navigator View of the Sources panel. A confirmation message on action to delete a folder.\n     */\n    actionCannotBeUndone: 'This action cannot be undone.',\n    /**\n     *@description A context menu item in the Navigator View of the Sources panel\n     */\n    openFolder: 'Open folder',\n    /**\n     *@description A context menu item in the Navigator View of the Sources panel\n     */\n    newFile: 'New file',\n    /**\n     *@description A context menu item in the Navigator View of the Sources panel to exclude a folder from workspace\n     */\n    excludeFolder: 'Exclude from workspace',\n    /**\n     *@description A context menu item in the Navigator View of the Sources panel\n     */\n    removeFolderFromWorkspace: 'Remove from workspace',\n    /**\n     *@description Text in Navigator View of the Sources panel\n     * @example {a-folder-name} PH1\n     */\n    areYouSureYouWantToRemoveThis: 'Remove ‘{PH1}’ from Workspace?',\n    /**\n     *@description Text in Navigator View of the Sources panel. Warning message when user remove a folder.\n     */\n    workspaceStopSyncing: 'This will stop syncing changes from DevTools to your sources.',\n    /**\n     *@description Name of an item from source map\n     *@example {compile.html} PH1\n     */\n    sFromSourceMap: '{PH1} (from source map)',\n    /**\n     *@description Name of an item that is on the ignore list\n     *@example {compile.html} PH1\n     */\n    sIgnoreListed: '{PH1} (ignore listed)',\n};\nconst str_ = i18n.i18n.registerUIStrings('panels/sources/NavigatorView.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\nexport const Types = {\n    Authored: 'authored',\n    Deployed: 'deployed',\n    Domain: 'domain',\n    File: 'file',\n    FileSystem: 'fs',\n    FileSystemFolder: 'fs-folder',\n    Frame: 'frame',\n    NetworkFolder: 'nw-folder',\n    Root: 'root',\n    Worker: 'worker',\n};\nconst TYPE_ORDERS = new Map([\n    [Types.Root, 1],\n    [Types.Authored, 1],\n    [Types.Deployed, 5],\n    [Types.Domain, 10],\n    [Types.FileSystemFolder, 1],\n    [Types.NetworkFolder, 1],\n    [Types.File, 10],\n    [Types.Frame, 70],\n    [Types.Worker, 90],\n    [Types.FileSystem, 100],\n]);\nexport class NavigatorView extends UI.Widget.VBox {\n    placeholder;\n    scriptsTree;\n    uiSourceCodeNodes;\n    subfolderNodes;\n    rootNode;\n    frameNodes;\n    authoredNode;\n    deployedNode;\n    navigatorGroupByFolderSetting;\n    navigatorGroupByAuthoredExperiment;\n    workspaceInternal;\n    groupByFrame;\n    groupByAuthored;\n    groupByDomain;\n    groupByFolder;\n    constructor(jslogContext, enableAuthoredGrouping) {\n        super(true);\n        this.placeholder = null;\n        this.scriptsTree = new UI.TreeOutline.TreeOutlineInShadow(\"NavigationTree\" /* UI.TreeOutline.TreeVariant.NAVIGATION_TREE */);\n        this.scriptsTree.hideOverflow();\n        this.scriptsTree.setComparator(NavigatorView.treeElementsCompare);\n        this.scriptsTree.setFocusable(false);\n        this.contentElement.setAttribute('jslog', `${VisualLogging.pane(jslogContext).track({ resize: true })}`);\n        this.contentElement.appendChild(this.scriptsTree.element);\n        this.setDefaultFocusedElement(this.scriptsTree.element);\n        this.uiSourceCodeNodes = new Platform.MapUtilities.Multimap();\n        this.subfolderNodes = new Map();\n        this.rootNode = new NavigatorRootTreeNode(this);\n        this.rootNode.populate();\n        this.frameNodes = new Map();\n        this.contentElement.addEventListener('contextmenu', this.handleContextMenu.bind(this), false);\n        UI.ShortcutRegistry.ShortcutRegistry.instance().addShortcutListener(this.contentElement, { 'sources.rename': this.renameShortcut.bind(this) });\n        this.navigatorGroupByFolderSetting = Common.Settings.Settings.instance().moduleSetting('navigator-group-by-folder');\n        this.navigatorGroupByFolderSetting.addChangeListener(this.groupingChanged.bind(this));\n        if (enableAuthoredGrouping) {\n            this.navigatorGroupByAuthoredExperiment = \"authored-deployed-grouping\" /* Root.Runtime.ExperimentName.AUTHORED_DEPLOYED_GROUPING */;\n        }\n        Bindings.IgnoreListManager.IgnoreListManager.instance().addChangeListener(this.ignoreListChanged.bind(this));\n        this.initGrouping();\n        Persistence.Persistence.PersistenceImpl.instance().addEventListener(Persistence.Persistence.Events.BindingCreated, this.onBindingChanged, this);\n        Persistence.Persistence.PersistenceImpl.instance().addEventListener(Persistence.Persistence.Events.BindingRemoved, this.onBindingChanged, this);\n        Persistence.NetworkPersistenceManager.NetworkPersistenceManager.instance().addEventListener(\"RequestsForHeaderOverridesFileChanged\" /* Persistence.NetworkPersistenceManager.Events.REQUEST_FOR_HEADER_OVERRIDES_FILE_CHANGED */, this.#onRequestsForHeaderOverridesFileChanged, this);\n        SDK.TargetManager.TargetManager.instance().addEventListener(\"NameChanged\" /* SDK.TargetManager.Events.NAME_CHANGED */, this.targetNameChanged, this);\n        SDK.TargetManager.TargetManager.instance().observeTargets(this);\n        this.resetWorkspace(Workspace.Workspace.WorkspaceImpl.instance());\n        this.workspaceInternal.uiSourceCodes().forEach(this.addUISourceCode.bind(this));\n        Bindings.NetworkProject.NetworkProjectManager.instance().addEventListener(\"FrameAttributionAdded\" /* Bindings.NetworkProject.Events.FRAME_ATTRIBUTION_ADDED */, this.frameAttributionAdded, this);\n        Bindings.NetworkProject.NetworkProjectManager.instance().addEventListener(\"FrameAttributionRemoved\" /* Bindings.NetworkProject.Events.FRAME_ATTRIBUTION_REMOVED */, this.frameAttributionRemoved, this);\n    }\n    static treeElementOrder(treeElement) {\n        if (boostOrderForNode.has(treeElement)) {\n            return 0;\n        }\n        const actualElement = treeElement;\n        let order = TYPE_ORDERS.get(actualElement.nodeType) || 0;\n        if (actualElement.uiSourceCode) {\n            const contentType = actualElement.uiSourceCode.contentType();\n            if (contentType.isDocument()) {\n                order += 3;\n            }\n            else if (contentType.isScript()) {\n                order += 5;\n            }\n            else if (contentType.isStyleSheet()) {\n                order += 10;\n            }\n            else {\n                order += 15;\n            }\n        }\n        return order;\n    }\n    static appendSearchItem(contextMenu, path) {\n        const searchLabel = path ? i18nString(UIStrings.searchInFolder) : i18nString(UIStrings.searchInAllFiles);\n        const searchSources = new SearchSources(path && `file:${path}`);\n        contextMenu.viewSection().appendItem(searchLabel, () => Common.Revealer.reveal(searchSources), { jslogContext: path ? 'search-in-folder' : 'search-in-all-files' });\n    }\n    static treeElementsCompare(treeElement1, treeElement2) {\n        const typeWeight1 = NavigatorView.treeElementOrder(treeElement1);\n        const typeWeight2 = NavigatorView.treeElementOrder(treeElement2);\n        if (typeWeight1 > typeWeight2) {\n            return 1;\n        }\n        if (typeWeight1 < typeWeight2) {\n            return -1;\n        }\n        return Platform.StringUtilities.naturalOrderComparator(treeElement1.titleAsText(), treeElement2.titleAsText());\n    }\n    setPlaceholder(placeholder) {\n        console.assert(!this.placeholder, 'A placeholder widget was already set');\n        this.placeholder = placeholder;\n        placeholder.show(this.contentElement, this.contentElement.firstChild);\n        updateVisibility.call(this);\n        this.scriptsTree.addEventListener(UI.TreeOutline.Events.ElementAttached, updateVisibility.bind(this));\n        this.scriptsTree.addEventListener(UI.TreeOutline.Events.ElementsDetached, updateVisibility.bind(this));\n        function updateVisibility() {\n            const showTree = this.scriptsTree.firstChild();\n            if (showTree) {\n                placeholder.hideWidget();\n            }\n            else {\n                placeholder.showWidget();\n            }\n            this.scriptsTree.element.classList.toggle('hidden', !showTree);\n        }\n    }\n    onBindingChanged(event) {\n        const binding = event.data;\n        let isFromSourceMap = false;\n        // Update UISourceCode titles.\n        const networkNodes = this.uiSourceCodeNodes.get(binding.network);\n        for (const networkNode of networkNodes) {\n            networkNode.updateTitle();\n            isFromSourceMap ||= networkNode.uiSourceCode().contentType().isFromSourceMap();\n        }\n        const fileSystemNodes = this.uiSourceCodeNodes.get(binding.fileSystem);\n        for (const fileSystemNode of fileSystemNodes) {\n            fileSystemNode.updateTitle();\n            isFromSourceMap ||= fileSystemNode.uiSourceCode().contentType().isFromSourceMap();\n        }\n        // Update folder titles.\n        const pathTokens = Persistence.FileSystemWorkspaceBinding.FileSystemWorkspaceBinding.relativePath(binding.fileSystem);\n        let folderPath = Platform.DevToolsPath.EmptyEncodedPathString;\n        for (let i = 0; i < pathTokens.length - 1; ++i) {\n            folderPath = Common.ParsedURL.ParsedURL.concatenate(folderPath, pathTokens[i]);\n            const folderId = this.folderNodeId(binding.fileSystem.project(), null, null, binding.fileSystem.origin(), isFromSourceMap, folderPath);\n            const folderNode = this.subfolderNodes.get(folderId);\n            if (folderNode) {\n                folderNode.updateTitle();\n            }\n            folderPath = Common.ParsedURL.ParsedURL.concatenate(folderPath, '/');\n        }\n        // Update fileSystem root title.\n        const fileSystemRoot = this.rootOrDeployedNode().child(binding.fileSystem.project().id());\n        if (fileSystemRoot) {\n            fileSystemRoot.updateTitle();\n        }\n    }\n    #onRequestsForHeaderOverridesFileChanged(event) {\n        const headersFileUiSourceCode = event.data;\n        const networkNodes = this.uiSourceCodeNodes.get(headersFileUiSourceCode);\n        for (const networkNode of networkNodes) {\n            networkNode.updateTitle();\n        }\n    }\n    focus() {\n        this.scriptsTree.focus();\n    }\n    /**\n     * Central place to add elements to the tree to\n     * enable focus if the tree has elements\n     */\n    appendChild(parent, child) {\n        this.scriptsTree.setFocusable(true);\n        parent.appendChild(child);\n    }\n    /**\n     * Central place to remove elements from the tree to\n     * disable focus if the tree is empty\n     */\n    removeChild(parent, child) {\n        parent.removeChild(child);\n        if (this.scriptsTree.rootElement().childCount() === 0) {\n            this.scriptsTree.setFocusable(false);\n        }\n    }\n    resetWorkspace(workspace) {\n        // Clear old event listeners first.\n        if (this.workspaceInternal) {\n            this.workspaceInternal.removeEventListener(Workspace.Workspace.Events.UISourceCodeAdded, this.uiSourceCodeAddedCallback, this);\n            this.workspaceInternal.removeEventListener(Workspace.Workspace.Events.UISourceCodeRemoved, this.uiSourceCodeRemovedCallback, this);\n            this.workspaceInternal.removeEventListener(Workspace.Workspace.Events.ProjectAdded, this.projectAddedCallback, this);\n            this.workspaceInternal.removeEventListener(Workspace.Workspace.Events.ProjectRemoved, this.projectRemovedCallback, this);\n        }\n        this.workspaceInternal = workspace;\n        this.workspaceInternal.addEventListener(Workspace.Workspace.Events.UISourceCodeAdded, this.uiSourceCodeAddedCallback, this);\n        this.workspaceInternal.addEventListener(Workspace.Workspace.Events.UISourceCodeRemoved, this.uiSourceCodeRemovedCallback, this);\n        this.workspaceInternal.addEventListener(Workspace.Workspace.Events.ProjectAdded, this.projectAddedCallback, this);\n        this.workspaceInternal.addEventListener(Workspace.Workspace.Events.ProjectRemoved, this.projectRemovedCallback, this);\n        this.workspaceInternal.projects().forEach(this.projectAdded.bind(this));\n        this.computeUniqueFileSystemProjectNames();\n    }\n    projectAddedCallback(event) {\n        const project = event.data;\n        this.projectAdded(project);\n        if (project.type() === Workspace.Workspace.projectTypes.FileSystem) {\n            this.computeUniqueFileSystemProjectNames();\n        }\n    }\n    projectRemovedCallback(event) {\n        const project = event.data;\n        this.removeProject(project);\n        if (project.type() === Workspace.Workspace.projectTypes.FileSystem) {\n            this.computeUniqueFileSystemProjectNames();\n        }\n    }\n    workspace() {\n        return this.workspaceInternal;\n    }\n    acceptProject(project) {\n        return !project.isServiceProject();\n    }\n    frameAttributionAdded(event) {\n        const { uiSourceCode } = event.data;\n        if (!this.acceptsUISourceCode(uiSourceCode)) {\n            return;\n        }\n        const addedFrame = event.data.frame;\n        // This event does not happen for UISourceCodes without initial attribution.\n        this.addUISourceCodeNode(uiSourceCode, addedFrame);\n    }\n    frameAttributionRemoved(event) {\n        const { uiSourceCode } = event.data;\n        if (!this.acceptsUISourceCode(uiSourceCode)) {\n            return;\n        }\n        const removedFrame = event.data.frame;\n        const node = Array.from(this.uiSourceCodeNodes.get(uiSourceCode)).find(node => node.frame() === removedFrame);\n        if (node) {\n            this.removeUISourceCodeNode(node);\n        }\n    }\n    acceptsUISourceCode(uiSourceCode) {\n        return this.acceptProject(uiSourceCode.project());\n    }\n    addUISourceCode(uiSourceCode) {\n        if (Root.Runtime.experiments.isEnabled(\"just-my-code\" /* Root.Runtime.ExperimentName.JUST_MY_CODE */) &&\n            Bindings.IgnoreListManager.IgnoreListManager.instance().isUserOrSourceMapIgnoreListedUISourceCode(uiSourceCode)) {\n            return;\n        }\n        if (!this.acceptsUISourceCode(uiSourceCode)) {\n            return;\n        }\n        if (uiSourceCode.isFetchXHR()) {\n            return;\n        }\n        const frames = Bindings.NetworkProject.NetworkProject.framesForUISourceCode(uiSourceCode);\n        if (frames.length) {\n            for (const frame of frames) {\n                this.addUISourceCodeNode(uiSourceCode, frame);\n            }\n        }\n        else {\n            this.addUISourceCodeNode(uiSourceCode, null);\n        }\n        this.uiSourceCodeAdded(uiSourceCode);\n    }\n    addUISourceCodeNode(uiSourceCode, frame) {\n        const isFromSourceMap = uiSourceCode.contentType().isFromSourceMap();\n        let path;\n        if (uiSourceCode.project().type() === Workspace.Workspace.projectTypes.FileSystem) {\n            path =\n                Persistence.FileSystemWorkspaceBinding.FileSystemWorkspaceBinding.relativePath(uiSourceCode).slice(0, -1);\n        }\n        else {\n            path = Common.ParsedURL.ParsedURL.extractPath(uiSourceCode.url()).split('/').slice(1, -1);\n        }\n        const project = uiSourceCode.project();\n        const target = Bindings.NetworkProject.NetworkProject.targetForUISourceCode(uiSourceCode);\n        const folderNode = this.folderNode(uiSourceCode, project, target, frame, uiSourceCode.origin(), path, isFromSourceMap);\n        const uiSourceCodeNode = new NavigatorUISourceCodeTreeNode(this, uiSourceCode, frame);\n        const existingNode = folderNode.child(uiSourceCodeNode.id);\n        if (existingNode && existingNode instanceof NavigatorUISourceCodeTreeNode) {\n            this.uiSourceCodeNodes.set(uiSourceCode, existingNode);\n        }\n        else {\n            folderNode.appendChild(uiSourceCodeNode);\n            this.uiSourceCodeNodes.set(uiSourceCode, uiSourceCodeNode);\n            uiSourceCodeNode.updateTitleBubbleUp();\n        }\n        this.selectDefaultTreeNode();\n    }\n    uiSourceCodeAdded(_uiSourceCode) {\n    }\n    uiSourceCodeAddedCallback(event) {\n        const uiSourceCode = event.data;\n        this.addUISourceCode(uiSourceCode);\n    }\n    uiSourceCodeRemovedCallback(event) {\n        this.removeUISourceCodes([event.data]);\n    }\n    tryAddProject(project) {\n        this.projectAdded(project);\n        for (const uiSourceCode of project.uiSourceCodes()) {\n            this.addUISourceCode(uiSourceCode);\n        }\n    }\n    projectAdded(project) {\n        const rootOrDeployed = this.rootOrDeployedNode();\n        if (!this.acceptProject(project) || project.type() !== Workspace.Workspace.projectTypes.FileSystem ||\n            Snippets.ScriptSnippetFileSystem.isSnippetsProject(project) || rootOrDeployed.child(project.id())) {\n            return;\n        }\n        rootOrDeployed.appendChild(new NavigatorGroupTreeNode(this, project, project.id(), Types.FileSystem, project.displayName()));\n        this.selectDefaultTreeNode();\n    }\n    // TODO(einbinder) remove this code after crbug.com/964075 is fixed\n    selectDefaultTreeNode() {\n        const children = this.rootNode.children();\n        if (children.length && !this.scriptsTree.selectedTreeElement) {\n            children[0].treeNode().select(true /* omitFocus */, false /* selectedByUser */);\n        }\n    }\n    computeUniqueFileSystemProjectNames() {\n        const fileSystemProjects = this.workspaceInternal.projectsForType(Workspace.Workspace.projectTypes.FileSystem);\n        if (!fileSystemProjects.length) {\n            return;\n        }\n        const reversedIndex = Common.Trie.Trie.newArrayTrie();\n        const reversedPaths = [];\n        for (const project of fileSystemProjects) {\n            const fileSystem = project;\n            const reversedPathParts = fileSystem.fileSystemPath().split('/').reverse();\n            reversedPaths.push(reversedPathParts);\n            reversedIndex.add(reversedPathParts);\n        }\n        const rootOrDeployed = this.rootOrDeployedNode();\n        for (let i = 0; i < fileSystemProjects.length; ++i) {\n            const reversedPath = reversedPaths[i];\n            const project = fileSystemProjects[i];\n            reversedIndex.remove(reversedPath);\n            const commonPrefix = reversedIndex.longestPrefix(reversedPath, false /* fullWordOnly */);\n            reversedIndex.add(reversedPath);\n            const prefixPath = reversedPath.slice(0, commonPrefix.length + 1);\n            const path = Common.ParsedURL.ParsedURL.encodedPathToRawPathString(prefixPath.reverse().join('/'));\n            const fileSystemNode = rootOrDeployed.child(project.id());\n            if (fileSystemNode) {\n                fileSystemNode.setTitle(path);\n            }\n        }\n    }\n    removeProject(project) {\n        this.removeUISourceCodes(project.uiSourceCodes());\n        if (project.type() !== Workspace.Workspace.projectTypes.FileSystem) {\n            return;\n        }\n        const fileSystemNode = this.rootNode.child(project.id());\n        if (!fileSystemNode) {\n            return;\n        }\n        this.rootNode.removeChild(fileSystemNode);\n    }\n    folderNodeId(project, target, frame, projectOrigin, isFromSourceMap, path) {\n        const projectId = project.type() === Workspace.Workspace.projectTypes.FileSystem ? project.id() : '';\n        let targetId = target && !(this.groupByAuthored && isFromSourceMap) ? target.id() : '';\n        let frameId = this.groupByFrame && frame ? frame.id : '';\n        if (this.groupByAuthored) {\n            if (isFromSourceMap) {\n                targetId = 'Authored';\n                frameId = '';\n            }\n            else {\n                targetId = 'Deployed:' + targetId;\n            }\n        }\n        return targetId + ':' + projectId + ':' + frameId + ':' + projectOrigin + ':' + path;\n    }\n    folderNode(uiSourceCode, project, target, frame, projectOrigin, path, fromSourceMap) {\n        if (Snippets.ScriptSnippetFileSystem.isSnippetsUISourceCode(uiSourceCode)) {\n            return this.rootNode;\n        }\n        if (target && !this.groupByFolder && !fromSourceMap) {\n            return this.domainNode(uiSourceCode, project, target, frame, projectOrigin);\n        }\n        const folderPath = Common.ParsedURL.ParsedURL.join(path, '/');\n        const folderId = this.folderNodeId(project, target, frame, projectOrigin, fromSourceMap, folderPath);\n        let folderNode = this.subfolderNodes.get(folderId);\n        if (folderNode) {\n            return folderNode;\n        }\n        if (!path.length) {\n            if (target) {\n                return this.domainNode(uiSourceCode, project, target, frame, projectOrigin);\n            }\n            return this.rootOrDeployedNode().child(project.id());\n        }\n        const parentNode = this.folderNode(uiSourceCode, project, target, frame, projectOrigin, path.slice(0, -1), fromSourceMap);\n        let type = Types.NetworkFolder;\n        if (project.type() === Workspace.Workspace.projectTypes.FileSystem) {\n            type = Types.FileSystemFolder;\n        }\n        const name = Common.ParsedURL.ParsedURL.encodedPathToRawPathString(path[path.length - 1]);\n        folderNode = new NavigatorFolderTreeNode(this, project, folderId, type, folderPath, name, projectOrigin);\n        this.subfolderNodes.set(folderId, folderNode);\n        parentNode.appendChild(folderNode);\n        return folderNode;\n    }\n    domainNode(uiSourceCode, project, target, frame, projectOrigin) {\n        const isAuthored = uiSourceCode.contentType().isFromSourceMap();\n        const frameNode = this.frameNode(project, target, frame, isAuthored);\n        if (!this.groupByDomain) {\n            return frameNode;\n        }\n        let domainNode = frameNode.child(projectOrigin);\n        if (domainNode) {\n            return domainNode;\n        }\n        domainNode = new NavigatorGroupTreeNode(this, project, projectOrigin, Types.Domain, this.computeProjectDisplayName(target, projectOrigin));\n        if (frame && projectOrigin === Common.ParsedURL.ParsedURL.extractOrigin(frame.url)) {\n            boostOrderForNode.add(domainNode.treeNode());\n        }\n        frameNode.appendChild(domainNode);\n        if (isAuthored && this.groupByAuthored) {\n            domainNode.treeNode().expand();\n        }\n        return domainNode;\n    }\n    frameNode(project, target, frame, isAuthored) {\n        if (!this.groupByFrame || !frame || (this.groupByAuthored && isAuthored)) {\n            return this.targetNode(project, target, isAuthored);\n        }\n        let frameNode = this.frameNodes.get(frame);\n        if (frameNode) {\n            return frameNode;\n        }\n        frameNode =\n            new NavigatorGroupTreeNode(this, project, target.id() + ':' + frame.id, Types.Frame, frame.displayName());\n        frameNode.setHoverCallback(hoverCallback);\n        this.frameNodes.set(frame, frameNode);\n        const parentFrame = frame.parentFrame();\n        this.frameNode(project, parentFrame ? parentFrame.resourceTreeModel().target() : target, parentFrame, isAuthored)\n            .appendChild(frameNode);\n        if (!parentFrame) {\n            boostOrderForNode.add(frameNode.treeNode());\n            frameNode.treeNode().expand();\n        }\n        function hoverCallback(hovered) {\n            if (hovered) {\n                const overlayModel = target.model(SDK.OverlayModel.OverlayModel);\n                if (overlayModel && frame) {\n                    overlayModel.highlightFrame(frame.id);\n                }\n            }\n            else {\n                SDK.OverlayModel.OverlayModel.hideDOMNodeHighlight();\n            }\n        }\n        return frameNode;\n    }\n    targetNode(project, target, isAuthored) {\n        if (this.groupByAuthored && isAuthored) {\n            if (!this.authoredNode) {\n                this.authoredNode = new NavigatorGroupTreeNode(this, null, 'group:Authored', Types.Authored, i18nString(UIStrings.authored), i18nString(UIStrings.authoredTooltip));\n                this.rootNode.appendChild(this.authoredNode);\n                this.authoredNode.treeNode().expand();\n            }\n            return this.authoredNode;\n        }\n        const rootOrDeployed = this.rootOrDeployedNode();\n        if (target === SDK.TargetManager.TargetManager.instance().scopeTarget()) {\n            return rootOrDeployed;\n        }\n        let targetNode = rootOrDeployed.child('target:' + target.id());\n        if (!targetNode) {\n            targetNode = new NavigatorGroupTreeNode(this, project, 'target:' + target.id(), target.type() === SDK.Target.Type.FRAME ? Types.Frame : Types.Worker, target.name());\n            rootOrDeployed.appendChild(targetNode);\n        }\n        return targetNode;\n    }\n    rootOrDeployedNode() {\n        if (this.groupByAuthored) {\n            if (!this.deployedNode) {\n                this.deployedNode = new NavigatorGroupTreeNode(this, null, 'group:Deployed', Types.Deployed, i18nString(UIStrings.deployed), i18nString(UIStrings.deployedTooltip));\n                this.rootNode.appendChild(this.deployedNode);\n            }\n            return this.deployedNode;\n        }\n        return this.rootNode;\n    }\n    computeProjectDisplayName(target, projectOrigin) {\n        const runtimeModel = target.model(SDK.RuntimeModel.RuntimeModel);\n        const executionContexts = runtimeModel ? runtimeModel.executionContexts() : [];\n        let matchingContextName = null;\n        for (const context of executionContexts) {\n            if (!context.origin || !projectOrigin.startsWith(context.origin)) {\n                continue;\n            }\n            // If the project origin matches the default context origin then we should break out and use the\n            // project origin for the display name.\n            if (context.isDefault) {\n                matchingContextName = null;\n                break;\n            }\n            if (!context.name) {\n                continue;\n            }\n            matchingContextName = context.name;\n        }\n        if (matchingContextName) {\n            return matchingContextName;\n        }\n        if (!projectOrigin) {\n            return i18nString(UIStrings.noDomain);\n        }\n        const parsedURL = new Common.ParsedURL.ParsedURL(projectOrigin);\n        const prettyURL = parsedURL.isValid ? parsedURL.host + (parsedURL.port ? (':' + parsedURL.port) : '') : '';\n        return (prettyURL || projectOrigin);\n    }\n    revealUISourceCode(uiSourceCode, select) {\n        const nodes = this.uiSourceCodeNodes.get(uiSourceCode);\n        if (nodes.size === 0) {\n            return null;\n        }\n        const node = nodes.values().next().value;\n        if (!node) {\n            return null;\n        }\n        if (this.scriptsTree.selectedTreeElement) {\n            // If the tree outline is being marked as \"being edited\" (i.e. we're renaming a file\n            // or chosing the name for a new snippet), we shall not proceed with revealing here,\n            // as that will steal focus from the input widget and thus cancel editing. The\n            // test/e2e/snippets/breakpoint_test.ts exercises this.\n            if (UI.UIUtils.isBeingEdited(this.scriptsTree.selectedTreeElement.treeOutline?.element)) {\n                return null;\n            }\n            this.scriptsTree.selectedTreeElement.deselect();\n        }\n        // TODO(dgozman): figure out revealing multiple.\n        node.reveal(select);\n        return node;\n    }\n    sourceSelected(uiSourceCode, focusSource) {\n        void Common.Revealer.reveal(uiSourceCode, !focusSource);\n    }\n    #isUISourceCodeOrAnyAncestorSelected(node) {\n        const selectedTreeElement = this.scriptsTree.selectedTreeElement;\n        const selectedNode = selectedTreeElement && selectedTreeElement.node;\n        let currentNode = node;\n        while (currentNode) {\n            if (currentNode === selectedNode) {\n                return true;\n            }\n            currentNode = currentNode.parent;\n            if (!(node instanceof NavigatorGroupTreeNode || node instanceof NavigatorFolderTreeElement)) {\n                break;\n            }\n        }\n        return false;\n    }\n    removeUISourceCodes(uiSourceCodes) {\n        const nodesWithSelectionOnPath = [];\n        // First we remove source codes without any selection on their path to root, and only then\n        // the ones with selection. This to avoid layout work associated with moving the selection\n        // around (crbug.com/1409025).\n        for (const uiSourceCode of uiSourceCodes) {\n            const nodes = this.uiSourceCodeNodes.get(uiSourceCode);\n            for (const node of nodes) {\n                if (this.#isUISourceCodeOrAnyAncestorSelected(node)) {\n                    nodesWithSelectionOnPath.push(node);\n                }\n                else {\n                    this.removeUISourceCodeNode(node);\n                }\n            }\n        }\n        nodesWithSelectionOnPath.forEach(this.removeUISourceCodeNode.bind(this));\n    }\n    removeUISourceCodeNode(node) {\n        const uiSourceCode = node.uiSourceCode();\n        this.uiSourceCodeNodes.delete(uiSourceCode, node);\n        const project = uiSourceCode.project();\n        const target = Bindings.NetworkProject.NetworkProject.targetForUISourceCode(uiSourceCode);\n        let frame = node.frame();\n        let parentNode = node.parent;\n        if (!parentNode) {\n            return;\n        }\n        parentNode.removeChild(node);\n        let currentNode = parentNode;\n        while (currentNode) {\n            parentNode = currentNode.parent;\n            if (!parentNode) {\n                break;\n            }\n            if ((parentNode === this.rootNode || parentNode === this.deployedNode) &&\n                project.type() === Workspace.Workspace.projectTypes.FileSystem) {\n                break;\n            }\n            if (!(currentNode instanceof NavigatorGroupTreeNode || currentNode instanceof NavigatorFolderTreeNode)) {\n                break;\n            }\n            if (!currentNode.isEmpty()) {\n                currentNode.updateTitleBubbleUp();\n                break;\n            }\n            if (currentNode.type === Types.Frame) {\n                this.discardFrame(frame, Boolean(this.groupByAuthored) && uiSourceCode.contentType().isFromSourceMap());\n                frame = frame.parentFrame();\n            }\n            else {\n                const folderId = this.folderNodeId(project, target, frame, uiSourceCode.origin(), uiSourceCode.contentType().isFromSourceMap(), currentNode instanceof NavigatorFolderTreeNode && currentNode.folderPath ||\n                    Platform.DevToolsPath.EmptyEncodedPathString);\n                this.subfolderNodes.delete(folderId);\n                parentNode.removeChild(currentNode);\n            }\n            if (currentNode === this.authoredNode) {\n                this.authoredNode = undefined;\n            }\n            else if (currentNode === this.deployedNode) {\n                this.deployedNode = undefined;\n            }\n            currentNode = parentNode;\n        }\n    }\n    reset(tearDownOnly) {\n        for (const node of this.uiSourceCodeNodes.valuesArray()) {\n            node.dispose();\n        }\n        this.scriptsTree.removeChildren();\n        this.scriptsTree.setFocusable(false);\n        this.uiSourceCodeNodes.clear();\n        this.subfolderNodes.clear();\n        this.frameNodes.clear();\n        this.rootNode.reset();\n        this.authoredNode = undefined;\n        this.deployedNode = undefined;\n        if (!tearDownOnly) {\n            // Reset the workspace to repopulate filesystem folders.\n            this.resetWorkspace(Workspace.Workspace.WorkspaceImpl.instance());\n        }\n    }\n    handleContextMenu(_event) {\n    }\n    async renameShortcut() {\n        const selectedTreeElement = this.scriptsTree.selectedTreeElement;\n        const node = selectedTreeElement && selectedTreeElement.node;\n        if (!node || !node.uiSourceCode() || !node.uiSourceCode().canRename()) {\n            return false;\n        }\n        this.rename(node, false);\n        return true;\n    }\n    handleContextMenuCreate(project, path, uiSourceCode) {\n        if (uiSourceCode) {\n            const relativePath = Persistence.FileSystemWorkspaceBinding.FileSystemWorkspaceBinding.relativePath(uiSourceCode);\n            relativePath.pop();\n            path = Common.ParsedURL.ParsedURL.join(relativePath, '/');\n        }\n        void this.create(project, path, uiSourceCode);\n    }\n    handleContextMenuRename(node) {\n        this.rename(node, false);\n    }\n    async handleContextMenuExclude(project, path) {\n        const shouldExclude = await UI.UIUtils.ConfirmDialog.show(i18nString(UIStrings.areYouSureYouWantToExcludeThis), undefined, { jslogContext: 'exclude-folder-confirmation' });\n        if (shouldExclude) {\n            UI.UIUtils.startBatchUpdate();\n            project.excludeFolder(Persistence.FileSystemWorkspaceBinding.FileSystemWorkspaceBinding.completeURL(project, path));\n            UI.UIUtils.endBatchUpdate();\n        }\n    }\n    async handleContextMenuDelete(uiSourceCode) {\n        const shouldDelete = await UI.UIUtils.ConfirmDialog.show(i18nString(UIStrings.areYouSureYouWantToDeleteThis), undefined, { jslogContext: 'delete-file-confirmation' });\n        if (shouldDelete) {\n            uiSourceCode.project().deleteFile(uiSourceCode);\n        }\n    }\n    handleFileContextMenu(event, node) {\n        const uiSourceCode = node.uiSourceCode();\n        const contextMenu = new UI.ContextMenu.ContextMenu(event);\n        contextMenu.appendApplicableItems(uiSourceCode);\n        const project = uiSourceCode.project();\n        if (project.type() === Workspace.Workspace.projectTypes.FileSystem) {\n            contextMenu.editSection().appendItem(i18nString(UIStrings.rename), this.handleContextMenuRename.bind(this, node), { jslogContext: 'rename' });\n            contextMenu.editSection().appendItem(i18nString(UIStrings.makeACopy), this.handleContextMenuCreate.bind(this, project, Platform.DevToolsPath.EmptyEncodedPathString, uiSourceCode), { jslogContext: 'make-a-copy' });\n            contextMenu.editSection().appendItem(i18nString(UIStrings.delete), this.handleContextMenuDelete.bind(this, uiSourceCode), { jslogContext: 'delete' });\n        }\n        void contextMenu.show();\n    }\n    async handleDeleteFolder(node) {\n        const warningMsg = `${i18nString(UIStrings.areYouSureYouWantToDeleteFolder)}\\n${i18nString(UIStrings.actionCannotBeUndone)}`;\n        const shouldRemove = await UI.UIUtils.ConfirmDialog.show(warningMsg, undefined, { jslogContext: 'delete-folder-confirmation' });\n        if (shouldRemove) {\n            Host.userMetrics.actionTaken(Host.UserMetrics.Action.OverrideTabDeleteFolderContextMenu);\n            const topNode = this.findTopNonMergedNode(node);\n            await this.removeUISourceCodeFromProject(topNode);\n            await this.deleteDirectoryRecursively(topNode);\n        }\n    }\n    async removeUISourceCodeFromProject(node) {\n        node.children().forEach(async (child) => {\n            await this.removeUISourceCodeFromProject(child);\n        });\n        if (node instanceof NavigatorUISourceCodeTreeNode) {\n            node.uiSourceCode().project().removeUISourceCode(node.uiSourceCode().url());\n        }\n    }\n    async deleteDirectoryRecursively(node) {\n        if (!(node instanceof NavigatorFolderTreeNode)) {\n            return;\n        }\n        await Persistence.NetworkPersistenceManager.NetworkPersistenceManager.instance()\n            .project()\n            ?.deleteDirectoryRecursively(node.folderPath);\n    }\n    findTopNonMergedNode(node) {\n        // multiple folder nodes can be merged into one if it only contains one file\n        // e.g. the folder of \"abc.com/assets/css/button.css\" can be \"abc.com/assets/css\"\n        // find the top non-merged node (abc.com) recursively\n        if (!node.isMerged) {\n            return node;\n        }\n        if (!(node.parent instanceof NavigatorFolderTreeNode)) {\n            return node;\n        }\n        return this.findTopNonMergedNode(node.parent);\n    }\n    handleFolderContextMenu(event, node) {\n        const path = node.folderPath || Platform.DevToolsPath.EmptyEncodedPathString;\n        const project = node.project || null;\n        const contextMenu = new UI.ContextMenu.ContextMenu(event);\n        NavigatorView.appendSearchItem(contextMenu, path);\n        if (!project) {\n            return;\n        }\n        if (project.type() === Workspace.Workspace.projectTypes.FileSystem) {\n            const folderPath = Common.ParsedURL.ParsedURL.urlToRawPathString(Persistence.FileSystemWorkspaceBinding.FileSystemWorkspaceBinding.completeURL(project, path), Host.Platform.isWin());\n            contextMenu.revealSection().appendItem(i18nString(UIStrings.openFolder), () => Host.InspectorFrontendHost.InspectorFrontendHostInstance.showItemInFolder(folderPath), { jslogContext: 'open-folder' });\n            if (project.canCreateFile()) {\n                contextMenu.defaultSection().appendItem(i18nString(UIStrings.newFile), () => {\n                    this.handleContextMenuCreate(project, path, undefined);\n                }, { jslogContext: 'new-file' });\n            }\n        }\n        else if (node.origin && node.folderPath) {\n            const url = Common.ParsedURL.ParsedURL.concatenate(node.origin, '/', node.folderPath);\n            const options = {\n                isContentScript: node.recursiveProperties.exclusivelyContentScripts || false,\n                isKnownThirdParty: node.recursiveProperties.exclusivelyThirdParty || false,\n                isCurrentlyIgnoreListed: node.recursiveProperties.exclusivelyIgnored || false,\n            };\n            for (const { text, callback, jslogContext } of Bindings.IgnoreListManager.IgnoreListManager.instance()\n                .getIgnoreListFolderContextMenuItems(url, options)) {\n                contextMenu.defaultSection().appendItem(text, callback, { jslogContext });\n            }\n        }\n        if (project.canExcludeFolder(path)) {\n            contextMenu.defaultSection().appendItem(i18nString(UIStrings.excludeFolder), this.handleContextMenuExclude.bind(this, project, path), { jslogContext: 'exclude-folder' });\n        }\n        if (project.type() === Workspace.Workspace.projectTypes.FileSystem) {\n            const isFileOverrides = project.fileSystem().type() === 'overrides';\n            if (!isFileOverrides) {\n                if (node instanceof NavigatorGroupTreeNode) {\n                    contextMenu.defaultSection().appendItem(i18nString(UIStrings.removeFolderFromWorkspace), async () => {\n                        const warningMessage = `${i18nString(UIStrings.areYouSureYouWantToRemoveThis, {\n                            PH1: node.title,\n                        })}\\n${i18nString(UIStrings.workspaceStopSyncing)}`;\n                        const shouldRemove = await UI.UIUtils.ConfirmDialog.show(warningMessage, undefined, {\n                            okButtonLabel: i18nString(UIStrings.remove),\n                            jslogContext: 'remove-folder-from-workspace-confirmation',\n                        });\n                        if (shouldRemove) {\n                            project.remove();\n                        }\n                    }, { jslogContext: 'remove-folder-from-workspace' });\n                }\n            }\n            else {\n                if (!(node instanceof NavigatorGroupTreeNode)) {\n                    contextMenu.defaultSection().appendItem(i18nString(UIStrings.delete), this.handleDeleteFolder.bind(this, node), { jslogContext: 'delete' });\n                }\n            }\n        }\n        void contextMenu.show();\n    }\n    rename(node, creatingNewUISourceCode) {\n        const uiSourceCode = node.uiSourceCode();\n        node.rename(callback.bind(this));\n        function callback(committed) {\n            if (!creatingNewUISourceCode) {\n                return;\n            }\n            if (!committed) {\n                uiSourceCode.remove();\n            }\n            else if (node.treeElement && node.treeElement.listItemElement.hasFocus()) {\n                this.sourceSelected(uiSourceCode, true);\n            }\n        }\n    }\n    async create(project, path, uiSourceCodeToCopy) {\n        let content = '';\n        if (uiSourceCodeToCopy) {\n            content = (await uiSourceCodeToCopy.requestContent()).content || '';\n        }\n        const uiSourceCode = await project.createFile(path, null, content);\n        if (!uiSourceCode) {\n            return;\n        }\n        this.sourceSelected(uiSourceCode, false);\n        const node = this.revealUISourceCode(uiSourceCode, true);\n        if (node) {\n            this.rename(node, true);\n        }\n    }\n    groupingChanged() {\n        this.reset(true);\n        this.initGrouping();\n        // Reset the workspace to repopulate filesystem folders.\n        this.resetWorkspace(Workspace.Workspace.WorkspaceImpl.instance());\n        this.workspaceInternal.uiSourceCodes().forEach(this.addUISourceCode.bind(this));\n    }\n    ignoreListChanged() {\n        if (Root.Runtime.experiments.isEnabled(\"just-my-code\" /* Root.Runtime.ExperimentName.JUST_MY_CODE */)) {\n            this.groupingChanged();\n        }\n        else {\n            this.rootNode.updateTitleRecursive();\n        }\n    }\n    initGrouping() {\n        this.groupByFrame = true;\n        this.groupByDomain = this.navigatorGroupByFolderSetting.get();\n        this.groupByFolder = this.groupByDomain;\n        if (this.navigatorGroupByAuthoredExperiment) {\n            this.groupByAuthored = Root.Runtime.experiments.isEnabled(this.navigatorGroupByAuthoredExperiment);\n        }\n        else {\n            this.groupByAuthored = false;\n        }\n    }\n    resetForTest() {\n        this.reset();\n        this.workspaceInternal.uiSourceCodes().forEach(this.addUISourceCode.bind(this));\n    }\n    discardFrame(frame, isAuthored) {\n        if (isAuthored) {\n            return;\n        }\n        const node = this.frameNodes.get(frame);\n        if (!node) {\n            return;\n        }\n        if (node.parent) {\n            node.parent.removeChild(node);\n        }\n        this.frameNodes.delete(frame);\n        for (const child of frame.childFrames) {\n            this.discardFrame(child, isAuthored);\n        }\n    }\n    targetAdded(_target) {\n    }\n    targetRemoved(target) {\n        const rootOrDeployed = this.rootOrDeployedNode();\n        const targetNode = rootOrDeployed.child('target:' + target.id());\n        if (targetNode) {\n            rootOrDeployed.removeChild(targetNode);\n        }\n    }\n    targetNameChanged(event) {\n        const target = event.data;\n        const targetNode = this.rootOrDeployedNode().child('target:' + target.id());\n        if (targetNode) {\n            targetNode.setTitle(target.name());\n        }\n    }\n    wasShown() {\n        super.wasShown();\n        this.scriptsTree.registerCSSFiles([navigatorTreeStyles]);\n        this.registerCSSFiles([navigatorViewStyles]);\n    }\n}\nconst boostOrderForNode = new WeakSet();\nexport class NavigatorFolderTreeElement extends UI.TreeOutline.TreeElement {\n    nodeType;\n    navigatorView;\n    hoverCallback;\n    node;\n    hovered;\n    isIgnoreListed;\n    isFromSourceMap;\n    constructor(navigatorView, type, title, hoverCallback) {\n        super('', true, NavigatorFolderTreeElement.#contextForType(type));\n        this.listItemElement.classList.add('navigator-' + type + '-tree-item', 'navigator-folder-tree-item');\n        UI.ARIAUtils.setLabel(this.listItemElement, `${title}, ${type}`);\n        this.nodeType = type;\n        this.title = title;\n        this.tooltip = title;\n        this.navigatorView = navigatorView;\n        this.hoverCallback = hoverCallback;\n        this.isFromSourceMap = false;\n        let iconType = 'folder';\n        if (type === Types.Domain) {\n            iconType = 'cloud';\n        }\n        else if (type === Types.Frame) {\n            iconType = 'frame';\n        }\n        else if (type === Types.Worker) {\n            iconType = 'gears';\n        }\n        else if (type === Types.Authored) {\n            iconType = 'code';\n        }\n        else if (type === Types.Deployed) {\n            iconType = 'deployed';\n        }\n        const icon = IconButton.Icon.create(iconType);\n        this.setLeadingIcons([icon]);\n    }\n    async onpopulate() {\n        this.node.populate();\n    }\n    onattach() {\n        this.collapse();\n        this.node.onattach();\n        this.listItemElement.addEventListener('contextmenu', this.handleContextMenuEvent.bind(this), false);\n        this.listItemElement.addEventListener('mousemove', this.mouseMove.bind(this), false);\n        this.listItemElement.addEventListener('mouseleave', this.mouseLeave.bind(this), false);\n    }\n    setIgnoreListed(isIgnoreListed) {\n        if (this.isIgnoreListed !== isIgnoreListed) {\n            this.isIgnoreListed = isIgnoreListed;\n            this.listItemElement.classList.toggle('is-ignore-listed', isIgnoreListed);\n            this.updateTooltip();\n        }\n    }\n    setFromSourceMap(isFromSourceMap) {\n        this.isFromSourceMap = isFromSourceMap;\n        this.listItemElement.classList.toggle('is-from-source-map', isFromSourceMap);\n    }\n    setNode(node) {\n        this.node = node;\n        this.updateTooltip();\n        UI.ARIAUtils.setLabel(this.listItemElement, `${this.title}, ${this.nodeType}`);\n    }\n    updateTooltip() {\n        if (this.node.tooltip) {\n            this.tooltip = this.node.tooltip;\n        }\n        else {\n            const paths = [];\n            let currentNode = this.node;\n            while (currentNode && !currentNode.isRoot() && currentNode.type === this.node.type) {\n                paths.push(currentNode.title);\n                currentNode = currentNode.parent;\n            }\n            paths.reverse();\n            let tooltip = paths.join('/');\n            if (this.isIgnoreListed) {\n                tooltip = i18nString(UIStrings.sIgnoreListed, { PH1: tooltip });\n            }\n            this.tooltip = tooltip;\n        }\n    }\n    handleContextMenuEvent(event) {\n        if (!this.node) {\n            return;\n        }\n        this.select();\n        this.navigatorView.handleFolderContextMenu(event, this.node);\n    }\n    mouseMove(_event) {\n        if (this.hovered || !this.hoverCallback) {\n            return;\n        }\n        this.hovered = true;\n        this.hoverCallback(true);\n    }\n    mouseLeave(_event) {\n        if (!this.hoverCallback) {\n            return;\n        }\n        this.hovered = false;\n        this.hoverCallback(false);\n    }\n    static #contextForType(type) {\n        switch (type) {\n            case Types.Domain:\n                return 'domain';\n            case Types.Frame:\n                return 'frame';\n            case Types.Worker:\n                return 'worker';\n            case Types.Authored:\n                return 'authored';\n            case Types.Deployed:\n                return 'deployed';\n        }\n        return 'folder';\n    }\n}\nexport class NavigatorSourceTreeElement extends UI.TreeOutline.TreeElement {\n    nodeType;\n    node;\n    navigatorView;\n    uiSourceCodeInternal;\n    aiButtonContainer;\n    constructor(navigatorView, uiSourceCode, title, node) {\n        super('', false, uiSourceCode.contentType().name());\n        this.nodeType = Types.File;\n        this.node = node;\n        this.title = title;\n        this.listItemElement.classList.add('navigator-' + uiSourceCode.contentType().name() + '-tree-item', 'navigator-file-tree-item');\n        this.tooltip = uiSourceCode.url();\n        UI.ARIAUtils.setLabel(this.listItemElement, `${uiSourceCode.name()}, ${this.nodeType}`);\n        Common.EventTarget.fireEvent('source-tree-file-added', uiSourceCode.fullDisplayName());\n        this.navigatorView = navigatorView;\n        this.uiSourceCodeInternal = uiSourceCode;\n        this.updateIcon();\n        this.titleElement.setAttribute('jslog', `${VisualLogging.value('title').track({ change: true })}`);\n    }\n    updateIcon() {\n        const icon = PanelUtils.getIconForSourceFile(this.uiSourceCodeInternal);\n        this.setLeadingIcons([icon]);\n    }\n    updateAccessibleName() {\n        UI.ARIAUtils.setLabel(this.listItemElement, `${this.uiSourceCodeInternal.name()}, ${this.nodeType}`);\n    }\n    createAiButton() {\n        if (!UI.ActionRegistry.ActionRegistry.instance().hasAction('drjones.sources-floating-button')) {\n            return;\n        }\n        const action = UI.ActionRegistry.ActionRegistry.instance().getAction('drjones.sources-floating-button');\n        if (!this.aiButtonContainer) {\n            this.aiButtonContainer = this.listItemElement.createChild('span', 'ai-button-container');\n            const floatingButton = new FloatingButton.FloatingButton.FloatingButton({\n                iconName: 'smart-assistant',\n            });\n            floatingButton.addEventListener('click', ev => {\n                ev.stopPropagation();\n                this.navigatorView.sourceSelected(this.uiSourceCode, false);\n                void action.execute();\n            }, { capture: true });\n            floatingButton.addEventListener('mousedown', ev => {\n                ev.stopPropagation();\n            }, { capture: true });\n            this.aiButtonContainer.appendChild(floatingButton);\n        }\n    }\n    get uiSourceCode() {\n        return this.uiSourceCodeInternal;\n    }\n    onattach() {\n        this.listItemElement.draggable = true;\n        this.listItemElement.addEventListener('click', this.onclick.bind(this), false);\n        this.listItemElement.addEventListener('contextmenu', this.handleContextMenuEvent.bind(this), false);\n        this.listItemElement.addEventListener('dragstart', this.ondragstart.bind(this), false);\n        this.createAiButton();\n    }\n    shouldRenameOnMouseDown() {\n        if (!this.uiSourceCodeInternal.canRename()) {\n            return false;\n        }\n        if (!this.treeOutline) {\n            return false;\n        }\n        const isSelected = this === this.treeOutline.selectedTreeElement;\n        return isSelected && this.treeOutline.element.hasFocus() && !UI.UIUtils.isBeingEdited(this.treeOutline.element);\n    }\n    selectOnMouseDown(event) {\n        if (event.which !== 1 || !this.shouldRenameOnMouseDown()) {\n            super.selectOnMouseDown(event);\n            return;\n        }\n        window.setTimeout(rename.bind(this), 300);\n        function rename() {\n            if (this.shouldRenameOnMouseDown()) {\n                this.navigatorView.rename(this.node, false);\n            }\n        }\n    }\n    ondragstart(event) {\n        if (!event.dataTransfer) {\n            return;\n        }\n        event.dataTransfer.setData('text/plain', this.uiSourceCodeInternal.url());\n        event.dataTransfer.effectAllowed = 'copy';\n    }\n    onspace() {\n        this.navigatorView.sourceSelected(this.uiSourceCode, true);\n        return true;\n    }\n    onclick(_event) {\n        this.navigatorView.sourceSelected(this.uiSourceCode, false);\n    }\n    ondblclick(event) {\n        const middleClick = event.button === 1;\n        this.navigatorView.sourceSelected(this.uiSourceCode, !middleClick);\n        return false;\n    }\n    onenter() {\n        this.navigatorView.sourceSelected(this.uiSourceCode, true);\n        return true;\n    }\n    ondelete() {\n        return true;\n    }\n    handleContextMenuEvent(event) {\n        this.select();\n        this.navigatorView.handleFileContextMenu(event, this.node);\n    }\n}\nexport class NavigatorTreeNode {\n    id;\n    navigatorView;\n    type;\n    childrenInternal;\n    populated;\n    isMerged;\n    parent;\n    title;\n    tooltip;\n    recursiveProperties;\n    constructor(navigatorView, id, type, tooltip) {\n        this.id = id;\n        this.navigatorView = navigatorView;\n        this.type = type;\n        this.childrenInternal = new Map();\n        this.tooltip = tooltip;\n        this.populated = false;\n        this.isMerged = false;\n        this.recursiveProperties = {\n            exclusivelySourceMapped: null,\n            exclusivelyIgnored: null,\n            exclusivelyContentScripts: null,\n            exclusivelyThirdParty: null,\n        };\n    }\n    treeNode() {\n        throw 'Not implemented';\n    }\n    dispose() {\n    }\n    updateTitle() {\n    }\n    updateTitleRecursive() {\n        for (const child of this.children()) {\n            child.updateTitleRecursive();\n        }\n        this.updateTitle();\n    }\n    updateTitleBubbleUp() {\n        this.updateTitle();\n        if (this.parent) {\n            this.parent.updateTitleBubbleUp();\n        }\n    }\n    isRoot() {\n        return false;\n    }\n    hasChildren() {\n        return true;\n    }\n    onattach() {\n    }\n    setTitle(_title) {\n        throw 'Not implemented';\n    }\n    populate() {\n        if (this.isPopulated()) {\n            return;\n        }\n        if (this.parent) {\n            this.parent.populate();\n        }\n        this.populated = true;\n        this.wasPopulated();\n    }\n    wasPopulated() {\n        const children = this.children();\n        for (let i = 0; i < children.length; ++i) {\n            this.navigatorView.appendChild(this.treeNode(), children[i].treeNode());\n        }\n    }\n    didAddChild(node) {\n        if (this.isPopulated()) {\n            this.navigatorView.appendChild(this.treeNode(), node.treeNode());\n        }\n    }\n    willRemoveChild(node) {\n        if (this.isPopulated()) {\n            this.navigatorView.removeChild(this.treeNode(), node.treeNode());\n        }\n    }\n    isPopulated() {\n        return this.populated;\n    }\n    isEmpty() {\n        return !this.childrenInternal.size;\n    }\n    children() {\n        return [...this.childrenInternal.values()];\n    }\n    child(id) {\n        return this.childrenInternal.get(id) || null;\n    }\n    appendChild(node) {\n        this.childrenInternal.set(node.id, node);\n        node.parent = this;\n        this.didAddChild(node);\n    }\n    removeChild(node) {\n        this.willRemoveChild(node);\n        this.childrenInternal.delete(node.id);\n        node.parent = null;\n        node.dispose();\n    }\n    reset() {\n        this.childrenInternal.clear();\n    }\n}\nexport class NavigatorRootTreeNode extends NavigatorTreeNode {\n    constructor(navigatorView) {\n        super(navigatorView, '', Types.Root);\n    }\n    isRoot() {\n        return true;\n    }\n    treeNode() {\n        return this.navigatorView.scriptsTree.rootElement();\n    }\n}\nexport class NavigatorUISourceCodeTreeNode extends NavigatorTreeNode {\n    uiSourceCodeInternal;\n    treeElement;\n    eventListeners;\n    frameInternal;\n    constructor(navigatorView, uiSourceCode, frame) {\n        super(navigatorView, 'UISourceCode:' + uiSourceCode.canononicalScriptId(), Types.File);\n        this.uiSourceCodeInternal = uiSourceCode;\n        this.treeElement = null;\n        this.eventListeners = [];\n        this.frameInternal = frame;\n        this.recursiveProperties.exclusivelySourceMapped = uiSourceCode.contentType().isFromSourceMap();\n        if (uiSourceCode.contentType().isScript()) {\n            // These properties affect ignore-listing menus and only matter when the UISourceCode is a script\n            this.recursiveProperties.exclusivelyThirdParty = uiSourceCode.isKnownThirdParty();\n            this.recursiveProperties.exclusivelyContentScripts =\n                uiSourceCode.project().type() === Workspace.Workspace.projectTypes.ContentScripts;\n        }\n    }\n    frame() {\n        return this.frameInternal;\n    }\n    uiSourceCode() {\n        return this.uiSourceCodeInternal;\n    }\n    treeNode() {\n        if (this.treeElement) {\n            return this.treeElement;\n        }\n        this.treeElement = new NavigatorSourceTreeElement(this.navigatorView, this.uiSourceCodeInternal, '', this);\n        this.updateTitle();\n        const updateTitleBound = this.updateTitle.bind(this, undefined);\n        this.eventListeners = [\n            this.uiSourceCodeInternal.addEventListener(Workspace.UISourceCode.Events.TitleChanged, updateTitleBound),\n            this.uiSourceCodeInternal.addEventListener(Workspace.UISourceCode.Events.WorkingCopyChanged, updateTitleBound),\n            this.uiSourceCodeInternal.addEventListener(Workspace.UISourceCode.Events.WorkingCopyCommitted, updateTitleBound),\n        ];\n        return this.treeElement;\n    }\n    updateTitle(ignoreIsDirty) {\n        const isIgnoreListed = Bindings.IgnoreListManager.IgnoreListManager.instance().isUserOrSourceMapIgnoreListedUISourceCode(this.uiSourceCodeInternal);\n        if (this.uiSourceCodeInternal.contentType().isScript() || isIgnoreListed) {\n            this.recursiveProperties.exclusivelyIgnored = isIgnoreListed;\n        }\n        if (!this.treeElement) {\n            return;\n        }\n        let titleText = this.uiSourceCodeInternal.displayName();\n        if (!ignoreIsDirty && this.uiSourceCodeInternal.isDirty()) {\n            titleText = '*' + titleText;\n        }\n        this.treeElement.title = titleText;\n        this.treeElement.updateIcon();\n        this.treeElement.listItemElement.classList.toggle('is-ignore-listed', isIgnoreListed);\n        let tooltip = this.uiSourceCodeInternal.url();\n        if (this.uiSourceCodeInternal.contentType().isFromSourceMap()) {\n            tooltip = i18nString(UIStrings.sFromSourceMap, { PH1: this.uiSourceCodeInternal.displayName() });\n        }\n        if (isIgnoreListed) {\n            tooltip = i18nString(UIStrings.sIgnoreListed, { PH1: tooltip });\n        }\n        this.treeElement.tooltip = tooltip;\n        this.treeElement.updateAccessibleName();\n        this.parent?.childrenInternal.delete(this.id);\n        this.id = 'UISourceCode:' + this.uiSourceCodeInternal.canononicalScriptId();\n        this.parent?.childrenInternal.set(this.id, this);\n    }\n    hasChildren() {\n        return false;\n    }\n    dispose() {\n        Common.EventTarget.removeEventListeners(this.eventListeners);\n    }\n    reveal(select) {\n        if (this.parent) {\n            this.parent.populate();\n            this.parent.treeNode().expand();\n        }\n        if (this.treeElement) {\n            this.treeElement.reveal(true);\n            if (select) {\n                this.treeElement.select(true);\n            }\n        }\n    }\n    rename(callback) {\n        if (!this.treeElement) {\n            return;\n        }\n        this.treeElement.listItemElement.focus();\n        if (!this.treeElement.treeOutline) {\n            return;\n        }\n        // Tree outline should be marked as edited as well as the tree element to prevent search from starting.\n        const treeOutlineElement = this.treeElement.treeOutline.element;\n        UI.UIUtils.markBeingEdited(treeOutlineElement, true);\n        function commitHandler(element, newTitle, oldTitle) {\n            if (newTitle !== oldTitle) {\n                if (this.treeElement) {\n                    this.treeElement.title = newTitle;\n                }\n                // necessary cast to RawPathString as alternative would be altering type of Config<T>\n                void this.uiSourceCodeInternal.rename(newTitle)\n                    .then(renameCallback.bind(this));\n                return;\n            }\n            afterEditing.call(this, true);\n        }\n        function renameCallback(success) {\n            if (!success) {\n                UI.UIUtils.markBeingEdited(treeOutlineElement, false);\n                this.updateTitle();\n                this.rename(callback);\n                return;\n            }\n            if (this.treeElement) {\n                const { parent } = this.treeElement;\n                if (parent) {\n                    parent.removeChild(this.treeElement);\n                    parent.appendChild(this.treeElement);\n                    this.treeElement.select();\n                }\n            }\n            afterEditing.call(this, true);\n        }\n        function afterEditing(committed) {\n            UI.UIUtils.markBeingEdited(treeOutlineElement, false);\n            this.updateTitle();\n            if (callback) {\n                callback(committed);\n            }\n        }\n        this.updateTitle(true);\n        this.treeElement.startEditingTitle(new UI.InplaceEditor.Config(commitHandler.bind(this), afterEditing.bind(this, false)));\n    }\n}\nexport class NavigatorFolderTreeNode extends NavigatorTreeNode {\n    project;\n    folderPath;\n    origin;\n    title;\n    treeElement;\n    constructor(navigatorView, project, id, type, folderPath, title, origin) {\n        super(navigatorView, id, type);\n        this.project = project;\n        this.folderPath = folderPath;\n        this.title = title;\n        this.origin = origin;\n    }\n    treeNode() {\n        if (this.treeElement) {\n            return this.treeElement;\n        }\n        this.treeElement = this.createTreeElement(this.title, this);\n        this.updateTitle();\n        return this.treeElement;\n    }\n    updateTitle() {\n        let propName;\n        for (propName in this.recursiveProperties) {\n            let propValue = null;\n            for (const child of this.children()) {\n                if (child.recursiveProperties[propName] === false) {\n                    propValue = false;\n                    break;\n                }\n                else if (child.recursiveProperties[propName]) {\n                    propValue = true;\n                }\n            }\n            this.recursiveProperties[propName] = propValue;\n        }\n        if (!this.treeElement) {\n            return;\n        }\n        this.treeElement.setFromSourceMap(this.recursiveProperties.exclusivelySourceMapped || false);\n        this.treeElement.setIgnoreListed(this.recursiveProperties.exclusivelyIgnored || false);\n        if (!this.project || this.project.type() !== Workspace.Workspace.projectTypes.FileSystem) {\n            return;\n        }\n        const absoluteFileSystemPath = Common.ParsedURL.ParsedURL.concatenate(Persistence.FileSystemWorkspaceBinding.FileSystemWorkspaceBinding.fileSystemPath(this.project.id()), '/', this.folderPath);\n        const hasMappedFiles = Persistence.Persistence.PersistenceImpl.instance().filePathHasBindings(absoluteFileSystemPath);\n        this.treeElement.listItemElement.classList.toggle('has-mapped-files', hasMappedFiles);\n    }\n    createTreeElement(title, node) {\n        const treeElement = new NavigatorFolderTreeElement(this.navigatorView, this.type, title);\n        treeElement.setNode(node);\n        return treeElement;\n    }\n    wasPopulated() {\n        // @ts-ignore These types are invalid, but removing this check causes wrong behavior\n        if (!this.treeElement || this.treeElement.node !== this) {\n            return;\n        }\n        this.addChildrenRecursive();\n    }\n    addChildrenRecursive() {\n        const children = this.children();\n        for (let i = 0; i < children.length; ++i) {\n            const child = children[i];\n            this.didAddChild(child);\n            if (child instanceof NavigatorFolderTreeNode) {\n                child.addChildrenRecursive();\n            }\n        }\n    }\n    shouldMerge(node) {\n        return this.type !== Types.Domain && node instanceof NavigatorFolderTreeNode;\n    }\n    didAddChild(node) {\n        if (!this.treeElement) {\n            return;\n        }\n        let children = this.children();\n        if (children.length === 1 && this.shouldMerge(node)) {\n            node.isMerged = true;\n            this.treeElement.title = this.treeElement.title + '/' + node.title;\n            node.treeElement = this.treeElement;\n            node.updateTitle();\n            this.treeElement.setNode(node);\n            return;\n        }\n        let oldNode;\n        if (children.length === 2) {\n            oldNode = children[0] !== node ? children[0] : children[1];\n        }\n        if (oldNode && oldNode.isMerged) {\n            oldNode.isMerged = false;\n            const mergedToNodes = [];\n            mergedToNodes.push(this);\n            let treeNode = this;\n            while (treeNode && treeNode.isMerged) {\n                treeNode = treeNode.parent;\n                if (treeNode) {\n                    mergedToNodes.push(treeNode);\n                }\n            }\n            mergedToNodes.reverse();\n            const titleText = mergedToNodes.map(node => node.title).join('/');\n            const nodes = [];\n            treeNode = oldNode;\n            do {\n                nodes.push(treeNode);\n                children = treeNode.children();\n                treeNode = children.length === 1 ? children[0] : null;\n            } while (treeNode && treeNode.isMerged);\n            if (!this.isPopulated()) {\n                this.treeElement.title = titleText;\n                this.treeElement.setNode(this);\n                for (let i = 0; i < nodes.length; ++i) {\n                    nodes[i].treeElement = null;\n                    nodes[i].isMerged = false;\n                }\n                this.updateTitle();\n                return;\n            }\n            const oldTreeElement = this.treeElement;\n            const treeElement = this.createTreeElement(titleText, this);\n            for (let i = 0; i < mergedToNodes.length; ++i) {\n                mergedToNodes[i].treeElement = treeElement;\n                mergedToNodes[i].updateTitle();\n            }\n            if (oldTreeElement.parent) {\n                this.navigatorView.appendChild(oldTreeElement.parent, treeElement);\n            }\n            oldTreeElement.setNode(nodes[nodes.length - 1]);\n            oldTreeElement.title = nodes.map(node => node.title).join('/');\n            if (oldTreeElement.parent) {\n                this.navigatorView.removeChild(oldTreeElement.parent, oldTreeElement);\n            }\n            this.navigatorView.appendChild(this.treeElement, oldTreeElement);\n            if (oldTreeElement.expanded) {\n                treeElement.expand();\n            }\n            this.updateTitle();\n        }\n        if (this.isPopulated()) {\n            this.navigatorView.appendChild(this.treeElement, node.treeNode());\n        }\n    }\n    willRemoveChild(node) {\n        const actualNode = node;\n        if (actualNode.isMerged || !this.isPopulated() || !this.treeElement || !actualNode.treeElement) {\n            return;\n        }\n        this.navigatorView.removeChild(this.treeElement, actualNode.treeElement);\n    }\n}\nexport class NavigatorGroupTreeNode extends NavigatorTreeNode {\n    project;\n    title;\n    hoverCallback;\n    treeElement;\n    constructor(navigatorView, project, id, type, title, tooltip) {\n        super(navigatorView, id, type, tooltip);\n        this.project = project;\n        this.title = title;\n        this.populate();\n    }\n    setHoverCallback(hoverCallback) {\n        this.hoverCallback = hoverCallback;\n    }\n    treeNode() {\n        if (this.treeElement) {\n            return this.treeElement;\n        }\n        this.treeElement = new NavigatorFolderTreeElement(this.navigatorView, this.type, this.title, this.hoverCallback);\n        this.treeElement.setNode(this);\n        return this.treeElement;\n    }\n    onattach() {\n        this.updateTitle();\n    }\n    updateTitle() {\n        if (!this.treeElement || !this.project || this.project.type() !== Workspace.Workspace.projectTypes.FileSystem) {\n            return;\n        }\n        const fileSystemPath = Persistence.FileSystemWorkspaceBinding.FileSystemWorkspaceBinding.fileSystemPath(this.project.id());\n        const wasActive = this.treeElement.listItemElement.classList.contains('has-mapped-files');\n        const isActive = Persistence.Persistence.PersistenceImpl.instance().filePathHasBindings(fileSystemPath);\n        if (wasActive === isActive) {\n            return;\n        }\n        this.treeElement.listItemElement.classList.toggle('has-mapped-files', isActive);\n        if (this.treeElement.childrenListElement.hasFocus()) {\n            return;\n        }\n        if (isActive) {\n            this.treeElement.expand();\n        }\n        else {\n            this.treeElement.collapse();\n        }\n    }\n    setTitle(title) {\n        this.title = title;\n        if (this.treeElement) {\n            this.treeElement.title = this.title;\n        }\n    }\n}\n//# sourceMappingURL=NavigatorView.js.map","// Copyright 2024 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n// IMPORTANT: this file is auto generated. Please do not edit this file.\n/* istanbul ignore file */\nconst styles = new CSSStyleSheet();\nstyles.replaceSync(\n`/*\n * Copyright (C) 2006, 2007, 2008 Apple Inc.  All rights reserved.\n * Copyright (C) 2009 Anthony Ricaud <rik@webkit.org>\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions\n * are met:\n *\n * 1.  Redistributions of source code must retain the above copyright\n *     notice, this list of conditions and the following disclaimer.\n * 2.  Redistributions in binary form must reproduce the above copyright\n *     notice, this list of conditions and the following disclaimer in the\n *     documentation and/or other materials provided with the distribution.\n * 3.  Neither the name of Apple Computer, Inc. (\"Apple\") nor the names of\n *     its contributors may be used to endorse or promote products derived\n *     from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY APPLE AND ITS CONTRIBUTORS \"AS IS\" AND ANY\n * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL APPLE OR ITS CONTRIBUTORS BE LIABLE FOR ANY\n * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF\n * THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n.paused-message {\n  align-self: center;\n  width: fit-content;\n}\n\n.scripts-debug-toolbar {\n  position: absolute;\n  top: 0;\n  width: 100%;\n  background-color: var(--app-color-toolbar-background);\n  border-bottom: 1px solid var(--sys-color-divider);\n  overflow: hidden;\n  z-index: 1;\n}\n\n.scripts-debug-toolbar-drawer {\n  flex: 0 0 52px;\n  transition: margin-top 0.1s ease-in-out;\n  margin-top: -26px;\n  padding-top: 25px;\n  background-color: var(--sys-color-cdt-base-container);\n  overflow: hidden;\n  white-space: nowrap;\n}\n\n.scripts-debug-toolbar-drawer.expanded {\n  margin-top: 0;\n}\n\n.scripts-debug-toolbar-drawer > [is=\"dt-checkbox\"] {\n  display: none;\n  padding-left: 3px;\n  height: 28px;\n}\n\n.scripts-debug-toolbar-drawer.expanded > [is=\"dt-checkbox\"] {\n  display: flex;\n}\n\n.cursor-auto {\n  cursor: auto;\n}\n\n.navigator-tabbed-pane {\n  background-color: var(--sys-color-cdt-base-container);\n}\n\n/*# sourceURL=sourcesPanel.css */\n`);\n\nexport default styles;\n","/*\n * Copyright (C) 2014 Google Inc. All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are\n * met:\n *\n *     * Redistributions of source code must retain the above copyright\n * notice, this list of conditions and the following disclaimer.\n *     * Redistributions in binary form must reproduce the above\n * copyright notice, this list of conditions and the following disclaimer\n * in the documentation and/or other materials provided with the\n * distribution.\n *     * Neither the name of Google Inc. nor the names of its\n * contributors may be used to endorse or promote products derived from\n * this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\nimport * as Workspace from '../../models/workspace/workspace.js';\nimport * as SourceFrame from '../../ui/legacy/components/source_frame/source_frame.js';\nexport const HistoryDepth = 20;\nexport class EditingLocationHistoryManager {\n    sourcesView;\n    entries = [];\n    current = -1;\n    revealing = false;\n    constructor(sourcesView) {\n        this.sourcesView = sourcesView;\n    }\n    trackSourceFrameCursorJumps(sourceFrame) {\n        sourceFrame.addEventListener(\"EditorUpdate\" /* SourceFrame.SourceFrame.Events.EDITOR_UPDATE */, event => this.onEditorUpdate(event.data, sourceFrame));\n    }\n    onEditorUpdate(update, sourceFrame) {\n        if (update.docChanged) {\n            this.mapEntriesFor(sourceFrame.uiSourceCode(), update.changes);\n        }\n        const prevPos = update.startState.selection.main;\n        const newPos = update.state.selection.main;\n        const isJump = !this.revealing && prevPos.anchor !== newPos.anchor && update.transactions.some(tr => {\n            return Boolean(tr.isUserEvent('select.pointer') || tr.isUserEvent('select.reveal') || tr.isUserEvent('select.search'));\n        });\n        if (isJump) {\n            this.updateCurrentState(sourceFrame.uiSourceCode(), prevPos.head);\n            if (this.entries.length > this.current + 1) {\n                this.entries.length = this.current + 1;\n            }\n            this.entries.push(new EditingLocationHistoryEntry(sourceFrame.uiSourceCode(), newPos.head));\n            this.current++;\n            if (this.entries.length > HistoryDepth) {\n                this.entries.shift();\n                this.current--;\n            }\n        }\n    }\n    updateCurrentState(uiSourceCode, position) {\n        if (!this.revealing) {\n            const top = this.current >= 0 ? this.entries[this.current] : null;\n            if (top?.matches(uiSourceCode)) {\n                top.position = position;\n            }\n        }\n    }\n    mapEntriesFor(uiSourceCode, change) {\n        for (const entry of this.entries) {\n            if (entry.matches(uiSourceCode)) {\n                entry.position = change.mapPos(entry.position);\n            }\n        }\n    }\n    reveal(entry) {\n        const uiSourceCode = Workspace.Workspace.WorkspaceImpl.instance().uiSourceCode(entry.projectId, entry.url);\n        if (uiSourceCode) {\n            this.revealing = true;\n            this.sourcesView.showSourceLocation(uiSourceCode, entry.position, false, true);\n            this.revealing = false;\n        }\n    }\n    rollback() {\n        if (this.current > 0) {\n            this.current--;\n            this.reveal(this.entries[this.current]);\n        }\n    }\n    rollover() {\n        if (this.current < this.entries.length - 1) {\n            this.current++;\n            this.reveal(this.entries[this.current]);\n        }\n    }\n    removeHistoryForSourceCode(uiSourceCode) {\n        for (let i = this.entries.length - 1; i >= 0; i--) {\n            if (this.entries[i].matches(uiSourceCode)) {\n                this.entries.splice(i, 1);\n                if (this.current >= i) {\n                    this.current--;\n                }\n            }\n        }\n    }\n}\nclass EditingLocationHistoryEntry {\n    projectId;\n    url;\n    position;\n    constructor(uiSourceCode, position) {\n        this.projectId = uiSourceCode.project().id();\n        this.url = uiSourceCode.url();\n        this.position = position;\n    }\n    matches(uiSourceCode) {\n        return this.url === uiSourceCode.url() && this.projectId === uiSourceCode.project().id();\n    }\n}\n//# sourceMappingURL=EditingLocationHistoryManager.js.map","// Copyright 2024 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n// IMPORTANT: this file is auto generated. Please do not edit this file.\n/* istanbul ignore file */\nconst styles = new CSSStyleSheet();\nstyles.replaceSync(\n`/*\n * Copyright (C) 2013 Google Inc. All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are\n * met:\n *\n *     * Redistributions of source code must retain the above copyright\n * notice, this list of conditions and the following disclaimer.\n *     * Redistributions in binary form must reproduce the above\n * copyright notice, this list of conditions and the following disclaimer\n * in the documentation and/or other materials provided with the\n * distribution.\n *     * Neither the name of Google Inc. nor the names of its\n * contributors may be used to endorse or promote products derived from\n * this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#sources-panel-sources-view {\n  --override-highlight-animation-10pc-background-color: rgb(158 54 153);\n  --override-highlight-animation-10pc-foreground-color: rgb(255 255 255);\n\n  flex: auto;\n  position: relative;\n}\n\n#sources-panel-sources-view .sources-toolbar {\n  display: flex;\n  flex: 0 0 27px;\n  background-color: var(--sys-color-cdt-base-container);\n  border-top: 1px solid var(--sys-color-divider);\n  overflow: hidden;\n  z-index: 0;\n}\n\n.sources-toolbar .toolbar {\n  cursor: default;\n}\n\n.source-frame-debugger-script {\n  --override-debugger-background-tint: rgb(255 255 194 / 50%);\n\n  background-color: var(--override-debugger-background-tint);\n}\n\n.theme-with-dark-background .source-frame-debugger-script {\n  --override-debugger-background-tint: rgb(61 61 0 / 50%);\n}\n\n/*# sourceURL=sourcesView.css */\n`);\n\nexport default styles;\n","// Copyright 2021 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\nimport * as i18n from '../../core/i18n/i18n.js';\nimport * as Platform from '../../core/platform/platform.js';\nimport * as CodeMirror from '../../third_party/codemirror.next/codemirror.next.js';\nimport * as SourceFrame from '../../ui/legacy/components/source_frame/source_frame.js';\nimport { Plugin } from './Plugin.js';\n// Defines plugins that show profiling information in the editor\n// gutter when available.\nconst UIStrings = {\n    /**\n     *@description The milisecond unit\n     */\n    ms: 'ms',\n    /**\n     *@description Unit for data size in DevTools\n     */\n    mb: 'MB',\n    /**\n     *@description A unit\n     */\n    kb: 'kB',\n};\nconst str_ = i18n.i18n.registerUIStrings('panels/sources/ProfilePlugin.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\nclass MemoryMarker extends CodeMirror.GutterMarker {\n    value;\n    constructor(value) {\n        super();\n        this.value = value;\n    }\n    eq(other) {\n        return this.value === other.value;\n    }\n    toDOM() {\n        const element = document.createElement('div');\n        element.className = 'cm-profileMarker';\n        let value = this.value;\n        const intensity = Platform.NumberUtilities.clamp(Math.log10(1 + 2e-3 * value) / 5, 0.02, 1);\n        element.style.backgroundColor = `hsla(217, 100%, 70%, ${intensity.toFixed(3)})`;\n        value /= 1e3;\n        let units;\n        let fractionDigits;\n        if (value >= 1e3) {\n            units = i18nString(UIStrings.mb);\n            value /= 1e3;\n            fractionDigits = value >= 20 ? 0 : 1;\n        }\n        else {\n            units = i18nString(UIStrings.kb);\n            fractionDigits = 0;\n        }\n        element.textContent = value.toFixed(fractionDigits);\n        const unitElement = element.appendChild(document.createElement('span'));\n        unitElement.className = 'cm-units';\n        unitElement.textContent = units;\n        return element;\n    }\n}\nclass PerformanceMarker extends CodeMirror.GutterMarker {\n    value;\n    constructor(value) {\n        super();\n        this.value = value;\n    }\n    eq(other) {\n        return this.value === other.value;\n    }\n    toDOM() {\n        const element = document.createElement('div');\n        element.className = 'cm-profileMarker';\n        const intensity = Platform.NumberUtilities.clamp(Math.log10(1 + 10 * this.value) / 5, 0.02, 1);\n        element.textContent = this.value.toFixed(1);\n        element.style.backgroundColor = `hsla(44, 100%, 50%, ${intensity.toFixed(3)})`;\n        const span = document.createElement('span');\n        span.className = 'cm-units';\n        span.textContent = i18nString(UIStrings.ms);\n        element.appendChild(span);\n        return element;\n    }\n}\nfunction markersFromProfileData(map, state, type) {\n    const markerType = type === \"performance\" /* SourceFrame.SourceFrame.DecoratorType.PERFORMANCE */ ? PerformanceMarker : MemoryMarker;\n    const markers = [];\n    for (const [line, value] of map) {\n        if (line <= state.doc.lines) {\n            const { from } = state.doc.line(line);\n            markers.push(new markerType(value).range(from));\n        }\n    }\n    return CodeMirror.RangeSet.of(markers, true);\n}\nconst makeLineLevelProfilePlugin = (type) => class extends Plugin {\n    updateEffect = CodeMirror.StateEffect.define();\n    field;\n    gutter;\n    compartment = new CodeMirror.Compartment();\n    constructor(uiSourceCode) {\n        super(uiSourceCode);\n        this.field = CodeMirror.StateField.define({\n            create() {\n                return CodeMirror.RangeSet.empty;\n            },\n            update: (markers, tr) => {\n                return tr.effects.reduce((markers, effect) => {\n                    return effect.is(this.updateEffect) ? markersFromProfileData(effect.value, tr.state, type) : markers;\n                }, markers.map(tr.changes));\n            },\n        });\n        this.gutter = CodeMirror.gutter({\n            markers: view => view.state.field(this.field),\n            class: `cm-${type}Gutter`,\n        });\n    }\n    static accepts(uiSourceCode) {\n        return uiSourceCode.contentType().hasScripts();\n    }\n    getLineMap() {\n        return this.uiSourceCode.getDecorationData(type);\n    }\n    editorExtension() {\n        const map = this.getLineMap();\n        return this.compartment.of(!map ? [] : [this.field.init(state => markersFromProfileData(map, state, type)), this.gutter, theme]);\n    }\n    decorationChanged(type, editor) {\n        const installed = Boolean(editor.state.field(this.field, false));\n        const map = this.getLineMap();\n        if (!map) {\n            if (installed) {\n                editor.dispatch({ effects: this.compartment.reconfigure([]) });\n            }\n        }\n        else if (!installed) {\n            editor.dispatch({\n                effects: this.compartment.reconfigure([this.field.init(state => markersFromProfileData(map, state, type)), this.gutter, theme]),\n            });\n        }\n        else {\n            editor.dispatch({ effects: this.updateEffect.of(map) });\n        }\n    }\n};\nconst theme = CodeMirror.EditorView.baseTheme({\n    '.cm-performanceGutter': {\n        width: '60px',\n        backgroundColor: 'var(--sys-color-cdt-base-container)',\n        marginLeft: '3px',\n    },\n    '.cm-memoryGutter': {\n        width: '48px',\n        backgroundColor: 'var(--sys-color-cdt-base-container)',\n        marginLeft: '3px',\n    },\n    '.cm-profileMarker': {\n        textAlign: 'right',\n        paddingRight: '3px',\n    },\n    '.cm-profileMarker .cm-units': {\n        color: 'var(--sys-color-token-subtle)',\n        fontSize: '75%',\n        marginLeft: '3px',\n    },\n});\nexport const MemoryProfilePlugin = makeLineLevelProfilePlugin(\"memory\" /* SourceFrame.SourceFrame.DecoratorType.MEMORY */);\nexport const PerformanceProfilePlugin = makeLineLevelProfilePlugin(\"performance\" /* SourceFrame.SourceFrame.DecoratorType.PERFORMANCE */);\n//# sourceMappingURL=ProfilePlugin.js.map","// Copyright 2018 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\nimport * as i18n from '../../core/i18n/i18n.js';\nimport * as Bindings from '../../models/bindings/bindings.js';\nimport * as Components from '../../ui/legacy/components/utils/utils.js';\nimport * as UI from '../../ui/legacy/legacy.js';\nimport { Plugin } from './Plugin.js';\nconst UIStrings = {\n    /**\n     * @description Text in the bottom toolbar of the Sources panel that lists the source mapped origin scripts.\n     * @example {bundle.min.js} PH1\n     */\n    fromS: '(From {PH1})',\n    /**\n     * @description Tooltip text for links in the bottom toolbar of the Sources panel that point to source mapped scripts.\n     * @example {bundle.min.js} PH1\n     */\n    sourceMappedFromS: '(Source mapped from {PH1})',\n};\nconst str_ = i18n.i18n.registerUIStrings('panels/sources/ResourceOriginPlugin.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\nexport class ResourceOriginPlugin extends Plugin {\n    static accepts(uiSourceCode) {\n        const contentType = uiSourceCode.contentType();\n        return contentType.hasScripts() || contentType.isFromSourceMap();\n    }\n    rightToolbarItems() {\n        const debuggerWorkspaceBinding = Bindings.DebuggerWorkspaceBinding.DebuggerWorkspaceBinding.instance();\n        // Handle source mapped scripts and stylesheets.\n        if (this.uiSourceCode.contentType().isFromSourceMap()) {\n            const links = [];\n            for (const script of debuggerWorkspaceBinding.scriptsForUISourceCode(this.uiSourceCode)) {\n                const uiSourceCode = debuggerWorkspaceBinding.uiSourceCodeForScript(script);\n                if (!uiSourceCode) {\n                    continue;\n                }\n                const url = uiSourceCode.url();\n                const text = Bindings.ResourceUtils.displayNameForURL(url);\n                const title = i18nString(UIStrings.sourceMappedFromS, { PH1: text });\n                links.push(Components.Linkifier.Linkifier.linkifyRevealable(uiSourceCode, text, url, title, undefined, 'original-script-location'));\n            }\n            for (const originURL of Bindings.SASSSourceMapping.SASSSourceMapping.uiSourceOrigin(this.uiSourceCode)) {\n                links.push(Components.Linkifier.Linkifier.linkifyURL(originURL));\n            }\n            if (links.length === 0) {\n                return [];\n            }\n            const element = document.createElement('span');\n            links.forEach((link, index) => {\n                if (index > 0) {\n                    element.append(', ');\n                }\n                element.append(link);\n            });\n            return [new UI.Toolbar.ToolbarItem(i18n.i18n.getFormatLocalizedString(str_, UIStrings.fromS, { PH1: element }))];\n        }\n        // Handle anonymous scripts with an originStackTrace.\n        for (const script of debuggerWorkspaceBinding.scriptsForUISourceCode(this.uiSourceCode)) {\n            if (script.originStackTrace) {\n                const link = linkifier.linkifyStackTraceTopFrame(script.debuggerModel.target(), script.originStackTrace);\n                return [new UI.Toolbar.ToolbarItem(i18n.i18n.getFormatLocalizedString(str_, UIStrings.fromS, { PH1: link }))];\n            }\n        }\n        return [];\n    }\n}\nexport const linkifier = new Components.Linkifier.Linkifier();\n//# sourceMappingURL=ResourceOriginPlugin.js.map","// Copyright 2017 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\nimport * as Host from '../../core/host/host.js';\nimport * as i18n from '../../core/i18n/i18n.js';\nimport * as UI from '../../ui/legacy/legacy.js';\nimport * as TextEditor from '../../ui/components/text_editor/text_editor.js';\nimport * as Snippets from '../snippets/snippets.js';\nimport { Plugin } from './Plugin.js';\nconst UIStrings = {\n    /**\n     *@description Text in Snippets Plugin of the Sources panel\n     */\n    enter: '⌘+Enter',\n    /**\n     *@description Text in Snippets Plugin of the Sources panel\n     */\n    ctrlenter: 'Ctrl+Enter',\n};\nconst str_ = i18n.i18n.registerUIStrings('panels/sources/SnippetsPlugin.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\nexport class SnippetsPlugin extends Plugin {\n    static accepts(uiSourceCode) {\n        return Snippets.ScriptSnippetFileSystem.isSnippetsUISourceCode(uiSourceCode);\n    }\n    rightToolbarItems() {\n        const runSnippet = UI.Toolbar.Toolbar.createActionButtonForId('debugger.run-snippet');\n        runSnippet.setText(Host.Platform.isMac() ? i18nString(UIStrings.enter) : i18nString(UIStrings.ctrlenter));\n        runSnippet.setReducedFocusRing();\n        return [runSnippet];\n    }\n    editorExtension() {\n        return TextEditor.JavaScript.completion();\n    }\n}\n//# sourceMappingURL=SnippetsPlugin.js.map","/*\n * Copyright (C) 2012 Google Inc. All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are\n * met:\n *\n *     * Redistributions of source code must retain the above copyright\n * notice, this list of conditions and the following disclaimer.\n *     * Redistributions in binary form must reproduce the above\n * copyright notice, this list of conditions and the following disclaimer\n * in the documentation and/or other materials provided with the\n * distribution.\n *     * Neither the name of Google Inc. nor the names of its\n * contributors may be used to endorse or promote products derived from\n * this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\nimport * as Common from '../../core/common/common.js';\nimport * as Host from '../../core/host/host.js';\nimport * as FormatterActions from '../../entrypoints/formatter_worker/FormatterActions.js'; // eslint-disable-line rulesdir/es_modules_import\nimport * as IssuesManager from '../../models/issues_manager/issues_manager.js';\nimport * as Persistence from '../../models/persistence/persistence.js';\nimport * as TextUtils from '../../models/text_utils/text_utils.js';\nimport * as Workspace from '../../models/workspace/workspace.js';\nimport * as CodeMirror from '../../third_party/codemirror.next/codemirror.next.js';\nimport * as IconButton from '../../ui/components/icon_button/icon_button.js';\nimport * as IssueCounter from '../../ui/components/issue_counter/issue_counter.js';\nimport * as SourceFrame from '../../ui/legacy/components/source_frame/source_frame.js';\nimport * as UI from '../../ui/legacy/legacy.js';\nimport { CoveragePlugin } from './CoveragePlugin.js';\nimport { CSSPlugin } from './CSSPlugin.js';\nimport { DebuggerPlugin } from './DebuggerPlugin.js';\nimport { MemoryProfilePlugin, PerformanceProfilePlugin } from './ProfilePlugin.js';\nimport { ResourceOriginPlugin } from './ResourceOriginPlugin.js';\nimport { SnippetsPlugin } from './SnippetsPlugin.js';\nimport { SourcesPanel } from './SourcesPanel.js';\nfunction sourceFramePlugins() {\n    // The order of these plugins matters for toolbar items and editor\n    // extension precedence\n    return [\n        CSSPlugin,\n        DebuggerPlugin,\n        SnippetsPlugin,\n        ResourceOriginPlugin,\n        CoveragePlugin,\n        MemoryProfilePlugin,\n        PerformanceProfilePlugin,\n    ];\n}\nexport class UISourceCodeFrame extends Common.ObjectWrapper.eventMixin(SourceFrame.SourceFrame.SourceFrameImpl) {\n    uiSourceCodeInternal;\n    muteSourceCodeEvents;\n    persistenceBinding;\n    uiSourceCodeEventListeners;\n    messageAndDecorationListeners;\n    boundOnBindingChanged;\n    // The active plugins. These are created in setContent, and\n    // recreated when the binding changes\n    plugins = [];\n    errorPopoverHelper;\n    #sourcesPanelOpenedMetricsRecorded = false;\n    constructor(uiSourceCode) {\n        super(() => this.workingCopy());\n        this.uiSourceCodeInternal = uiSourceCode;\n        this.muteSourceCodeEvents = false;\n        this.persistenceBinding = Persistence.Persistence.PersistenceImpl.instance().binding(uiSourceCode);\n        this.uiSourceCodeEventListeners = [];\n        this.messageAndDecorationListeners = [];\n        this.boundOnBindingChanged = this.onBindingChanged.bind(this);\n        Common.Settings.Settings.instance()\n            .moduleSetting('persistence-network-overrides-enabled')\n            .addChangeListener(this.onNetworkPersistenceChanged, this);\n        this.errorPopoverHelper = new UI.PopoverHelper.PopoverHelper(this.textEditor.editor.contentDOM, this.getErrorPopoverContent.bind(this), 'sources.error');\n        this.errorPopoverHelper.setHasPadding(true);\n        this.errorPopoverHelper.setTimeout(100, 100);\n        this.initializeUISourceCode();\n    }\n    async workingCopy() {\n        if (this.uiSourceCodeInternal.isDirty()) {\n            return this.uiSourceCodeInternal.workingCopyContentData();\n        }\n        return this.uiSourceCodeInternal.requestContentData();\n    }\n    editorConfiguration(doc) {\n        return [\n            super.editorConfiguration(doc),\n            rowMessages(this.allMessages()),\n            // Inject editor extensions from plugins\n            pluginCompartment.of(this.plugins.map(plugin => plugin.editorExtension())),\n        ];\n    }\n    onFocus() {\n        super.onFocus();\n        UI.Context.Context.instance().setFlavor(UISourceCodeFrame, this);\n    }\n    onBlur() {\n        super.onBlur();\n        UI.Context.Context.instance().setFlavor(UISourceCodeFrame, null);\n    }\n    installMessageAndDecorationListeners() {\n        if (this.persistenceBinding) {\n            const networkSourceCode = this.persistenceBinding.network;\n            const fileSystemSourceCode = this.persistenceBinding.fileSystem;\n            this.messageAndDecorationListeners = [\n                networkSourceCode.addEventListener(Workspace.UISourceCode.Events.MessageAdded, this.onMessageAdded, this),\n                networkSourceCode.addEventListener(Workspace.UISourceCode.Events.MessageRemoved, this.onMessageRemoved, this),\n                networkSourceCode.addEventListener(Workspace.UISourceCode.Events.DecorationChanged, this.onDecorationChanged, this),\n                fileSystemSourceCode.addEventListener(Workspace.UISourceCode.Events.MessageAdded, this.onMessageAdded, this),\n                fileSystemSourceCode.addEventListener(Workspace.UISourceCode.Events.MessageRemoved, this.onMessageRemoved, this),\n            ];\n        }\n        else {\n            this.messageAndDecorationListeners = [\n                this.uiSourceCodeInternal.addEventListener(Workspace.UISourceCode.Events.MessageAdded, this.onMessageAdded, this),\n                this.uiSourceCodeInternal.addEventListener(Workspace.UISourceCode.Events.MessageRemoved, this.onMessageRemoved, this),\n                this.uiSourceCodeInternal.addEventListener(Workspace.UISourceCode.Events.DecorationChanged, this.onDecorationChanged, this),\n            ];\n        }\n    }\n    uiSourceCode() {\n        return this.uiSourceCodeInternal;\n    }\n    setUISourceCode(uiSourceCode) {\n        const loaded = uiSourceCode.contentLoaded() ? Promise.resolve() : uiSourceCode.requestContent();\n        const startUISourceCode = this.uiSourceCodeInternal;\n        loaded.then(async () => {\n            if (this.uiSourceCodeInternal !== startUISourceCode) {\n                return;\n            }\n            this.unloadUISourceCode();\n            this.uiSourceCodeInternal = uiSourceCode;\n            if (uiSourceCode.workingCopy() !== this.textEditor.state.doc.toString()) {\n                await this.setContentDataOrError(Promise.resolve(uiSourceCode.workingCopyContentData()));\n            }\n            else {\n                this.reloadPlugins();\n            }\n            this.initializeUISourceCode();\n        }, console.error);\n    }\n    unloadUISourceCode() {\n        Common.EventTarget.removeEventListeners(this.messageAndDecorationListeners);\n        Common.EventTarget.removeEventListeners(this.uiSourceCodeEventListeners);\n        this.uiSourceCodeInternal.removeWorkingCopyGetter();\n        Persistence.Persistence.PersistenceImpl.instance().unsubscribeFromBindingEvent(this.uiSourceCodeInternal, this.boundOnBindingChanged);\n    }\n    initializeUISourceCode() {\n        this.uiSourceCodeEventListeners = [\n            this.uiSourceCodeInternal.addEventListener(Workspace.UISourceCode.Events.WorkingCopyChanged, this.onWorkingCopyChanged, this),\n            this.uiSourceCodeInternal.addEventListener(Workspace.UISourceCode.Events.WorkingCopyCommitted, this.onWorkingCopyCommitted, this),\n            this.uiSourceCodeInternal.addEventListener(Workspace.UISourceCode.Events.TitleChanged, this.onTitleChanged, this),\n        ];\n        Persistence.Persistence.PersistenceImpl.instance().subscribeForBindingEvent(this.uiSourceCodeInternal, this.boundOnBindingChanged);\n        this.installMessageAndDecorationListeners();\n        this.updateStyle();\n        const canPrettyPrint = FormatterActions.FORMATTABLE_MEDIA_TYPES.includes(this.contentType) &&\n            !this.uiSourceCodeInternal.project().canSetFileContent() &&\n            Persistence.Persistence.PersistenceImpl.instance().binding(this.uiSourceCodeInternal) === null;\n        const autoPrettyPrint = !this.uiSourceCodeInternal.contentType().isFromSourceMap();\n        this.setCanPrettyPrint(canPrettyPrint, autoPrettyPrint);\n    }\n    wasShown() {\n        super.wasShown();\n        this.setEditable(this.canEditSourceInternal());\n    }\n    willHide() {\n        for (const plugin of this.plugins) {\n            plugin.willHide();\n        }\n        super.willHide();\n        UI.Context.Context.instance().setFlavor(UISourceCodeFrame, null);\n        this.uiSourceCodeInternal.removeWorkingCopyGetter();\n    }\n    getContentType() {\n        const binding = Persistence.Persistence.PersistenceImpl.instance().binding(this.uiSourceCodeInternal);\n        const mimeType = binding ? binding.network.mimeType() : this.uiSourceCodeInternal.mimeType();\n        return Common.ResourceType.ResourceType.simplifyContentType(mimeType);\n    }\n    canEditSourceInternal() {\n        if (this.hasLoadError()) {\n            return false;\n        }\n        if (this.uiSourceCodeInternal.editDisabled()) {\n            return false;\n        }\n        if (this.uiSourceCodeInternal.mimeType() === 'application/wasm') {\n            return false;\n        }\n        if (Persistence.Persistence.PersistenceImpl.instance().binding(this.uiSourceCodeInternal)) {\n            return true;\n        }\n        if (this.uiSourceCodeInternal.project().canSetFileContent()) {\n            return true;\n        }\n        if (this.uiSourceCodeInternal.project().isServiceProject()) {\n            return false;\n        }\n        if (this.uiSourceCodeInternal.project().type() === Workspace.Workspace.projectTypes.Network &&\n            Persistence.NetworkPersistenceManager.NetworkPersistenceManager.instance().active()) {\n            return true;\n        }\n        // Because live edit fails on large whitespace changes, pretty printed scripts are not editable.\n        if (this.pretty && this.uiSourceCodeInternal.contentType().hasScripts()) {\n            return false;\n        }\n        return this.uiSourceCodeInternal.contentType() !== Common.ResourceType.resourceTypes.Document;\n    }\n    onNetworkPersistenceChanged() {\n        this.setEditable(this.canEditSourceInternal());\n    }\n    commitEditing() {\n        if (!this.uiSourceCodeInternal.isDirty()) {\n            return;\n        }\n        this.muteSourceCodeEvents = true;\n        this.uiSourceCodeInternal.commitWorkingCopy();\n        this.muteSourceCodeEvents = false;\n    }\n    async setContent(content) {\n        this.disposePlugins();\n        this.loadPlugins();\n        await super.setContent(content);\n        for (const plugin of this.plugins) {\n            plugin.editorInitialized(this.textEditor);\n        }\n        this.#recordSourcesPanelOpenedMetrics();\n        Common.EventTarget.fireEvent('source-file-loaded', this.uiSourceCodeInternal.displayName(true));\n    }\n    createMessage(origin) {\n        const { lineNumber, columnNumber } = this.uiLocationToEditorLocation(origin.lineNumber(), origin.columnNumber());\n        return new RowMessage(origin, lineNumber, columnNumber);\n    }\n    allMessages() {\n        const origins = this.persistenceBinding !== null ?\n            [...this.persistenceBinding.network.messages(), ...this.persistenceBinding.fileSystem.messages()] :\n            [...this.uiSourceCodeInternal.messages()];\n        return origins.map(origin => this.createMessage(origin));\n    }\n    onTextChanged() {\n        const wasPretty = this.pretty;\n        super.onTextChanged();\n        this.errorPopoverHelper.hidePopover();\n        SourcesPanel.instance().updateLastModificationTime();\n        this.muteSourceCodeEvents = true;\n        if (this.isClean()) {\n            this.uiSourceCodeInternal.resetWorkingCopy();\n        }\n        else {\n            this.uiSourceCodeInternal.setWorkingCopyGetter(() => this.textEditor.state.sliceDoc());\n        }\n        this.muteSourceCodeEvents = false;\n        if (wasPretty !== this.pretty) {\n            this.updateStyle();\n            this.reloadPlugins();\n        }\n    }\n    onWorkingCopyChanged() {\n        if (this.muteSourceCodeEvents) {\n            return;\n        }\n        this.maybeSetContent(this.uiSourceCodeInternal.workingCopyContentData());\n    }\n    onWorkingCopyCommitted() {\n        if (!this.muteSourceCodeEvents) {\n            this.maybeSetContent(this.uiSourceCode().workingCopyContentData());\n        }\n        this.contentCommitted();\n        this.updateStyle();\n    }\n    reloadPlugins() {\n        this.disposePlugins();\n        this.loadPlugins();\n        const editor = this.textEditor;\n        editor.dispatch({ effects: pluginCompartment.reconfigure(this.plugins.map(plugin => plugin.editorExtension())) });\n        for (const plugin of this.plugins) {\n            plugin.editorInitialized(editor);\n        }\n    }\n    onTitleChanged() {\n        this.updateLanguageMode('').then(() => this.reloadPlugins(), console.error);\n    }\n    loadPlugins() {\n        const binding = Persistence.Persistence.PersistenceImpl.instance().binding(this.uiSourceCodeInternal);\n        const pluginUISourceCode = binding ? binding.network : this.uiSourceCodeInternal;\n        for (const pluginType of sourceFramePlugins()) {\n            if (pluginType.accepts(pluginUISourceCode)) {\n                this.plugins.push(new pluginType(pluginUISourceCode, this));\n            }\n        }\n        this.dispatchEventToListeners(\"ToolbarItemsChanged\" /* Events.TOOLBAR_ITEMS_CHANGED */);\n    }\n    disposePlugins() {\n        for (const plugin of this.plugins) {\n            plugin.dispose();\n        }\n        this.plugins = [];\n    }\n    onBindingChanged() {\n        const binding = Persistence.Persistence.PersistenceImpl.instance().binding(this.uiSourceCodeInternal);\n        if (binding === this.persistenceBinding) {\n            return;\n        }\n        this.unloadUISourceCode();\n        this.persistenceBinding = binding;\n        this.initializeUISourceCode();\n        this.reloadMessages();\n        this.reloadPlugins();\n    }\n    reloadMessages() {\n        const messages = this.allMessages();\n        const { editor } = this.textEditor;\n        editor.dispatch({ effects: setRowMessages.of(RowMessages.create(messages)) });\n    }\n    updateStyle() {\n        this.setEditable(this.canEditSourceInternal());\n    }\n    maybeSetContent(content) {\n        if (this.textEditor.state.doc.toString() !== content.text) {\n            void this.setContentDataOrError(Promise.resolve(content));\n        }\n    }\n    populateTextAreaContextMenu(contextMenu, lineNumber, columnNumber) {\n        super.populateTextAreaContextMenu(contextMenu, lineNumber, columnNumber);\n        contextMenu.appendApplicableItems(this.uiSourceCodeInternal);\n        const location = this.editorLocationToUILocation(lineNumber, columnNumber);\n        contextMenu.appendApplicableItems(new Workspace.UISourceCode.UILocation(this.uiSourceCodeInternal, location.lineNumber, location.columnNumber));\n        for (const plugin of this.plugins) {\n            plugin.populateTextAreaContextMenu(contextMenu, lineNumber, columnNumber);\n        }\n    }\n    populateLineGutterContextMenu(contextMenu, lineNumber) {\n        super.populateLineGutterContextMenu(contextMenu, lineNumber);\n        for (const plugin of this.plugins) {\n            plugin.populateLineGutterContextMenu(contextMenu, lineNumber);\n        }\n    }\n    dispose() {\n        this.errorPopoverHelper.dispose();\n        this.disposePlugins();\n        this.unloadUISourceCode();\n        this.textEditor.editor.destroy();\n        this.detach();\n        Common.Settings.Settings.instance()\n            .moduleSetting('persistence-network-overrides-enabled')\n            .removeChangeListener(this.onNetworkPersistenceChanged, this);\n    }\n    onMessageAdded(event) {\n        const { editor } = this.textEditor, shownMessages = editor.state.field(showRowMessages, false);\n        if (shownMessages) {\n            const message = this.createMessage(event.data);\n            editor.dispatch({ effects: setRowMessages.of(shownMessages.messages.add(message)) });\n        }\n    }\n    onMessageRemoved(event) {\n        const { editor } = this.textEditor, shownMessages = editor.state.field(showRowMessages, false);\n        if (shownMessages) {\n            const message = this.createMessage(event.data);\n            editor.dispatch({ effects: setRowMessages.of(shownMessages.messages.remove(message)) });\n        }\n    }\n    onDecorationChanged(event) {\n        for (const plugin of this.plugins) {\n            plugin.decorationChanged(event.data, this.textEditor);\n        }\n    }\n    async toolbarItems() {\n        const leftToolbarItems = await super.toolbarItems();\n        const rightToolbarItems = [];\n        for (const plugin of this.plugins) {\n            leftToolbarItems.push(...plugin.leftToolbarItems());\n            rightToolbarItems.push(...plugin.rightToolbarItems());\n        }\n        if (!rightToolbarItems.length) {\n            return leftToolbarItems;\n        }\n        return [...leftToolbarItems, new UI.Toolbar.ToolbarSeparator(true), ...rightToolbarItems];\n    }\n    getErrorPopoverContent(event) {\n        const mouseEvent = event;\n        const eventTarget = event.target;\n        const anchorElement = eventTarget.enclosingNodeOrSelfWithClass('cm-messageIcon-error') ||\n            eventTarget.enclosingNodeOrSelfWithClass('cm-messageIcon-issue');\n        if (!anchorElement) {\n            return null;\n        }\n        const messageField = this.textEditor.state.field(showRowMessages, false);\n        if (!messageField || messageField.messages.rows.length === 0) {\n            return null;\n        }\n        const { editor } = this.textEditor;\n        const position = editor.posAtCoords(mouseEvent);\n        if (position === null) {\n            return null;\n        }\n        const line = editor.state.doc.lineAt(position);\n        if (position !== line.to) {\n            return null;\n        }\n        const row = messageField.messages.rows.find(row => row[0].lineNumber() === line.number - 1);\n        if (!row) {\n            return null;\n        }\n        const issues = anchorElement.classList.contains('cm-messageIcon-issue');\n        const messages = row.filter(msg => (msg.level() === \"Issue\" /* Workspace.UISourceCode.Message.Level.ISSUE */) === issues);\n        if (!messages.length) {\n            return null;\n        }\n        const anchor = anchorElement ? anchorElement.boxInWindow() : new AnchorBox(mouseEvent.clientX, mouseEvent.clientY, 1, 1);\n        const counts = countDuplicates(messages);\n        const element = document.createElement('div');\n        element.classList.add('text-editor-messages-description-container');\n        for (let i = 0; i < messages.length; i++) {\n            if (counts[i]) {\n                element.appendChild(renderMessage(messages[i], counts[i]));\n            }\n        }\n        return {\n            box: anchor,\n            hide() { },\n            show: async (popover) => {\n                popover.contentElement.append(element);\n                return true;\n            },\n        };\n    }\n    /**\n     * Only records metrics once per UISourceCodeFrame instance and must only be\n     * called once the content of the UISourceCode is available.\n     */\n    #recordSourcesPanelOpenedMetrics() {\n        if (this.#sourcesPanelOpenedMetricsRecorded) {\n            return;\n        }\n        this.#sourcesPanelOpenedMetricsRecorded = true;\n        const mimeType = Common.ResourceType.ResourceType.mimeFromURL(this.uiSourceCodeInternal.url());\n        const mediaType = Common.ResourceType.ResourceType.mediaTypeForMetrics(mimeType ?? '', this.uiSourceCodeInternal.contentType().isFromSourceMap(), TextUtils.TextUtils.isMinified(this.uiSourceCodeInternal.content()), this.uiSourceCodeInternal.url().startsWith('snippet://'), this.uiSourceCodeInternal.url().startsWith('debugger://'));\n        Host.userMetrics.sourcesPanelFileOpened(mediaType);\n    }\n}\nfunction getIconDataForLevel(level) {\n    if (level === \"Error\" /* Workspace.UISourceCode.Message.Level.ERROR */) {\n        return { color: 'var(--icon-error)', width: '16px', height: '14px', iconName: 'cross-circle-filled' };\n    }\n    if (level === \"Warning\" /* Workspace.UISourceCode.Message.Level.WARNING */) {\n        return { color: 'var(--icon-warning)', width: '18px', height: '14px', iconName: 'warning-filled' };\n    }\n    if (level === \"Issue\" /* Workspace.UISourceCode.Message.Level.ISSUE */) {\n        return { color: 'var(--icon-warning)', width: '17px', height: '14px', iconName: 'issue-exclamation-filled' };\n    }\n    return { color: 'var(--icon-error)', width: '16px', height: '14px', iconName: 'cross-circle-filled' };\n}\nfunction getBubbleTypePerLevel(level) {\n    switch (level) {\n        case \"Error\" /* Workspace.UISourceCode.Message.Level.ERROR */:\n            return 'error';\n        case \"Warning\" /* Workspace.UISourceCode.Message.Level.WARNING */:\n            return 'warning';\n        case \"Issue\" /* Workspace.UISourceCode.Message.Level.ISSUE */:\n            return 'warning';\n    }\n}\nfunction messageLevelComparator(a, b) {\n    const messageLevelPriority = {\n        [\"Issue\" /* Workspace.UISourceCode.Message.Level.ISSUE */]: 2,\n        [\"Warning\" /* Workspace.UISourceCode.Message.Level.WARNING */]: 3,\n        [\"Error\" /* Workspace.UISourceCode.Message.Level.ERROR */]: 4,\n    };\n    return messageLevelPriority[a.level()] - messageLevelPriority[b.level()];\n}\nfunction getIconDataForMessage(message) {\n    if (message.origin instanceof IssuesManager.SourceFrameIssuesManager.IssueMessage) {\n        return {\n            ...IssueCounter.IssueCounter.getIssueKindIconData(message.origin.getIssueKind()),\n            width: '12px',\n            height: '12px',\n        };\n    }\n    return getIconDataForLevel(message.level());\n}\nconst pluginCompartment = new CodeMirror.Compartment();\n// Row message management and display logic. The frame manages a\n// collection of messages, organized by line (row), as a wavy\n// underline starting at the start of the first message, up to the end\n// of the line, with icons indicating the message severity and content\n// at the end of the line.\nclass RowMessage {\n    origin;\n    #lineNumber;\n    #columnNumber;\n    constructor(origin, lineNumber, columnNumber) {\n        this.origin = origin;\n        this.#lineNumber = lineNumber;\n        this.#columnNumber = columnNumber;\n    }\n    level() {\n        return this.origin.level();\n    }\n    text() {\n        return this.origin.text();\n    }\n    clickHandler() {\n        return this.origin.clickHandler();\n    }\n    lineNumber() {\n        return this.#lineNumber;\n    }\n    columnNumber() {\n        return this.#columnNumber;\n    }\n    isEqual(that) {\n        return this.origin.isEqual(that.origin);\n    }\n}\nfunction addMessage(rows, message) {\n    const lineNumber = message.lineNumber();\n    let i = 0;\n    for (; i < rows.length; i++) {\n        const diff = rows[i][0].lineNumber() - lineNumber;\n        if (diff === 0) {\n            rows[i] = rows[i].concat(message);\n            return rows;\n        }\n        if (diff > 0) {\n            break;\n        }\n    }\n    rows.splice(i, 0, [message]);\n    return rows;\n}\nfunction removeMessage(rows, message) {\n    for (let i = 0; i < rows.length; i++) {\n        if (rows[i][0].lineNumber() === message.lineNumber()) {\n            const remaining = rows[i].filter(m => !m.isEqual(message));\n            if (remaining.length) {\n                rows[i] = remaining;\n            }\n            else {\n                rows.splice(i, 1);\n            }\n            break;\n        }\n    }\n}\nclass RowMessages {\n    rows;\n    constructor(rows) {\n        this.rows = rows;\n    }\n    static create(messages) {\n        const rows = [];\n        for (const message of messages) {\n            addMessage(rows, message);\n        }\n        return new RowMessages(rows);\n    }\n    remove(message) {\n        const rows = this.rows.slice();\n        removeMessage(rows, message);\n        return new RowMessages(rows);\n    }\n    add(message) {\n        return new RowMessages(addMessage(this.rows.slice(), message));\n    }\n}\nconst setRowMessages = CodeMirror.StateEffect.define();\nconst underlineMark = CodeMirror.Decoration.mark({ class: 'cm-waveUnderline' });\n// The widget shown at the end of a message annotation.\nclass MessageWidget extends CodeMirror.WidgetType {\n    messages;\n    constructor(messages) {\n        super();\n        this.messages = messages;\n    }\n    eq(other) {\n        return other.messages === this.messages;\n    }\n    toDOM() {\n        const wrap = document.createElement('span');\n        wrap.classList.add('cm-messageIcon');\n        const nonIssues = this.messages.filter(msg => msg.level() !== \"Issue\" /* Workspace.UISourceCode.Message.Level.ISSUE */);\n        if (nonIssues.length) {\n            const maxIssue = nonIssues.sort(messageLevelComparator)[nonIssues.length - 1];\n            const errorIcon = wrap.appendChild(new IconButton.Icon.Icon());\n            errorIcon.data = getIconDataForLevel(maxIssue.level());\n            errorIcon.classList.add('cm-messageIcon-error');\n        }\n        const issue = this.messages.find(m => m.level() === \"Issue\" /* Workspace.UISourceCode.Message.Level.ISSUE */);\n        if (issue) {\n            const issueIcon = wrap.appendChild(new IconButton.Icon.Icon());\n            issueIcon.data = getIconDataForLevel(\"Issue\" /* Workspace.UISourceCode.Message.Level.ISSUE */);\n            issueIcon.classList.add('cm-messageIcon-issue');\n            issueIcon.addEventListener('click', () => (issue.clickHandler() || Math.min)());\n        }\n        return wrap;\n    }\n    ignoreEvents() {\n        return true;\n    }\n}\nclass RowMessageDecorations {\n    messages;\n    decorations;\n    constructor(messages, decorations) {\n        this.messages = messages;\n        this.decorations = decorations;\n    }\n    static create(messages, doc) {\n        const builder = new CodeMirror.RangeSetBuilder();\n        for (const row of messages.rows) {\n            const line = doc.line(Math.min(doc.lines, row[0].lineNumber() + 1));\n            const minCol = row.reduce((col, msg) => Math.min(col, msg.columnNumber() || 0), line.length);\n            if (minCol < line.length) {\n                builder.add(line.from + minCol, line.to, underlineMark);\n            }\n            builder.add(line.to, line.to, CodeMirror.Decoration.widget({ side: 1, widget: new MessageWidget(row) }));\n        }\n        return new RowMessageDecorations(messages, builder.finish());\n    }\n    apply(tr) {\n        let result = this;\n        if (tr.docChanged) {\n            result = new RowMessageDecorations(this.messages, this.decorations.map(tr.changes));\n        }\n        for (const effect of tr.effects) {\n            if (effect.is(setRowMessages)) {\n                result = RowMessageDecorations.create(effect.value, tr.state.doc);\n            }\n        }\n        return result;\n    }\n}\nconst showRowMessages = CodeMirror.StateField.define({\n    create(state) {\n        return RowMessageDecorations.create(new RowMessages([]), state.doc);\n    },\n    update(value, tr) {\n        return value.apply(tr);\n    },\n    provide: field => CodeMirror.Prec.lowest(CodeMirror.EditorView.decorations.from(field, value => value.decorations)),\n});\nfunction countDuplicates(messages) {\n    const counts = [];\n    for (let i = 0; i < messages.length; i++) {\n        counts[i] = 0;\n        for (let j = 0; j <= i; j++) {\n            if (messages[j].isEqual(messages[i])) {\n                counts[j]++;\n                break;\n            }\n        }\n    }\n    return counts;\n}\nfunction renderMessage(message, count) {\n    const element = document.createElement('div');\n    element.classList.add('text-editor-row-message');\n    element.style.display = 'flex';\n    element.style.alignItems = 'center';\n    element.style.gap = '4px';\n    if (count === 1) {\n        const icon = element.appendChild(new IconButton.Icon.Icon());\n        icon.data = getIconDataForMessage(message);\n        icon.classList.add('text-editor-row-message-icon');\n        icon.addEventListener('click', () => (message.clickHandler() || Math.min)());\n    }\n    else {\n        const repeatCountElement = document.createElement('span', { is: 'dt-small-bubble' });\n        repeatCountElement.textContent = String(count);\n        repeatCountElement.classList.add('text-editor-row-message-repeat-count');\n        repeatCountElement.style.flexShrink = '0';\n        element.appendChild(repeatCountElement);\n        repeatCountElement.type = getBubbleTypePerLevel(message.level());\n    }\n    const linesContainer = element.createChild('div');\n    for (const line of message.text().split('\\n')) {\n        linesContainer.createChild('div').textContent = line;\n    }\n    return element;\n}\nconst rowMessageTheme = CodeMirror.EditorView.baseTheme({\n    '.cm-tooltip-message': {\n        padding: '4px',\n    },\n    '.cm-waveUnderline': {\n        backgroundImage: 'var(--image-file-errorWave)',\n        backgroundRepeat: 'repeat-x',\n        backgroundPosition: 'bottom',\n        paddingBottom: '1px',\n    },\n    '.cm-messageIcon': {\n        cursor: 'pointer',\n        '& > *': {\n            verticalAlign: 'text-bottom',\n            marginLeft: '2px',\n        },\n    },\n    '.cm-messageIcon-issue, .cm-messageIcon-error': {\n        marginTop: '-1px',\n        marginBottom: '-1px',\n    },\n});\nfunction rowMessages(initialMessages) {\n    return [\n        showRowMessages.init(state => RowMessageDecorations.create(RowMessages.create(initialMessages), state.doc)),\n        rowMessageTheme,\n    ];\n}\n//# sourceMappingURL=UISourceCodeFrame.js.map","/*\n * Copyright (C) 2011 Google Inc. All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are\n * met:\n *\n *     * Redistributions of source code must retain the above copyright\n * notice, this list of conditions and the following disclaimer.\n *     * Redistributions in binary form must reproduce the above\n * copyright notice, this list of conditions and the following disclaimer\n * in the documentation and/or other materials provided with the\n * distribution.\n *     * Neither the name of Google Inc. nor the names of its\n * contributors may be used to endorse or promote products derived from\n * this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\nimport * as Common from '../../core/common/common.js';\nimport * as i18n from '../../core/i18n/i18n.js';\nimport * as Platform from '../../core/platform/platform.js';\nimport * as Extensions from '../../models/extensions/extensions.js';\nimport * as Persistence from '../../models/persistence/persistence.js';\nimport * as TextUtils from '../../models/text_utils/text_utils.js';\nimport * as Workspace from '../../models/workspace/workspace.js';\nimport * as IconButton from '../../ui/components/icon_button/icon_button.js';\nimport * as SourceFrame from '../../ui/legacy/components/source_frame/source_frame.js';\nimport * as UI from '../../ui/legacy/legacy.js';\nimport * as VisualLogging from '../../ui/visual_logging/visual_logging.js';\nimport * as Snippets from '../snippets/snippets.js';\nimport { SourcesView } from './SourcesView.js';\nimport { UISourceCodeFrame } from './UISourceCodeFrame.js';\nconst UIStrings = {\n    /**\n     *@description Text in Tabbed Editor Container of the Sources panel\n     *@example {example.file} PH1\n     */\n    areYouSureYouWantToCloseUnsaved: 'Are you sure you want to close unsaved file: {PH1}?',\n    /**\n     *@description Error message for tooltip showing that a file in Sources could not be loaded\n     */\n    unableToLoadThisContent: 'Unable to load this content.',\n    /**\n     *@description Icon title in Tabbed Editor Container of the Sources panel\n     */\n    changesToThisFileWereNotSavedTo: 'Changes to this file were not saved to file system.',\n};\nconst str_ = i18n.i18n.registerUIStrings('panels/sources/TabbedEditorContainer.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\nlet tabId = 0;\nexport class TabbedEditorContainer extends Common.ObjectWrapper.ObjectWrapper {\n    delegate;\n    tabbedPane;\n    tabIds;\n    files;\n    previouslyViewedFilesSetting;\n    history;\n    uriToUISourceCode;\n    idToUISourceCode;\n    currentFileInternal;\n    currentView;\n    scrollTimer;\n    reentrantShow;\n    constructor(delegate, setting, placeholderElement, focusedPlaceholderElement) {\n        super();\n        this.delegate = delegate;\n        this.tabbedPane = new UI.TabbedPane.TabbedPane();\n        this.tabbedPane.setPlaceholderElement(placeholderElement, focusedPlaceholderElement);\n        this.tabbedPane.setTabDelegate(new EditorContainerTabDelegate(this));\n        this.tabbedPane.setCloseableTabs(true);\n        this.tabbedPane.setAllowTabReorder(true, true);\n        this.tabbedPane.addEventListener(UI.TabbedPane.Events.TabClosed, this.tabClosed, this);\n        this.tabbedPane.addEventListener(UI.TabbedPane.Events.TabSelected, this.tabSelected, this);\n        this.tabbedPane.headerElement().setAttribute('jslog', `${VisualLogging.toolbar('top').track({ keydown: 'ArrowUp|ArrowLeft|ArrowDown|ArrowRight|Enter|Space' })}`);\n        Persistence.Persistence.PersistenceImpl.instance().addEventListener(Persistence.Persistence.Events.BindingCreated, this.onBindingCreated, this);\n        Persistence.Persistence.PersistenceImpl.instance().addEventListener(Persistence.Persistence.Events.BindingRemoved, this.onBindingRemoved, this);\n        Persistence.NetworkPersistenceManager.NetworkPersistenceManager.instance().addEventListener(\"RequestsForHeaderOverridesFileChanged\" /* Persistence.NetworkPersistenceManager.Events.REQUEST_FOR_HEADER_OVERRIDES_FILE_CHANGED */, this.#onRequestsForHeaderOverridesFileChanged, this);\n        this.tabIds = new Map();\n        this.files = new Map();\n        this.previouslyViewedFilesSetting = setting;\n        this.history = History.fromObject(this.previouslyViewedFilesSetting.get());\n        this.uriToUISourceCode = new Map();\n        this.idToUISourceCode = new Map();\n        this.reentrantShow = false;\n    }\n    onBindingCreated(event) {\n        const binding = event.data;\n        this.updateFileTitle(binding.fileSystem);\n        const networkTabId = this.tabIds.get(binding.network);\n        let fileSystemTabId = this.tabIds.get(binding.fileSystem);\n        const wasSelectedInNetwork = this.currentFileInternal === binding.network;\n        const networkKey = historyItemKey(binding.network);\n        const currentSelectionRange = this.history.selectionRange(networkKey);\n        const currentScrollLineNumber = this.history.scrollLineNumber(networkKey);\n        this.history.remove(networkKey);\n        if (!networkTabId) {\n            return;\n        }\n        if (!fileSystemTabId) {\n            const networkView = this.tabbedPane.tabView(networkTabId);\n            const tabIndex = this.tabbedPane.tabIndex(networkTabId);\n            if (networkView instanceof UISourceCodeFrame) {\n                this.delegate.recycleUISourceCodeFrame(networkView, binding.fileSystem);\n                fileSystemTabId = this.appendFileTab(binding.fileSystem, false, tabIndex, networkView);\n            }\n            else {\n                fileSystemTabId = this.appendFileTab(binding.fileSystem, false, tabIndex);\n                const fileSystemTabView = this.tabbedPane.tabView(fileSystemTabId);\n                this.restoreEditorProperties(fileSystemTabView, currentSelectionRange, currentScrollLineNumber);\n            }\n        }\n        this.closeTabs([networkTabId], true);\n        if (wasSelectedInNetwork) {\n            this.tabbedPane.selectTab(fileSystemTabId, false);\n        }\n        this.updateHistory();\n    }\n    #onRequestsForHeaderOverridesFileChanged(event) {\n        this.updateFileTitle(event.data);\n    }\n    onBindingRemoved(event) {\n        const binding = event.data;\n        this.updateFileTitle(binding.fileSystem);\n    }\n    get view() {\n        return this.tabbedPane;\n    }\n    get visibleView() {\n        return this.tabbedPane.visibleView;\n    }\n    fileViews() {\n        return this.tabbedPane.tabViews();\n    }\n    leftToolbar() {\n        return this.tabbedPane.leftToolbar();\n    }\n    rightToolbar() {\n        return this.tabbedPane.rightToolbar();\n    }\n    show(parentElement) {\n        this.tabbedPane.show(parentElement);\n    }\n    showFile(uiSourceCode) {\n        const binding = Persistence.Persistence.PersistenceImpl.instance().binding(uiSourceCode);\n        uiSourceCode = binding ? binding.fileSystem : uiSourceCode;\n        const frame = UI.Context.Context.instance().flavor(SourcesView);\n        // If the content has already been set and the current frame is showing\n        // the incoming uiSourceCode, then fire the event that the file has been loaded.\n        // Otherwise, this event will fire as soon as the content has been set.\n        if (frame?.currentSourceFrame()?.contentSet && this.currentFileInternal === uiSourceCode &&\n            frame?.currentUISourceCode() === uiSourceCode) {\n            Common.EventTarget.fireEvent('source-file-loaded', uiSourceCode.displayName(true));\n        }\n        else {\n            this.innerShowFile(uiSourceCode, true);\n        }\n    }\n    closeFile(uiSourceCode) {\n        const tabId = this.tabIds.get(uiSourceCode);\n        if (!tabId) {\n            return;\n        }\n        this.closeTabs([tabId]);\n    }\n    closeAllFiles() {\n        this.closeTabs(this.tabbedPane.tabIds());\n    }\n    historyUISourceCodes() {\n        const result = [];\n        for (const { url, resourceType } of this.history.keys()) {\n            const uiSourceCode = this.uriToUISourceCode.get(url);\n            if (uiSourceCode !== undefined && uiSourceCode.contentType() === resourceType) {\n                result.push(uiSourceCode);\n            }\n        }\n        return result;\n    }\n    selectNextTab() {\n        this.tabbedPane.selectNextTab();\n    }\n    selectPrevTab() {\n        this.tabbedPane.selectPrevTab();\n    }\n    addViewListeners() {\n        if (!this.currentView || !(this.currentView instanceof SourceFrame.SourceFrame.SourceFrameImpl)) {\n            return;\n        }\n        this.currentView.addEventListener(\"EditorUpdate\" /* SourceFrame.SourceFrame.Events.EDITOR_UPDATE */, this.onEditorUpdate, this);\n        this.currentView.addEventListener(\"EditorScroll\" /* SourceFrame.SourceFrame.Events.EDITOR_SCROLL */, this.onScrollChanged, this);\n    }\n    removeViewListeners() {\n        if (!this.currentView || !(this.currentView instanceof SourceFrame.SourceFrame.SourceFrameImpl)) {\n            return;\n        }\n        this.currentView.removeEventListener(\"EditorUpdate\" /* SourceFrame.SourceFrame.Events.EDITOR_UPDATE */, this.onEditorUpdate, this);\n        this.currentView.removeEventListener(\"EditorScroll\" /* SourceFrame.SourceFrame.Events.EDITOR_SCROLL */, this.onScrollChanged, this);\n    }\n    onScrollChanged() {\n        if (this.currentView instanceof SourceFrame.SourceFrame.SourceFrameImpl) {\n            if (this.scrollTimer) {\n                clearTimeout(this.scrollTimer);\n            }\n            this.scrollTimer = window.setTimeout(() => this.previouslyViewedFilesSetting.set(this.history.toObject()), 100);\n            if (this.currentFileInternal) {\n                const { editor } = this.currentView.textEditor;\n                const topBlock = editor.lineBlockAtHeight(editor.scrollDOM.getBoundingClientRect().top - editor.documentTop);\n                const topLine = editor.state.doc.lineAt(topBlock.from).number - 1;\n                this.history.updateScrollLineNumber(historyItemKey(this.currentFileInternal), topLine);\n            }\n        }\n    }\n    onEditorUpdate({ data: update }) {\n        if (update.docChanged || update.selectionSet) {\n            const { main } = update.state.selection;\n            const lineFrom = update.state.doc.lineAt(main.from), lineTo = update.state.doc.lineAt(main.to);\n            const range = new TextUtils.TextRange.TextRange(lineFrom.number - 1, main.from - lineFrom.from, lineTo.number - 1, main.to - lineTo.from);\n            if (this.currentFileInternal) {\n                this.history.updateSelectionRange(historyItemKey(this.currentFileInternal), range);\n            }\n            this.previouslyViewedFilesSetting.set(this.history.toObject());\n            if (this.currentFileInternal) {\n                Extensions.ExtensionServer.ExtensionServer.instance().sourceSelectionChanged(this.currentFileInternal.url(), range);\n            }\n        }\n    }\n    innerShowFile(uiSourceCode, userGesture) {\n        if (this.reentrantShow) {\n            return;\n        }\n        const canonicalSourceCode = this.canonicalUISourceCode(uiSourceCode);\n        const binding = Persistence.Persistence.PersistenceImpl.instance().binding(uiSourceCode);\n        uiSourceCode = binding ? binding.fileSystem : uiSourceCode;\n        if (this.currentFileInternal === uiSourceCode) {\n            return;\n        }\n        this.removeViewListeners();\n        this.currentFileInternal = uiSourceCode;\n        try {\n            // Selecting the tab may cause showFile to be called again, but with the canonical source code,\n            // which is not what we want, so we prevent reentrant calls.\n            this.reentrantShow = true;\n            const tabId = this.tabIds.get(canonicalSourceCode) || this.appendFileTab(canonicalSourceCode, userGesture);\n            this.tabbedPane.selectTab(tabId, userGesture);\n        }\n        finally {\n            this.reentrantShow = false;\n        }\n        if (userGesture) {\n            this.editorSelectedByUserAction();\n        }\n        const previousView = this.currentView;\n        this.currentView = this.visibleView;\n        this.addViewListeners();\n        if (this.currentView instanceof UISourceCodeFrame && this.currentView.uiSourceCode() !== uiSourceCode) {\n            // We are showing a different UISourceCode in the same tab (because it has the same URL). This\n            // commonly happens when switching between workers or iframes containing the same code, and while the\n            // contents are usually identical they may not be and it is important to show users when they aren't.\n            this.delegate.recycleUISourceCodeFrame(this.currentView, uiSourceCode);\n            if (uiSourceCode.project().type() !== Workspace.Workspace.projectTypes.FileSystem) {\n                // Disable editing, because it may confuse users that only one of the copies of this code changes.\n                uiSourceCode.disableEdit();\n            }\n        }\n        const eventData = {\n            currentFile: this.currentFileInternal,\n            currentView: this.currentView,\n            previousView,\n            userGesture,\n        };\n        this.dispatchEventToListeners(\"EditorSelected\" /* Events.EDITOR_SELECTED */, eventData);\n    }\n    titleForFile(uiSourceCode) {\n        const maxDisplayNameLength = 30;\n        let title = Platform.StringUtilities.trimMiddle(uiSourceCode.displayName(true), maxDisplayNameLength);\n        if (uiSourceCode.isDirty()) {\n            title += '*';\n        }\n        return title;\n    }\n    maybeCloseTab(id, nextTabId) {\n        const uiSourceCode = this.files.get(id);\n        if (!uiSourceCode) {\n            return false;\n        }\n        const shouldPrompt = uiSourceCode.isDirty() && uiSourceCode.project().canSetFileContent();\n        // FIXME: this should be replaced with common Save/Discard/Cancel dialog.\n        if (!shouldPrompt || confirm(i18nString(UIStrings.areYouSureYouWantToCloseUnsaved, { PH1: uiSourceCode.name() }))) {\n            uiSourceCode.resetWorkingCopy();\n            if (nextTabId) {\n                this.tabbedPane.selectTab(nextTabId, true);\n            }\n            this.tabbedPane.closeTab(id, true);\n            return true;\n        }\n        return false;\n    }\n    closeTabs(ids, forceCloseDirtyTabs) {\n        const dirtyTabs = [];\n        const cleanTabs = [];\n        for (let i = 0; i < ids.length; ++i) {\n            const id = ids[i];\n            const uiSourceCode = this.files.get(id);\n            if (uiSourceCode) {\n                if (!forceCloseDirtyTabs && uiSourceCode.isDirty()) {\n                    dirtyTabs.push(id);\n                }\n                else {\n                    cleanTabs.push(id);\n                }\n            }\n        }\n        if (dirtyTabs.length) {\n            this.tabbedPane.selectTab(dirtyTabs[0], true);\n        }\n        this.tabbedPane.closeTabs(cleanTabs, true);\n        for (let i = 0; i < dirtyTabs.length; ++i) {\n            const nextTabId = i + 1 < dirtyTabs.length ? dirtyTabs[i + 1] : null;\n            if (!this.maybeCloseTab(dirtyTabs[i], nextTabId)) {\n                break;\n            }\n        }\n    }\n    onContextMenu(tabId, contextMenu) {\n        const uiSourceCode = this.files.get(tabId);\n        if (uiSourceCode) {\n            contextMenu.appendApplicableItems(uiSourceCode);\n        }\n    }\n    canonicalUISourceCode(uiSourceCode) {\n        // Check if we have already a UISourceCode for this url\n        const existingSourceCode = this.idToUISourceCode.get(uiSourceCode.canononicalScriptId());\n        if (existingSourceCode) {\n            // Ignore incoming uiSourceCode, we already have this file.\n            return existingSourceCode;\n        }\n        this.idToUISourceCode.set(uiSourceCode.canononicalScriptId(), uiSourceCode);\n        this.uriToUISourceCode.set(uiSourceCode.url(), uiSourceCode);\n        return uiSourceCode;\n    }\n    addUISourceCode(uiSourceCode) {\n        const canonicalSourceCode = this.canonicalUISourceCode(uiSourceCode);\n        const duplicated = canonicalSourceCode !== uiSourceCode;\n        const binding = Persistence.Persistence.PersistenceImpl.instance().binding(canonicalSourceCode);\n        uiSourceCode = binding ? binding.fileSystem : canonicalSourceCode;\n        if (duplicated && uiSourceCode.project().type() !== Workspace.Workspace.projectTypes.FileSystem) {\n            uiSourceCode.disableEdit();\n        }\n        if (this.currentFileInternal?.canononicalScriptId() === uiSourceCode.canononicalScriptId()) {\n            return;\n        }\n        const index = this.history.index(historyItemKey(uiSourceCode));\n        if (index === -1) {\n            return;\n        }\n        if (!this.tabIds.has(uiSourceCode)) {\n            this.appendFileTab(uiSourceCode, false);\n        }\n        // Select tab if this file was the last to be shown.\n        if (!index) {\n            this.innerShowFile(uiSourceCode, false);\n            return;\n        }\n        if (!this.currentFileInternal) {\n            return;\n        }\n        const currentProjectIsSnippets = Snippets.ScriptSnippetFileSystem.isSnippetsUISourceCode(this.currentFileInternal);\n        const addedProjectIsSnippets = Snippets.ScriptSnippetFileSystem.isSnippetsUISourceCode(uiSourceCode);\n        if (this.history.index(historyItemKey(this.currentFileInternal)) && currentProjectIsSnippets &&\n            !addedProjectIsSnippets) {\n            this.innerShowFile(uiSourceCode, false);\n        }\n    }\n    removeUISourceCode(uiSourceCode) {\n        this.removeUISourceCodes([uiSourceCode]);\n    }\n    removeUISourceCodes(uiSourceCodes) {\n        const tabIds = [];\n        for (const uiSourceCode of uiSourceCodes) {\n            const tabId = this.tabIds.get(uiSourceCode);\n            if (tabId) {\n                tabIds.push(tabId);\n            }\n            if (this.uriToUISourceCode.get(uiSourceCode.url()) === uiSourceCode) {\n                this.uriToUISourceCode.delete(uiSourceCode.url());\n            }\n            if (this.idToUISourceCode.get(uiSourceCode.canononicalScriptId()) === uiSourceCode) {\n                this.idToUISourceCode.delete(uiSourceCode.canononicalScriptId());\n            }\n        }\n        this.tabbedPane.closeTabs(tabIds);\n    }\n    editorClosedByUserAction(uiSourceCode) {\n        this.history.remove(historyItemKey(uiSourceCode));\n        this.updateHistory();\n    }\n    editorSelectedByUserAction() {\n        this.updateHistory();\n    }\n    updateHistory() {\n        const historyItemKeys = [];\n        for (const tabId of this.tabbedPane.lastOpenedTabIds(MAX_PREVIOUSLY_VIEWED_FILES_COUNT)) {\n            const uiSourceCode = this.files.get(tabId);\n            if (uiSourceCode !== undefined) {\n                historyItemKeys.push(historyItemKey(uiSourceCode));\n            }\n        }\n        this.history.update(historyItemKeys);\n        this.previouslyViewedFilesSetting.set(this.history.toObject());\n    }\n    tooltipForFile(uiSourceCode) {\n        uiSourceCode = Persistence.Persistence.PersistenceImpl.instance().network(uiSourceCode) || uiSourceCode;\n        return uiSourceCode.url();\n    }\n    appendFileTab(uiSourceCode, userGesture, index, replaceView) {\n        const view = replaceView || this.delegate.viewForFile(uiSourceCode);\n        const title = this.titleForFile(uiSourceCode);\n        const tooltip = this.tooltipForFile(uiSourceCode);\n        const tabId = this.generateTabId();\n        this.tabIds.set(uiSourceCode, tabId);\n        this.files.set(tabId, uiSourceCode);\n        if (!replaceView) {\n            const savedSelectionRange = this.history.selectionRange(historyItemKey(uiSourceCode));\n            const savedScrollLineNumber = this.history.scrollLineNumber(historyItemKey(uiSourceCode));\n            this.restoreEditorProperties(view, savedSelectionRange, savedScrollLineNumber);\n        }\n        this.tabbedPane.appendTab(tabId, title, view, tooltip, userGesture, undefined, undefined, index, 'editor');\n        this.updateFileTitle(uiSourceCode);\n        this.addUISourceCodeListeners(uiSourceCode);\n        if (uiSourceCode.loadError()) {\n            this.addLoadErrorIcon(tabId);\n        }\n        else if (!uiSourceCode.contentLoaded()) {\n            void uiSourceCode.requestContent().then(_content => {\n                if (uiSourceCode.loadError()) {\n                    this.addLoadErrorIcon(tabId);\n                }\n            });\n        }\n        return tabId;\n    }\n    addLoadErrorIcon(tabId) {\n        const icon = new IconButton.Icon.Icon();\n        icon.data = { iconName: 'cross-circle-filled', color: 'var(--icon-error)', width: '14px', height: '14px' };\n        UI.Tooltip.Tooltip.install(icon, i18nString(UIStrings.unableToLoadThisContent));\n        if (this.tabbedPane.tabView(tabId)) {\n            this.tabbedPane.setTabIcon(tabId, icon);\n        }\n    }\n    restoreEditorProperties(editorView, selection, firstLineNumber) {\n        const sourceFrame = editorView instanceof SourceFrame.SourceFrame.SourceFrameImpl ?\n            editorView :\n            null;\n        if (!sourceFrame) {\n            return;\n        }\n        if (selection) {\n            sourceFrame.setSelection(selection);\n        }\n        if (typeof firstLineNumber === 'number') {\n            sourceFrame.scrollToLine(firstLineNumber);\n        }\n    }\n    tabClosed(event) {\n        const { tabId, isUserGesture } = event.data;\n        const uiSourceCode = this.files.get(tabId);\n        if (this.currentFileInternal &&\n            this.currentFileInternal.canononicalScriptId() === uiSourceCode?.canononicalScriptId()) {\n            this.removeViewListeners();\n            this.currentView = null;\n            this.currentFileInternal = null;\n        }\n        if (uiSourceCode) {\n            this.tabIds.delete(uiSourceCode);\n        }\n        this.files.delete(tabId);\n        if (uiSourceCode) {\n            this.removeUISourceCodeListeners(uiSourceCode);\n            this.dispatchEventToListeners(\"EditorClosed\" /* Events.EDITOR_CLOSED */, uiSourceCode);\n            if (isUserGesture) {\n                this.editorClosedByUserAction(uiSourceCode);\n            }\n        }\n    }\n    tabSelected(event) {\n        const { tabId, isUserGesture } = event.data;\n        const uiSourceCode = this.files.get(tabId);\n        if (uiSourceCode) {\n            this.innerShowFile(uiSourceCode, isUserGesture);\n        }\n    }\n    addUISourceCodeListeners(uiSourceCode) {\n        uiSourceCode.addEventListener(Workspace.UISourceCode.Events.TitleChanged, this.uiSourceCodeTitleChanged, this);\n        uiSourceCode.addEventListener(Workspace.UISourceCode.Events.WorkingCopyChanged, this.uiSourceCodeWorkingCopyChanged, this);\n        uiSourceCode.addEventListener(Workspace.UISourceCode.Events.WorkingCopyCommitted, this.uiSourceCodeWorkingCopyCommitted, this);\n    }\n    removeUISourceCodeListeners(uiSourceCode) {\n        uiSourceCode.removeEventListener(Workspace.UISourceCode.Events.TitleChanged, this.uiSourceCodeTitleChanged, this);\n        uiSourceCode.removeEventListener(Workspace.UISourceCode.Events.WorkingCopyChanged, this.uiSourceCodeWorkingCopyChanged, this);\n        uiSourceCode.removeEventListener(Workspace.UISourceCode.Events.WorkingCopyCommitted, this.uiSourceCodeWorkingCopyCommitted, this);\n    }\n    updateFileTitle(uiSourceCode) {\n        const tabId = this.tabIds.get(uiSourceCode);\n        if (tabId) {\n            const title = this.titleForFile(uiSourceCode);\n            const tooltip = this.tooltipForFile(uiSourceCode);\n            this.tabbedPane.changeTabTitle(tabId, title, tooltip);\n            let icon = null;\n            if (uiSourceCode.loadError()) {\n                icon = new IconButton.Icon.Icon();\n                icon.data = { iconName: 'cross-circle-filled', color: 'var(--icon-error)', width: '14px', height: '14px' };\n                UI.Tooltip.Tooltip.install(icon, i18nString(UIStrings.unableToLoadThisContent));\n            }\n            else if (Persistence.Persistence.PersistenceImpl.instance().hasUnsavedCommittedChanges(uiSourceCode)) {\n                icon = new IconButton.Icon.Icon();\n                icon.data = { iconName: 'warning-filled', color: 'var(--icon-warning)', width: '14px', height: '14px' };\n                UI.Tooltip.Tooltip.install(icon, i18nString(UIStrings.changesToThisFileWereNotSavedTo));\n            }\n            else {\n                icon = Persistence.PersistenceUtils.PersistenceUtils.iconForUISourceCode(uiSourceCode);\n            }\n            this.tabbedPane.setTabIcon(tabId, icon);\n        }\n    }\n    uiSourceCodeTitleChanged(event) {\n        const uiSourceCode = event.data;\n        this.updateFileTitle(uiSourceCode);\n        this.updateHistory();\n        // Remove from map under old url if it has changed.\n        for (const [k, v] of this.uriToUISourceCode) {\n            if (v === uiSourceCode && k !== v.url()) {\n                this.uriToUISourceCode.delete(k);\n            }\n        }\n        // Remove from map under old id if it has changed.\n        for (const [k, v] of this.idToUISourceCode) {\n            if (v === uiSourceCode && k !== v.canononicalScriptId()) {\n                this.idToUISourceCode.delete(k);\n            }\n        }\n        // Ensure it is mapped under current url and id.\n        this.canonicalUISourceCode(uiSourceCode);\n    }\n    uiSourceCodeWorkingCopyChanged(event) {\n        const uiSourceCode = event.data;\n        this.updateFileTitle(uiSourceCode);\n    }\n    uiSourceCodeWorkingCopyCommitted(event) {\n        const uiSourceCode = event.data.uiSourceCode;\n        this.updateFileTitle(uiSourceCode);\n    }\n    generateTabId() {\n        return 'tab-' + (tabId++);\n    }\n    currentFile() {\n        return this.currentFileInternal || null;\n    }\n}\nconst MAX_PREVIOUSLY_VIEWED_FILES_COUNT = 30;\nconst MAX_SERIALIZABLE_URL_LENGTH = 4096;\nfunction historyItemKey(uiSourceCode) {\n    return { url: uiSourceCode.url(), resourceType: uiSourceCode.contentType() };\n}\nexport class HistoryItem {\n    url;\n    resourceType;\n    selectionRange;\n    scrollLineNumber;\n    constructor(url, resourceType, selectionRange, scrollLineNumber) {\n        this.url = url;\n        this.resourceType = resourceType;\n        this.selectionRange = selectionRange;\n        this.scrollLineNumber = scrollLineNumber;\n    }\n    static fromObject(serializedHistoryItem) {\n        const resourceType = Common.ResourceType.ResourceType.fromName(serializedHistoryItem.resourceTypeName);\n        if (resourceType === null) {\n            throw new TypeError(`Invalid resource type name \"${serializedHistoryItem.resourceTypeName}\"`);\n        }\n        const selectionRange = serializedHistoryItem.selectionRange ?\n            TextUtils.TextRange.TextRange.fromObject(serializedHistoryItem.selectionRange) :\n            undefined;\n        return new HistoryItem(serializedHistoryItem.url, resourceType, selectionRange, serializedHistoryItem.scrollLineNumber);\n    }\n    toObject() {\n        if (this.url.length >= MAX_SERIALIZABLE_URL_LENGTH) {\n            return null;\n        }\n        return {\n            url: this.url,\n            resourceTypeName: this.resourceType.name(),\n            selectionRange: this.selectionRange,\n            scrollLineNumber: this.scrollLineNumber,\n        };\n    }\n}\nexport class History {\n    items;\n    constructor(items) {\n        this.items = items;\n    }\n    static fromObject(serializedHistoryItems) {\n        const items = [];\n        for (const serializedHistoryItem of serializedHistoryItems) {\n            try {\n                items.push(HistoryItem.fromObject(serializedHistoryItem));\n            }\n            catch {\n            }\n        }\n        return new History(items);\n    }\n    index({ url, resourceType }) {\n        return this.items.findIndex(item => item.url === url && item.resourceType === resourceType);\n    }\n    selectionRange(key) {\n        const index = this.index(key);\n        if (index === -1) {\n            return undefined;\n        }\n        return this.items[index].selectionRange;\n    }\n    updateSelectionRange(key, selectionRange) {\n        if (!selectionRange) {\n            return;\n        }\n        const index = this.index(key);\n        if (index === -1) {\n            return;\n        }\n        this.items[index].selectionRange = selectionRange;\n    }\n    scrollLineNumber(key) {\n        const index = this.index(key);\n        if (index === -1) {\n            return;\n        }\n        return this.items[index].scrollLineNumber;\n    }\n    updateScrollLineNumber(key, scrollLineNumber) {\n        const index = this.index(key);\n        if (index === -1) {\n            return;\n        }\n        this.items[index].scrollLineNumber = scrollLineNumber;\n    }\n    update(keys) {\n        for (let i = keys.length - 1; i >= 0; --i) {\n            const index = this.index(keys[i]);\n            let item;\n            if (index !== -1) {\n                item = this.items[index];\n                this.items.splice(index, 1);\n            }\n            else {\n                item = new HistoryItem(keys[i].url, keys[i].resourceType);\n            }\n            this.items.unshift(item);\n        }\n    }\n    remove(key) {\n        const index = this.index(key);\n        if (index === -1) {\n            return;\n        }\n        this.items.splice(index, 1);\n    }\n    toObject() {\n        const serializedHistoryItems = [];\n        for (const item of this.items) {\n            const serializedItem = item.toObject();\n            if (serializedItem) {\n                serializedHistoryItems.push(serializedItem);\n            }\n            if (serializedHistoryItems.length === MAX_PREVIOUSLY_VIEWED_FILES_COUNT) {\n                break;\n            }\n        }\n        return serializedHistoryItems;\n    }\n    // eslint-disable-next-line rulesdir/prefer_readonly_keyword\n    keys() {\n        return this.items;\n    }\n}\nexport class EditorContainerTabDelegate {\n    editorContainer;\n    constructor(editorContainer) {\n        this.editorContainer = editorContainer;\n    }\n    closeTabs(_tabbedPane, ids) {\n        this.editorContainer.closeTabs(ids);\n    }\n    onContextMenu(tabId, contextMenu) {\n        this.editorContainer.onContextMenu(tabId, contextMenu);\n    }\n}\n//# sourceMappingURL=TabbedEditorContainer.js.map","// Copyright 2014 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\nimport * as Common from '../../core/common/common.js';\nimport * as Host from '../../core/host/host.js';\nimport * as i18n from '../../core/i18n/i18n.js';\nimport * as Platform from '../../core/platform/platform.js';\nimport * as SDK from '../../core/sdk/sdk.js';\nimport * as Bindings from '../../models/bindings/bindings.js';\nimport * as Persistence from '../../models/persistence/persistence.js';\nimport * as Workspace from '../../models/workspace/workspace.js';\nimport * as QuickOpen from '../../ui/legacy/components/quick_open/quick_open.js';\nimport * as SourceFrame from '../../ui/legacy/components/source_frame/source_frame.js';\nimport * as UI from '../../ui/legacy/legacy.js';\nimport * as VisualLogging from '../../ui/visual_logging/visual_logging.js';\nimport * as Components from './components/components.js';\nimport { EditingLocationHistoryManager } from './EditingLocationHistoryManager.js';\nimport sourcesViewStyles from './sourcesView.css.js';\nimport { TabbedEditorContainer, } from './TabbedEditorContainer.js';\nimport { UISourceCodeFrame } from './UISourceCodeFrame.js';\nconst UIStrings = {\n    /**\n     *@description Text to open a file\n     */\n    openFile: 'Open file',\n    /**\n     *@description Text to run commands\n     */\n    runCommand: 'Run command',\n    /**\n     *@description Text in Sources View of the Sources panel. This sentence follows by a list of actions.\n     */\n    workspaceDropInAFolderToSyncSources: 'To sync edits to the workspace, drop a folder with your sources here or',\n    /**\n     *@description Text in Sources View of the Sources panel.\n     */\n    selectFolder: 'Select folder',\n    /**\n     *@description Accessible label for Sources placeholder view actions list\n     */\n    sourceViewActions: 'Source View Actions',\n};\nconst str_ = i18n.i18n.registerUIStrings('panels/sources/SourcesView.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\nexport class SourcesView extends Common.ObjectWrapper.eventMixin(UI.Widget.VBox) {\n    selectedIndex;\n    searchableViewInternal;\n    sourceViewByUISourceCode;\n    editorContainer;\n    historyManager;\n    toolbarContainerElementInternal;\n    scriptViewToolbar;\n    bottomToolbarInternal;\n    toolbarChangedListener;\n    focusedPlaceholderElement;\n    searchView;\n    searchConfig;\n    constructor() {\n        super();\n        this.element.id = 'sources-panel-sources-view';\n        this.element.setAttribute('jslog', `${VisualLogging.pane('editor').track({ keydown: 'Escape' })}`);\n        this.setMinimumAndPreferredSizes(88, 52, 150, 100);\n        this.selectedIndex = 0;\n        const workspace = Workspace.Workspace.WorkspaceImpl.instance();\n        this.searchableViewInternal = new UI.SearchableView.SearchableView(this, this, 'sources-view-search-config');\n        this.searchableViewInternal.setMinimalSearchQuerySize(0);\n        this.searchableViewInternal.show(this.element);\n        this.sourceViewByUISourceCode = new Map();\n        this.editorContainer = new TabbedEditorContainer(this, Common.Settings.Settings.instance().createLocalSetting('previously-viewed-files', []), this.placeholderElement(), this.focusedPlaceholderElement);\n        this.editorContainer.show(this.searchableViewInternal.element);\n        this.editorContainer.addEventListener(\"EditorSelected\" /* TabbedEditorContainerEvents.EDITOR_SELECTED */, this.editorSelected, this);\n        this.editorContainer.addEventListener(\"EditorClosed\" /* TabbedEditorContainerEvents.EDITOR_CLOSED */, this.editorClosed, this);\n        this.historyManager = new EditingLocationHistoryManager(this);\n        this.toolbarContainerElementInternal = this.element.createChild('div', 'sources-toolbar');\n        this.toolbarContainerElementInternal.setAttribute('jslog', `${VisualLogging.toolbar('bottom')}`);\n        this.scriptViewToolbar = new UI.Toolbar.Toolbar('', this.toolbarContainerElementInternal);\n        this.scriptViewToolbar.element.style.flex = 'auto';\n        this.bottomToolbarInternal = new UI.Toolbar.Toolbar('', this.toolbarContainerElementInternal);\n        this.toolbarChangedListener = null;\n        UI.UIUtils.startBatchUpdate();\n        workspace.uiSourceCodes().forEach(this.addUISourceCode.bind(this));\n        UI.UIUtils.endBatchUpdate();\n        workspace.addEventListener(Workspace.Workspace.Events.UISourceCodeAdded, this.uiSourceCodeAdded, this);\n        workspace.addEventListener(Workspace.Workspace.Events.UISourceCodeRemoved, this.uiSourceCodeRemoved, this);\n        workspace.addEventListener(Workspace.Workspace.Events.ProjectRemoved, this.projectRemoved.bind(this), this);\n        SDK.TargetManager.TargetManager.instance().addScopeChangeListener(this.#onScopeChange.bind(this));\n        function handleBeforeUnload(event) {\n            if (event.returnValue) {\n                return;\n            }\n            const unsavedSourceCodes = [];\n            const projects = Workspace.Workspace.WorkspaceImpl.instance().projectsForType(Workspace.Workspace.projectTypes.FileSystem);\n            for (const project of projects) {\n                for (const uiSourceCode of project.uiSourceCodes()) {\n                    if (uiSourceCode.isDirty()) {\n                        unsavedSourceCodes.push(uiSourceCode);\n                    }\n                }\n            }\n            if (!unsavedSourceCodes.length) {\n                return;\n            }\n            event.returnValue = true;\n            void UI.ViewManager.ViewManager.instance().showView('sources');\n            for (const sourceCode of unsavedSourceCodes) {\n                void Common.Revealer.reveal(sourceCode);\n            }\n        }\n        if (!window.opener) {\n            window.addEventListener('beforeunload', handleBeforeUnload, true);\n        }\n    }\n    placeholderElement() {\n        const shortcuts = [\n            { actionId: 'quick-open.show', description: i18nString(UIStrings.openFile) },\n            { actionId: 'quick-open.show-command-menu', description: i18nString(UIStrings.runCommand) },\n            {\n                actionId: 'sources.add-folder-to-workspace',\n                description: i18nString(UIStrings.workspaceDropInAFolderToSyncSources),\n                isWorkspace: true,\n            },\n        ];\n        const list = document.createElement('div');\n        UI.ARIAUtils.markAsList(list);\n        UI.ARIAUtils.setLabel(list, i18nString(UIStrings.sourceViewActions));\n        for (const shortcut of shortcuts) {\n            const shortcutKeyText = UI.ShortcutRegistry.ShortcutRegistry.instance().shortcutTitleForAction(shortcut.actionId);\n            const listItemElement = list.createChild('div', 'tabbed-pane-placeholder-row');\n            UI.ARIAUtils.markAsListitem(listItemElement);\n            if (shortcutKeyText) {\n                const title = listItemElement.createChild('span');\n                title.textContent = shortcutKeyText;\n                const button = listItemElement.createChild('button');\n                button.textContent = shortcut.description;\n                const action = UI.ActionRegistry.ActionRegistry.instance().getAction(shortcut.actionId);\n                button.addEventListener('click', () => action.execute());\n            }\n            if (shortcut.isWorkspace) {\n                const workspace = listItemElement.createChild('span', 'workspace');\n                workspace.textContent = shortcut.description;\n                const browseButton = workspace.createChild('button');\n                browseButton.textContent = i18nString(UIStrings.selectFolder);\n                browseButton.addEventListener('click', this.addFileSystemClicked.bind(this));\n            }\n        }\n        return list;\n    }\n    async addFileSystemClicked() {\n        const result = await Persistence.IsolatedFileSystemManager.IsolatedFileSystemManager.instance().addFileSystem();\n        if (!result) {\n            return;\n        }\n        Host.userMetrics.actionTaken(Host.UserMetrics.Action.WorkspaceSelectFolder);\n        void UI.ViewManager.ViewManager.instance().showView('navigator-files');\n    }\n    static defaultUISourceCodeScores() {\n        const defaultScores = new Map();\n        const sourcesView = UI.Context.Context.instance().flavor(SourcesView);\n        if (sourcesView) {\n            const uiSourceCodes = sourcesView.editorContainer.historyUISourceCodes();\n            for (let i = 1; i < uiSourceCodes.length; ++i) // Skip current element\n             {\n                defaultScores.set(uiSourceCodes[i], uiSourceCodes.length - i);\n            }\n        }\n        return defaultScores;\n    }\n    leftToolbar() {\n        return this.editorContainer.leftToolbar();\n    }\n    rightToolbar() {\n        return this.editorContainer.rightToolbar();\n    }\n    bottomToolbar() {\n        return this.bottomToolbarInternal;\n    }\n    wasShown() {\n        super.wasShown();\n        this.registerCSSFiles([sourcesViewStyles]);\n        UI.Context.Context.instance().setFlavor(SourcesView, this);\n    }\n    willHide() {\n        UI.Context.Context.instance().setFlavor(SourcesView, null);\n        super.willHide();\n    }\n    toolbarContainerElement() {\n        return this.toolbarContainerElementInternal;\n    }\n    searchableView() {\n        return this.searchableViewInternal;\n    }\n    visibleView() {\n        return this.editorContainer.visibleView;\n    }\n    currentSourceFrame() {\n        const view = this.visibleView();\n        if (!(view instanceof UISourceCodeFrame)) {\n            return null;\n        }\n        return view;\n    }\n    currentUISourceCode() {\n        return this.editorContainer.currentFile();\n    }\n    onCloseEditorTab() {\n        const uiSourceCode = this.editorContainer.currentFile();\n        if (!uiSourceCode) {\n            return false;\n        }\n        this.editorContainer.closeFile(uiSourceCode);\n        return true;\n    }\n    onJumpToPreviousLocation() {\n        this.historyManager.rollback();\n    }\n    onJumpToNextLocation() {\n        this.historyManager.rollover();\n    }\n    #onScopeChange() {\n        const workspace = Workspace.Workspace.WorkspaceImpl.instance();\n        for (const uiSourceCode of workspace.uiSourceCodes()) {\n            if (uiSourceCode.project().type() !== Workspace.Workspace.projectTypes.Network) {\n                continue;\n            }\n            const target = Bindings.NetworkProject.NetworkProject.targetForUISourceCode(uiSourceCode);\n            if (SDK.TargetManager.TargetManager.instance().isInScope(target)) {\n                this.addUISourceCode(uiSourceCode);\n            }\n            else {\n                this.removeUISourceCodes([uiSourceCode]);\n            }\n        }\n    }\n    uiSourceCodeAdded(event) {\n        const uiSourceCode = event.data;\n        this.addUISourceCode(uiSourceCode);\n    }\n    addUISourceCode(uiSourceCode) {\n        const project = uiSourceCode.project();\n        if (project.isServiceProject()) {\n            return;\n        }\n        switch (project.type()) {\n            case Workspace.Workspace.projectTypes.FileSystem: {\n                if (Persistence.FileSystemWorkspaceBinding.FileSystemWorkspaceBinding.fileSystemType(project) === 'overrides') {\n                    return;\n                }\n                break;\n            }\n            case Workspace.Workspace.projectTypes.Network: {\n                const target = Bindings.NetworkProject.NetworkProject.targetForUISourceCode(uiSourceCode);\n                if (!SDK.TargetManager.TargetManager.instance().isInScope(target)) {\n                    return;\n                }\n            }\n        }\n        this.editorContainer.addUISourceCode(uiSourceCode);\n    }\n    uiSourceCodeRemoved(event) {\n        const uiSourceCode = event.data;\n        this.removeUISourceCodes([uiSourceCode]);\n    }\n    removeUISourceCodes(uiSourceCodes) {\n        this.editorContainer.removeUISourceCodes(uiSourceCodes);\n        for (let i = 0; i < uiSourceCodes.length; ++i) {\n            this.removeSourceFrame(uiSourceCodes[i]);\n            this.historyManager.removeHistoryForSourceCode(uiSourceCodes[i]);\n        }\n    }\n    projectRemoved(event) {\n        const project = event.data;\n        const uiSourceCodes = project.uiSourceCodes();\n        this.removeUISourceCodes([...uiSourceCodes]);\n    }\n    updateScriptViewToolbarItems() {\n        const view = this.visibleView();\n        if (view instanceof UI.View.SimpleView) {\n            void view.toolbarItems().then(items => {\n                this.scriptViewToolbar.removeToolbarItems();\n                for (const action of getRegisteredEditorActions()) {\n                    this.scriptViewToolbar.appendToolbarItem(action.getOrCreateButton(this));\n                }\n                items.map(item => this.scriptViewToolbar.appendToolbarItem(item));\n            });\n        }\n    }\n    showSourceLocation(uiSourceCode, location, omitFocus, omitHighlight) {\n        const currentFrame = this.currentSourceFrame();\n        if (currentFrame) {\n            this.historyManager.updateCurrentState(currentFrame.uiSourceCode(), currentFrame.textEditor.state.selection.main.head);\n        }\n        this.editorContainer.showFile(uiSourceCode);\n        const currentSourceFrame = this.currentSourceFrame();\n        if (currentSourceFrame && location) {\n            currentSourceFrame.revealPosition(location, !omitHighlight);\n        }\n        const visibleView = this.visibleView();\n        if (!omitFocus && visibleView) {\n            visibleView.focus();\n        }\n    }\n    createSourceView(uiSourceCode) {\n        let sourceView;\n        const contentType = uiSourceCode.contentType();\n        if (contentType === Common.ResourceType.resourceTypes.Image) {\n            sourceView = new SourceFrame.ImageView.ImageView(uiSourceCode.mimeType(), uiSourceCode);\n        }\n        else if (contentType === Common.ResourceType.resourceTypes.Font) {\n            sourceView = new SourceFrame.FontView.FontView(uiSourceCode.mimeType(), uiSourceCode);\n        }\n        else if (uiSourceCode.name() === HEADER_OVERRIDES_FILENAME) {\n            sourceView = new Components.HeadersView.HeadersView(uiSourceCode);\n        }\n        else {\n            sourceView = new UISourceCodeFrame(uiSourceCode);\n            this.historyManager.trackSourceFrameCursorJumps(sourceView);\n        }\n        uiSourceCode.addEventListener(Workspace.UISourceCode.Events.TitleChanged, this.#uiSourceCodeTitleChanged, this);\n        this.sourceViewByUISourceCode.set(uiSourceCode, sourceView);\n        return sourceView;\n    }\n    #sourceViewTypeForWidget(widget) {\n        if (widget instanceof SourceFrame.ImageView.ImageView) {\n            return \"ImageView\" /* SourceViewType.IMAGE_VIEW */;\n        }\n        if (widget instanceof SourceFrame.FontView.FontView) {\n            return \"FontView\" /* SourceViewType.FONT_VIEW */;\n        }\n        if (widget instanceof Components.HeadersView.HeadersView) {\n            return \"HeadersView\" /* SourceViewType.HEADERS_VIEW */;\n        }\n        return \"SourceView\" /* SourceViewType.SOURCE_VIEW */;\n    }\n    #sourceViewTypeForUISourceCode(uiSourceCode) {\n        if (uiSourceCode.name() === HEADER_OVERRIDES_FILENAME) {\n            return \"HeadersView\" /* SourceViewType.HEADERS_VIEW */;\n        }\n        const contentType = uiSourceCode.contentType();\n        switch (contentType) {\n            case Common.ResourceType.resourceTypes.Image:\n                return \"ImageView\" /* SourceViewType.IMAGE_VIEW */;\n            case Common.ResourceType.resourceTypes.Font:\n                return \"FontView\" /* SourceViewType.FONT_VIEW */;\n            default:\n                return \"SourceView\" /* SourceViewType.SOURCE_VIEW */;\n        }\n    }\n    #uiSourceCodeTitleChanged(event) {\n        const uiSourceCode = event.data;\n        const widget = this.sourceViewByUISourceCode.get(uiSourceCode);\n        if (widget) {\n            if (this.#sourceViewTypeForWidget(widget) !== this.#sourceViewTypeForUISourceCode(uiSourceCode)) {\n                // Remove the exisiting editor tab and create a new one of the correct type.\n                this.removeUISourceCodes([uiSourceCode]);\n                this.showSourceLocation(uiSourceCode);\n            }\n        }\n    }\n    getSourceView(uiSourceCode) {\n        return this.sourceViewByUISourceCode.get(uiSourceCode);\n    }\n    getOrCreateSourceView(uiSourceCode) {\n        return this.sourceViewByUISourceCode.get(uiSourceCode) || this.createSourceView(uiSourceCode);\n    }\n    recycleUISourceCodeFrame(sourceFrame, uiSourceCode) {\n        sourceFrame.uiSourceCode().removeEventListener(Workspace.UISourceCode.Events.TitleChanged, this.#uiSourceCodeTitleChanged, this);\n        this.sourceViewByUISourceCode.delete(sourceFrame.uiSourceCode());\n        sourceFrame.setUISourceCode(uiSourceCode);\n        this.sourceViewByUISourceCode.set(uiSourceCode, sourceFrame);\n        uiSourceCode.addEventListener(Workspace.UISourceCode.Events.TitleChanged, this.#uiSourceCodeTitleChanged, this);\n    }\n    viewForFile(uiSourceCode) {\n        return this.getOrCreateSourceView(uiSourceCode);\n    }\n    removeSourceFrame(uiSourceCode) {\n        const sourceView = this.sourceViewByUISourceCode.get(uiSourceCode);\n        this.sourceViewByUISourceCode.delete(uiSourceCode);\n        if (sourceView && sourceView instanceof UISourceCodeFrame) {\n            sourceView.dispose();\n        }\n        uiSourceCode.removeEventListener(Workspace.UISourceCode.Events.TitleChanged, this.#uiSourceCodeTitleChanged, this);\n    }\n    editorClosed(event) {\n        const uiSourceCode = event.data;\n        this.historyManager.removeHistoryForSourceCode(uiSourceCode);\n        let wasSelected = false;\n        if (!this.editorContainer.currentFile()) {\n            wasSelected = true;\n        }\n        // SourcesNavigator does not need to update on EditorClosed.\n        this.removeToolbarChangedListener();\n        this.updateScriptViewToolbarItems();\n        this.searchableViewInternal.resetSearch();\n        const data = {\n            uiSourceCode,\n            wasSelected,\n        };\n        this.dispatchEventToListeners(\"EditorClosed\" /* Events.EDITOR_CLOSED */, data);\n    }\n    editorSelected(event) {\n        const previousSourceFrame = event.data.previousView instanceof UISourceCodeFrame ? event.data.previousView : null;\n        if (previousSourceFrame) {\n            previousSourceFrame.setSearchableView(null);\n        }\n        const currentSourceFrame = event.data.currentView instanceof UISourceCodeFrame ? event.data.currentView : null;\n        if (currentSourceFrame) {\n            currentSourceFrame.setSearchableView(this.searchableViewInternal);\n        }\n        this.searchableViewInternal.setReplaceable(Boolean(currentSourceFrame?.canEditSource()));\n        this.searchableViewInternal.refreshSearch();\n        this.updateToolbarChangedListener();\n        this.updateScriptViewToolbarItems();\n        const currentFile = this.editorContainer.currentFile();\n        if (currentFile) {\n            this.dispatchEventToListeners(\"EditorSelected\" /* Events.EDITOR_SELECTED */, currentFile);\n        }\n    }\n    removeToolbarChangedListener() {\n        if (this.toolbarChangedListener) {\n            Common.EventTarget.removeEventListeners([this.toolbarChangedListener]);\n        }\n        this.toolbarChangedListener = null;\n    }\n    updateToolbarChangedListener() {\n        this.removeToolbarChangedListener();\n        const sourceFrame = this.currentSourceFrame();\n        if (!sourceFrame) {\n            return;\n        }\n        this.toolbarChangedListener = sourceFrame.addEventListener(\"ToolbarItemsChanged\" /* UISourceCodeFrameEvents.TOOLBAR_ITEMS_CHANGED */, this.updateScriptViewToolbarItems, this);\n    }\n    onSearchCanceled() {\n        if (this.searchView) {\n            this.searchView.onSearchCanceled();\n        }\n        delete this.searchView;\n        delete this.searchConfig;\n    }\n    performSearch(searchConfig, shouldJump, jumpBackwards) {\n        const sourceFrame = this.currentSourceFrame();\n        if (!sourceFrame) {\n            return;\n        }\n        this.searchView = sourceFrame;\n        this.searchConfig = searchConfig;\n        this.searchView.performSearch(this.searchConfig, shouldJump, jumpBackwards);\n    }\n    jumpToNextSearchResult() {\n        if (!this.searchView) {\n            return;\n        }\n        if (this.searchConfig && this.searchView !== this.currentSourceFrame()) {\n            this.performSearch(this.searchConfig, true);\n            return;\n        }\n        this.searchView.jumpToNextSearchResult();\n    }\n    jumpToPreviousSearchResult() {\n        if (!this.searchView) {\n            return;\n        }\n        if (this.searchConfig && this.searchView !== this.currentSourceFrame()) {\n            this.performSearch(this.searchConfig, true);\n            if (this.searchView) {\n                this.searchView.jumpToLastSearchResult();\n            }\n            return;\n        }\n        this.searchView.jumpToPreviousSearchResult();\n    }\n    supportsCaseSensitiveSearch() {\n        return true;\n    }\n    supportsRegexSearch() {\n        return true;\n    }\n    replaceSelectionWith(searchConfig, replacement) {\n        const sourceFrame = this.currentSourceFrame();\n        if (!sourceFrame) {\n            console.assert(Boolean(sourceFrame));\n            return;\n        }\n        sourceFrame.replaceSelectionWith(searchConfig, replacement);\n    }\n    replaceAllWith(searchConfig, replacement) {\n        const sourceFrame = this.currentSourceFrame();\n        if (!sourceFrame) {\n            console.assert(Boolean(sourceFrame));\n            return;\n        }\n        sourceFrame.replaceAllWith(searchConfig, replacement);\n    }\n    showOutlineQuickOpen() {\n        QuickOpen.QuickOpen.QuickOpenImpl.show('@');\n    }\n    showGoToLineQuickOpen() {\n        if (this.editorContainer.currentFile()) {\n            QuickOpen.QuickOpen.QuickOpenImpl.show(':');\n        }\n    }\n    save() {\n        this.saveSourceFrame(this.currentSourceFrame());\n    }\n    saveAll() {\n        const sourceFrames = this.editorContainer.fileViews();\n        sourceFrames.forEach(this.saveSourceFrame.bind(this));\n    }\n    saveSourceFrame(sourceFrame) {\n        if (!(sourceFrame instanceof UISourceCodeFrame)) {\n            return;\n        }\n        const uiSourceCodeFrame = sourceFrame;\n        uiSourceCodeFrame.commitEditing();\n    }\n    toggleBreakpointsActiveState(active) {\n        this.editorContainer.view.element.classList.toggle('breakpoints-deactivated', !active);\n    }\n}\nconst registeredEditorActions = [];\nexport function registerEditorAction(editorAction) {\n    registeredEditorActions.push(editorAction);\n}\nexport function getRegisteredEditorActions() {\n    return registeredEditorActions.map(editorAction => editorAction());\n}\nexport class SwitchFileActionDelegate {\n    static nextFile(currentUISourceCode) {\n        function fileNamePrefix(name) {\n            const lastDotIndex = name.lastIndexOf('.');\n            const namePrefix = name.substr(0, lastDotIndex !== -1 ? lastDotIndex : name.length);\n            return namePrefix.toLowerCase();\n        }\n        const candidates = [];\n        const url = currentUISourceCode.parentURL();\n        const name = currentUISourceCode.name();\n        const namePrefix = fileNamePrefix(name);\n        for (const uiSourceCode of currentUISourceCode.project().uiSourceCodes()) {\n            if (url !== uiSourceCode.parentURL()) {\n                continue;\n            }\n            if (fileNamePrefix(uiSourceCode.name()) === namePrefix) {\n                candidates.push(uiSourceCode.name());\n            }\n        }\n        candidates.sort(Platform.StringUtilities.naturalOrderComparator);\n        const index = Platform.NumberUtilities.mod(candidates.indexOf(name) + 1, candidates.length);\n        const fullURL = Common.ParsedURL.ParsedURL.concatenate((url ? Common.ParsedURL.ParsedURL.concatenate(url, '/') : ''), candidates[index]);\n        const nextUISourceCode = currentUISourceCode.project().uiSourceCodeForURL(fullURL);\n        return nextUISourceCode !== currentUISourceCode ? nextUISourceCode : null;\n    }\n    handleAction(context, _actionId) {\n        const sourcesView = context.flavor(SourcesView);\n        if (!sourcesView) {\n            return false;\n        }\n        const currentUISourceCode = sourcesView.currentUISourceCode();\n        if (!currentUISourceCode) {\n            return false;\n        }\n        const nextUISourceCode = SwitchFileActionDelegate.nextFile(currentUISourceCode);\n        if (!nextUISourceCode) {\n            return false;\n        }\n        sourcesView.showSourceLocation(nextUISourceCode);\n        return true;\n    }\n}\nexport class ActionDelegate {\n    handleAction(context, actionId) {\n        const sourcesView = context.flavor(SourcesView);\n        if (!sourcesView) {\n            return false;\n        }\n        switch (actionId) {\n            case 'sources.close-all':\n                sourcesView.editorContainer.closeAllFiles();\n                return true;\n            case 'sources.jump-to-previous-location':\n                sourcesView.onJumpToPreviousLocation();\n                return true;\n            case 'sources.jump-to-next-location':\n                sourcesView.onJumpToNextLocation();\n                return true;\n            case 'sources.next-editor-tab':\n                sourcesView.editorContainer.selectNextTab();\n                return true;\n            case 'sources.previous-editor-tab':\n                sourcesView.editorContainer.selectPrevTab();\n                return true;\n            case 'sources.close-editor-tab':\n                return sourcesView.onCloseEditorTab();\n            case 'sources.go-to-line':\n                sourcesView.showGoToLineQuickOpen();\n                return true;\n            case 'sources.go-to-member':\n                sourcesView.showOutlineQuickOpen();\n                return true;\n            case 'sources.save':\n                sourcesView.save();\n                return true;\n            case 'sources.save-all':\n                sourcesView.saveAll();\n                return true;\n        }\n        return false;\n    }\n}\nconst HEADER_OVERRIDES_FILENAME = '.headers';\n//# sourceMappingURL=SourcesView.js.map","// Copyright 2024 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n// IMPORTANT: this file is auto generated. Please do not edit this file.\n/* istanbul ignore file */\nconst styles = new CSSStyleSheet();\nstyles.replaceSync(\n`/*\n * Copyright 2017 The Chromium Authors. All rights reserved.\n * Use of this source code is governed by a BSD-style license that can be\n * found in the LICENSE file.\n */\n\n.thread-item {\n  padding: 3px 8px 3px 20px;\n  position: relative;\n  min-height: 18px;\n  line-height: 15px;\n  display: flex;\n  flex-wrap: wrap;\n}\n\n.thread-item + .thread-item {\n  border-top: 1px solid var(--sys-color-divider);\n}\n\n.thread-item:hover {\n  background-color: var(--sys-color-state-hover-on-subtle);\n}\n\n.thread-item:focus-visible {\n  background-color: var(--sys-color-tonal-container);\n}\n\n.thread-item-title,\n.thread-item-paused-state {\n  text-overflow: ellipsis;\n  overflow: hidden;\n  white-space: nowrap;\n}\n\n.thread-item-paused-state {\n  color: var(--sys-color-state-disabled);\n  margin-left: auto;\n  padding: 0 10px;\n}\n\n.selected-thread-icon {\n  display: none;\n  position: absolute;\n  top: 3px;\n  left: 4px;\n}\n\n.thread-item.selected .selected-thread-icon {\n  display: block;\n}\n\n@media (forced-colors: active) {\n  .thread-item:hover,\n  .thread-item:focus-visible {\n    forced-color-adjust: none;\n    background-color: Highlight;\n  }\n\n  .thread-item:hover > div,\n  .thread-item:focus-visible > div {\n    color: HighlightText;\n  }\n}\n\n/*# sourceURL=threadsSidebarPane.css */\n`);\n\nexport default styles;\n","// Copyright 2014 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\nimport * as i18n from '../../core/i18n/i18n.js';\nimport * as SDK from '../../core/sdk/sdk.js';\nimport * as IconButton from '../../ui/components/icon_button/icon_button.js';\nimport * as UI from '../../ui/legacy/legacy.js';\nimport * as VisualLogging from '../../ui/visual_logging/visual_logging.js';\nimport threadsSidebarPaneStyles from './threadsSidebarPane.css.js';\nconst UIStrings = {\n    /**\n     *@description Text in Threads Sidebar Pane of the Sources panel\n     */\n    paused: 'paused',\n};\nconst str_ = i18n.i18n.registerUIStrings('panels/sources/ThreadsSidebarPane.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\nexport class ThreadsSidebarPane extends UI.Widget.VBox {\n    items;\n    list;\n    selectedModel;\n    constructor() {\n        super(true);\n        this.contentElement.setAttribute('jslog', `${VisualLogging.section('sources.threads')}`);\n        this.items = new UI.ListModel.ListModel();\n        this.list = new UI.ListControl.ListControl(this.items, this, UI.ListControl.ListMode.NonViewport);\n        const currentTarget = UI.Context.Context.instance().flavor(SDK.Target.Target);\n        this.selectedModel = currentTarget !== null ? currentTarget.model(SDK.DebuggerModel.DebuggerModel) : null;\n        this.contentElement.appendChild(this.list.element);\n        UI.Context.Context.instance().addFlavorChangeListener(SDK.Target.Target, this.targetFlavorChanged, this);\n        SDK.TargetManager.TargetManager.instance().observeModels(SDK.DebuggerModel.DebuggerModel, this);\n    }\n    static shouldBeShown() {\n        return SDK.TargetManager.TargetManager.instance().models(SDK.DebuggerModel.DebuggerModel).length >= 2;\n    }\n    createElementForItem(debuggerModel) {\n        const element = document.createElement('div');\n        element.classList.add('thread-item');\n        const title = element.createChild('div', 'thread-item-title');\n        const pausedState = element.createChild('div', 'thread-item-paused-state');\n        const icon = new IconButton.Icon.Icon();\n        icon.data = {\n            iconName: 'large-arrow-right-filled',\n            color: 'var(--icon-arrow-main-thread)',\n            width: '14px',\n            height: '14px',\n        };\n        icon.classList.add('selected-thread-icon');\n        element.appendChild(icon);\n        element.tabIndex = -1;\n        self.onInvokeElement(element, event => {\n            UI.Context.Context.instance().setFlavor(SDK.Target.Target, debuggerModel.target());\n            event.consume(true);\n        });\n        const isSelected = UI.Context.Context.instance().flavor(SDK.Target.Target) === debuggerModel.target();\n        element.classList.toggle('selected', isSelected);\n        UI.ARIAUtils.setSelected(element, isSelected);\n        function updateTitle() {\n            const executionContext = debuggerModel.runtimeModel().defaultExecutionContext();\n            title.textContent =\n                executionContext && executionContext.label() ? executionContext.label() : debuggerModel.target().name();\n        }\n        function updatePausedState() {\n            pausedState.textContent = debuggerModel.isPaused() ? i18nString(UIStrings.paused) : '';\n        }\n        function targetNameChanged(event) {\n            const target = event.data;\n            if (target === debuggerModel.target()) {\n                updateTitle();\n            }\n        }\n        debuggerModel.addEventListener(SDK.DebuggerModel.Events.DebuggerPaused, updatePausedState);\n        debuggerModel.addEventListener(SDK.DebuggerModel.Events.DebuggerResumed, updatePausedState);\n        debuggerModel.runtimeModel().addEventListener(SDK.RuntimeModel.Events.ExecutionContextChanged, updateTitle);\n        SDK.TargetManager.TargetManager.instance().addEventListener(\"NameChanged\" /* SDK.TargetManager.Events.NAME_CHANGED */, targetNameChanged);\n        updatePausedState();\n        updateTitle();\n        return element;\n    }\n    heightForItem(_debuggerModel) {\n        console.assert(false); // Should not be called.\n        return 0;\n    }\n    isItemSelectable(_debuggerModel) {\n        return true;\n    }\n    selectedItemChanged(_from, _to, fromElement, toElement) {\n        const fromEle = fromElement;\n        if (fromEle) {\n            fromEle.tabIndex = -1;\n        }\n        const toEle = toElement;\n        if (toEle) {\n            this.setDefaultFocusedElement(toEle);\n            toEle.tabIndex = 0;\n            if (this.hasFocus()) {\n                toEle.focus();\n            }\n        }\n    }\n    updateSelectedItemARIA(_fromElement, _toElement) {\n        return false;\n    }\n    modelAdded(debuggerModel) {\n        this.items.insert(this.items.length, debuggerModel);\n        const currentTarget = UI.Context.Context.instance().flavor(SDK.Target.Target);\n        if (currentTarget === debuggerModel.target()) {\n            this.list.selectItem(debuggerModel);\n        }\n    }\n    modelRemoved(debuggerModel) {\n        this.items.remove(this.items.indexOf(debuggerModel));\n    }\n    targetFlavorChanged({ data: target }) {\n        const hadFocus = this.hasFocus();\n        const debuggerModel = target.model(SDK.DebuggerModel.DebuggerModel);\n        this.list.selectItem(debuggerModel);\n        if (debuggerModel) {\n            this.list.refreshItem(debuggerModel);\n        }\n        if (this.selectedModel !== null) {\n            this.list.refreshItem(this.selectedModel);\n        }\n        this.selectedModel = debuggerModel;\n        if (hadFocus) {\n            this.focus();\n        }\n    }\n    wasShown() {\n        super.wasShown();\n        this.registerCSSFiles([threadsSidebarPaneStyles]);\n    }\n}\n//# sourceMappingURL=ThreadsSidebarPane.js.map","// Copyright 2021 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n/*\n * Copyright (C) 2008 Apple Inc. All Rights Reserved.\n * Copyright (C) 2011 Google Inc. All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions\n * are met:\n * 1. Redistributions of source code must retain the above copyright\n *    notice, this list of conditions and the following disclaimer.\n * 2. Redistributions in binary form must reproduce the above copyright\n *    notice, this list of conditions and the following disclaimer in the\n *    documentation and/or other materials provided with the distribution.\n *\n * THIS SOFTWARE IS PROVIDED BY APPLE INC. ``AS IS'' AND ANY\n * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR\n * PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL APPLE INC. OR\n * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,\n * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,\n * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR\n * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY\n * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\nimport * as Common from '../../core/common/common.js';\nimport * as Host from '../../core/host/host.js';\nimport * as i18n from '../../core/i18n/i18n.js';\nimport * as Platform from '../../core/platform/platform.js';\nimport * as Root from '../../core/root/root.js';\nimport * as SDK from '../../core/sdk/sdk.js';\nimport * as Bindings from '../../models/bindings/bindings.js';\nimport * as Breakpoints from '../../models/breakpoints/breakpoints.js';\nimport * as Extensions from '../../models/extensions/extensions.js';\nimport * as Workspace from '../../models/workspace/workspace.js';\nimport * as IconButton from '../../ui/components/icon_button/icon_button.js';\nimport * as ObjectUI from '../../ui/legacy/components/object_ui/object_ui.js';\nimport * as UI from '../../ui/legacy/legacy.js';\nimport * as VisualLogging from '../../ui/visual_logging/visual_logging.js';\nimport * as Snippets from '../snippets/snippets.js';\nimport { CallStackSidebarPane } from './CallStackSidebarPane.js';\nimport { DebuggerPausedMessage } from './DebuggerPausedMessage.js';\nimport { NavigatorView } from './NavigatorView.js';\nimport sourcesPanelStyles from './sourcesPanel.css.js';\nimport { SourcesView } from './SourcesView.js';\nimport { ThreadsSidebarPane } from './ThreadsSidebarPane.js';\nimport { UISourceCodeFrame } from './UISourceCodeFrame.js';\nconst UIStrings = {\n    /**\n     *@description Text that appears when user drag and drop something (for example, a file) in Sources Panel of the Sources panel\n     */\n    dropWorkspaceFolderHere: 'Drop workspace folder here',\n    /**\n     *@description Text to show more options\n     */\n    moreOptions: 'More options',\n    /**\n     * @description Tooltip for the the navigator toggle in the Sources panel. Command to open/show the\n     * sidebar containing the navigator tool.\n     */\n    showNavigator: 'Show navigator',\n    /**\n     * @description Tooltip for the the navigator toggle in the Sources panel. Command to close/hide\n     * the sidebar containing the navigator tool.\n     */\n    hideNavigator: 'Hide navigator',\n    /**\n     * @description Screen reader announcement when the navigator sidebar is shown in the Sources panel.\n     */\n    navigatorShown: 'Navigator sidebar shown',\n    /**\n     * @description Screen reader announcement when the navigator sidebar is hidden in the Sources panel.\n     */\n    navigatorHidden: 'Navigator sidebar hidden',\n    /**\n     * @description Screen reader announcement when the navigator sidebar is shown in the Sources panel.\n     */\n    debuggerShown: 'Debugger sidebar shown',\n    /**\n     * @description Screen reader announcement when the navigator sidebar is hidden in the Sources panel.\n     */\n    debuggerHidden: 'Debugger sidebar hidden',\n    /**\n     * @description Tooltip for the the debugger toggle in the Sources panel. Command to open/show the\n     * sidebar containing the debugger tool.\n     */\n    showDebugger: 'Show debugger',\n    /**\n     * @description Tooltip for the the debugger toggle in the Sources panel. Command to close/hide the\n     * sidebar containing the debugger tool.\n     */\n    hideDebugger: 'Hide debugger',\n    /**\n     *@description Text in Sources Panel of the Sources panel\n     */\n    groupByFolder: 'Group by folder',\n    /**\n     *@description Text in Sources Panel of the Sources panel\n     */\n    groupByAuthored: 'Group by Authored/Deployed',\n    /**\n     *@description Text in Sources Panel of the Sources panel\n     */\n    hideIgnoreListed: 'Hide ignore-listed sources',\n    /**\n     *@description Tooltip text that appears when hovering over the largeicon play button in the Sources Panel of the Sources panel\n     */\n    resumeWithAllPausesBlockedForMs: 'Resume with all pauses blocked for 500 ms',\n    /**\n     *@description Tooltip text that appears when hovering over the largeicon terminate execution button in the Sources Panel of the Sources panel\n     */\n    terminateCurrentJavascriptCall: 'Terminate current JavaScript call',\n    /**\n     *@description Text in Sources Panel of the Sources panel\n     */\n    pauseOnCaughtExceptions: 'Pause on caught exceptions',\n    /**\n     *@description A context menu item in the Sources Panel of the Sources panel\n     */\n    revealInSidebar: 'Reveal in navigator sidebar',\n    /**\n     *@description A context menu item in the Sources Panel of the Sources panel when debugging JS code.\n     * When clicked, the execution is resumed until it reaches the line specified by the right-click that\n     * opened the context menu.\n     */\n    continueToHere: 'Continue to here',\n    /**\n     *@description A context menu item in the Console that stores selection as a temporary global variable\n     */\n    storeAsGlobalVariable: 'Store as global variable',\n    /**\n     *@description A context menu item in the Console, Sources, and Network panel\n     *@example {string} PH1\n     */\n    copyS: 'Copy {PH1}',\n    /**\n     *@description A context menu item for strings in the Console, Sources, and Network panel.\n     * When clicked, the raw contents of the string is copied to the clipboard.\n     */\n    copyStringContents: 'Copy string contents',\n    /**\n     *@description A context menu item for strings in the Console, Sources, and Network panel.\n     * When clicked, the string is copied to the clipboard as a valid JavaScript literal.\n     */\n    copyStringAsJSLiteral: 'Copy string as JavaScript literal',\n    /**\n     *@description A context menu item for strings in the Console, Sources, and Network panel.\n     * When clicked, the string is copied to the clipboard as a valid JSON literal.\n     */\n    copyStringAsJSONLiteral: 'Copy string as JSON literal',\n    /**\n     *@description A context menu item in the Sources Panel of the Sources panel\n     */\n    showFunctionDefinition: 'Show function definition',\n    /**\n     *@description Text in Sources Panel of the Sources panel\n     */\n    openInSourcesPanel: 'Open in Sources panel',\n};\nconst str_ = i18n.i18n.registerUIStrings('panels/sources/SourcesPanel.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\nconst primitiveRemoteObjectTypes = new Set(['number', 'boolean', 'bigint', 'undefined']);\nlet sourcesPanelInstance;\nexport class SourcesPanel extends UI.Panel.Panel {\n    workspace;\n    togglePauseAction;\n    stepOverAction;\n    stepIntoAction;\n    stepOutAction;\n    stepAction;\n    toggleBreakpointsActiveAction;\n    debugToolbar;\n    debugToolbarDrawer;\n    debuggerPausedMessage;\n    overlayLoggables;\n    splitWidget;\n    editorView;\n    navigatorTabbedLocation;\n    sourcesViewInternal;\n    toggleNavigatorSidebarButton;\n    toggleDebuggerSidebarButton;\n    threadsSidebarPane;\n    watchSidebarPane;\n    callstackPane;\n    liveLocationPool;\n    lastModificationTime;\n    pausedInternal;\n    switchToPausedTargetTimeout;\n    ignoreExecutionLineEvents;\n    executionLineLocation;\n    pauseOnExceptionButton;\n    sidebarPaneStack;\n    tabbedLocationHeader;\n    extensionSidebarPanesContainer;\n    sidebarPaneView;\n    constructor() {\n        super('sources');\n        new UI.DropTarget.DropTarget(this.element, [UI.DropTarget.Type.Folder], i18nString(UIStrings.dropWorkspaceFolderHere), this.handleDrop.bind(this));\n        this.workspace = Workspace.Workspace.WorkspaceImpl.instance();\n        this.togglePauseAction = UI.ActionRegistry.ActionRegistry.instance().getAction('debugger.toggle-pause');\n        this.stepOverAction = UI.ActionRegistry.ActionRegistry.instance().getAction('debugger.step-over');\n        this.stepIntoAction = UI.ActionRegistry.ActionRegistry.instance().getAction('debugger.step-into');\n        this.stepOutAction = UI.ActionRegistry.ActionRegistry.instance().getAction('debugger.step-out');\n        this.stepAction = UI.ActionRegistry.ActionRegistry.instance().getAction('debugger.step');\n        this.toggleBreakpointsActiveAction =\n            UI.ActionRegistry.ActionRegistry.instance().getAction('debugger.toggle-breakpoints-active');\n        this.debugToolbar = this.createDebugToolbar();\n        this.debugToolbarDrawer = this.createDebugToolbarDrawer();\n        this.debuggerPausedMessage = new DebuggerPausedMessage();\n        const initialDebugSidebarWidth = 225;\n        this.splitWidget =\n            new UI.SplitWidget.SplitWidget(true, true, 'sources-panel-split-view-state', initialDebugSidebarWidth);\n        this.splitWidget.enableShowModeSaving();\n        this.splitWidget.show(this.element);\n        // Create scripts navigator\n        const initialNavigatorWidth = 225;\n        this.editorView =\n            new UI.SplitWidget.SplitWidget(true, false, 'sources-panel-navigator-split-view-state', initialNavigatorWidth);\n        this.editorView.enableShowModeSaving();\n        this.splitWidget.setMainWidget(this.editorView);\n        // Create navigator tabbed pane with toolbar.\n        this.navigatorTabbedLocation = UI.ViewManager.ViewManager.instance().createTabbedLocation(this.revealNavigatorSidebar.bind(this), 'navigator-view', true, true);\n        const tabbedPane = this.navigatorTabbedLocation.tabbedPane();\n        tabbedPane.setMinimumSize(100, 25);\n        tabbedPane.element.classList.add('navigator-tabbed-pane');\n        tabbedPane.headerElement().setAttribute('jslog', `${VisualLogging.toolbar('navigator').track({ keydown: 'ArrowUp|ArrowLeft|ArrowDown|ArrowRight|Enter|Space' })}`);\n        const navigatorMenuButton = new UI.Toolbar.ToolbarMenuButton(this.populateNavigatorMenu.bind(this), /* isIconDropdown */ true, /* useSoftMenu */ true, 'more-options', 'dots-vertical');\n        navigatorMenuButton.setTitle(i18nString(UIStrings.moreOptions));\n        tabbedPane.rightToolbar().appendToolbarItem(navigatorMenuButton);\n        if (UI.ViewManager.ViewManager.instance().hasViewsForLocation('run-view-sidebar')) {\n            const navigatorSplitWidget = new UI.SplitWidget.SplitWidget(false, true, 'source-panel-navigator-sidebar-split-view-state');\n            navigatorSplitWidget.setMainWidget(tabbedPane);\n            const runViewTabbedPane = UI.ViewManager.ViewManager.instance()\n                .createTabbedLocation(this.revealNavigatorSidebar.bind(this), 'run-view-sidebar')\n                .tabbedPane();\n            navigatorSplitWidget.setSidebarWidget(runViewTabbedPane);\n            navigatorSplitWidget.installResizer(runViewTabbedPane.headerElement());\n            this.editorView.setSidebarWidget(navigatorSplitWidget);\n        }\n        else {\n            this.editorView.setSidebarWidget(tabbedPane);\n        }\n        this.sourcesViewInternal = new SourcesView();\n        this.sourcesViewInternal.addEventListener(\"EditorSelected\" /* Events.EDITOR_SELECTED */, this.editorSelected.bind(this));\n        this.toggleNavigatorSidebarButton = this.editorView.createShowHideSidebarButton(i18nString(UIStrings.showNavigator), i18nString(UIStrings.hideNavigator), i18nString(UIStrings.navigatorShown), i18nString(UIStrings.navigatorHidden), 'navigator');\n        this.toggleDebuggerSidebarButton = this.splitWidget.createShowHideSidebarButton(i18nString(UIStrings.showDebugger), i18nString(UIStrings.hideDebugger), i18nString(UIStrings.debuggerShown), i18nString(UIStrings.debuggerHidden), 'debugger');\n        this.editorView.setMainWidget(this.sourcesViewInternal);\n        this.threadsSidebarPane = null;\n        this.watchSidebarPane = UI.ViewManager.ViewManager.instance().view('sources.watch');\n        this.callstackPane = CallStackSidebarPane.instance();\n        Common.Settings.Settings.instance()\n            .moduleSetting('sidebar-position')\n            .addChangeListener(this.updateSidebarPosition.bind(this));\n        this.updateSidebarPosition();\n        void this.updateDebuggerButtonsAndStatus();\n        this.liveLocationPool = new Bindings.LiveLocation.LiveLocationPool();\n        this.setTarget(UI.Context.Context.instance().flavor(SDK.Target.Target));\n        Common.Settings.Settings.instance()\n            .moduleSetting('breakpoints-active')\n            .addChangeListener(this.breakpointsActiveStateChanged, this);\n        UI.Context.Context.instance().addFlavorChangeListener(SDK.Target.Target, this.onCurrentTargetChanged, this);\n        UI.Context.Context.instance().addFlavorChangeListener(SDK.DebuggerModel.CallFrame, this.callFrameChanged, this);\n        SDK.TargetManager.TargetManager.instance().addModelListener(SDK.DebuggerModel.DebuggerModel, SDK.DebuggerModel.Events.DebuggerWasEnabled, this.debuggerWasEnabled, this);\n        SDK.TargetManager.TargetManager.instance().addModelListener(SDK.DebuggerModel.DebuggerModel, SDK.DebuggerModel.Events.DebuggerPaused, this.debuggerPaused, this);\n        SDK.TargetManager.TargetManager.instance().addModelListener(SDK.DebuggerModel.DebuggerModel, SDK.DebuggerModel.Events.DebugInfoAttached, this.debugInfoAttached, this);\n        SDK.TargetManager.TargetManager.instance().addModelListener(SDK.DebuggerModel.DebuggerModel, SDK.DebuggerModel.Events.DebuggerResumed, event => this.debuggerResumed(event.data));\n        SDK.TargetManager.TargetManager.instance().addModelListener(SDK.DebuggerModel.DebuggerModel, SDK.DebuggerModel.Events.GlobalObjectCleared, event => this.debuggerResumed(event.data));\n        Extensions.ExtensionServer.ExtensionServer.instance().addEventListener(\"SidebarPaneAdded\" /* Extensions.ExtensionServer.Events.SidebarPaneAdded */, this.extensionSidebarPaneAdded, this);\n        SDK.TargetManager.TargetManager.instance().observeTargets(this);\n        this.lastModificationTime = -Infinity;\n    }\n    static instance(opts = { forceNew: null }) {\n        const { forceNew } = opts;\n        if (!sourcesPanelInstance || forceNew) {\n            sourcesPanelInstance = new SourcesPanel();\n        }\n        return sourcesPanelInstance;\n    }\n    static updateResizerAndSidebarButtons(panel) {\n        panel.sourcesViewInternal.leftToolbar().removeToolbarItems();\n        panel.sourcesViewInternal.rightToolbar().removeToolbarItems();\n        panel.sourcesViewInternal.bottomToolbar().removeToolbarItems();\n        const isInWrapper = UI.Context.Context.instance().flavor(QuickSourceView) &&\n            !UI.InspectorView.InspectorView.instance().isDrawerMinimized();\n        if (panel.splitWidget.isVertical() || isInWrapper) {\n            panel.splitWidget.uninstallResizer(panel.sourcesViewInternal.toolbarContainerElement());\n        }\n        else {\n            panel.splitWidget.installResizer(panel.sourcesViewInternal.toolbarContainerElement());\n        }\n        if (!isInWrapper) {\n            panel.sourcesViewInternal.leftToolbar().appendToolbarItem(panel.toggleNavigatorSidebarButton);\n            if (panel.splitWidget.isVertical()) {\n                panel.sourcesViewInternal.rightToolbar().appendToolbarItem(panel.toggleDebuggerSidebarButton);\n            }\n            else {\n                panel.sourcesViewInternal.bottomToolbar().appendToolbarItem(panel.toggleDebuggerSidebarButton);\n            }\n        }\n    }\n    targetAdded(_target) {\n        this.showThreadsIfNeeded();\n    }\n    targetRemoved(_target) {\n    }\n    showThreadsIfNeeded() {\n        if (ThreadsSidebarPane.shouldBeShown() && !this.threadsSidebarPane) {\n            this.threadsSidebarPane = UI.ViewManager.ViewManager.instance().view('sources.threads');\n            if (this.sidebarPaneStack && this.threadsSidebarPane) {\n                this.sidebarPaneStack.appendView(this.threadsSidebarPane, this.splitWidget.isVertical() ? this.watchSidebarPane : this.callstackPane);\n            }\n        }\n    }\n    setTarget(target) {\n        if (!target) {\n            return;\n        }\n        const debuggerModel = target.model(SDK.DebuggerModel.DebuggerModel);\n        if (!debuggerModel) {\n            return;\n        }\n        if (debuggerModel.isPaused()) {\n            this.showDebuggerPausedDetails(debuggerModel.debuggerPausedDetails());\n        }\n        else {\n            this.pausedInternal = false;\n            this.clearInterface();\n            this.toggleDebuggerSidebarButton.setEnabled(true);\n        }\n    }\n    onCurrentTargetChanged({ data: target }) {\n        this.setTarget(target);\n    }\n    paused() {\n        return this.pausedInternal || false;\n    }\n    wasShown() {\n        UI.Context.Context.instance().setFlavor(SourcesPanel, this);\n        this.registerCSSFiles([sourcesPanelStyles]);\n        super.wasShown();\n        if (UI.Context.Context.instance().flavor(QuickSourceView)) {\n            UI.InspectorView.InspectorView.instance().setDrawerMinimized(true);\n            SourcesPanel.updateResizerAndSidebarButtons(this);\n        }\n        this.editorView.setMainWidget(this.sourcesViewInternal);\n    }\n    willHide() {\n        super.willHide();\n        UI.Context.Context.instance().setFlavor(SourcesPanel, null);\n        const wrapperView = UI.Context.Context.instance().flavor(QuickSourceView);\n        if (wrapperView) {\n            wrapperView.showViewInWrapper();\n            UI.InspectorView.InspectorView.instance().setDrawerMinimized(false);\n            SourcesPanel.updateResizerAndSidebarButtons(this);\n        }\n    }\n    resolveLocation(locationName) {\n        if (locationName === 'sources.sidebar-top' || locationName === 'sources.sidebar-bottom' ||\n            locationName === 'sources.sidebar-tabs') {\n            return this.sidebarPaneStack || null;\n        }\n        return this.navigatorTabbedLocation;\n    }\n    ensureSourcesViewVisible() {\n        if (UI.Context.Context.instance().flavor(QuickSourceView)) {\n            return true;\n        }\n        if (!UI.InspectorView.InspectorView.instance().canSelectPanel('sources')) {\n            return false;\n        }\n        void UI.ViewManager.ViewManager.instance().showView('sources');\n        return true;\n    }\n    onResize() {\n        if (Common.Settings.Settings.instance().moduleSetting('sidebar-position').get() === 'auto') {\n            this.element.window().requestAnimationFrame(this.updateSidebarPosition.bind(this));\n        } // Do not force layout.\n    }\n    searchableView() {\n        return this.sourcesViewInternal.searchableView();\n    }\n    toggleNavigatorSidebar() {\n        this.editorView.toggleSidebar();\n    }\n    toggleDebuggerSidebar() {\n        this.splitWidget.toggleSidebar();\n    }\n    debuggerPaused(event) {\n        const debuggerModel = event.data;\n        const details = debuggerModel.debuggerPausedDetails();\n        if (!this.pausedInternal &&\n            Common.Settings.Settings.instance().moduleSetting('auto-focus-on-debugger-paused-enabled').get()) {\n            void this.setAsCurrentPanel();\n        }\n        if (UI.Context.Context.instance().flavor(SDK.Target.Target) === debuggerModel.target()) {\n            this.showDebuggerPausedDetails(details);\n        }\n        else if (!this.pausedInternal) {\n            UI.Context.Context.instance().setFlavor(SDK.Target.Target, debuggerModel.target());\n        }\n    }\n    debugInfoAttached(event) {\n        const { debuggerModel } = event.data;\n        if (!debuggerModel.isPaused()) {\n            return;\n        }\n        const details = debuggerModel.debuggerPausedDetails();\n        if (details && UI.Context.Context.instance().flavor(SDK.Target.Target) === debuggerModel.target()) {\n            this.showDebuggerPausedDetails(details);\n        }\n    }\n    showDebuggerPausedDetails(details) {\n        this.pausedInternal = true;\n        void this.updateDebuggerButtonsAndStatus();\n        UI.Context.Context.instance().setFlavor(SDK.DebuggerModel.DebuggerPausedDetails, details);\n        this.toggleDebuggerSidebarButton.setEnabled(false);\n        this.revealDebuggerSidebar();\n        window.focus();\n        Host.InspectorFrontendHost.InspectorFrontendHostInstance.bringToFront();\n        const withOverlay = UI.Context.Context.instance().flavor(SDK.Target.Target)?.model(SDK.OverlayModel.OverlayModel) &&\n            !Common.Settings.Settings.instance().moduleSetting('disable-paused-state-overlay').get();\n        if (withOverlay && !this.overlayLoggables) {\n            this.overlayLoggables = { debuggerPausedMessage: {}, resumeButton: {}, stepOverButton: {} };\n            VisualLogging.registerLoggable(this.overlayLoggables.debuggerPausedMessage, `${VisualLogging.dialog('debugger-paused')}`, null);\n            VisualLogging.registerLoggable(this.overlayLoggables.resumeButton, `${VisualLogging.action('debugger.toggle-pause')}`, this.overlayLoggables.debuggerPausedMessage);\n            VisualLogging.registerLoggable(this.overlayLoggables.stepOverButton, `${VisualLogging.action('debugger.step-over')}`, this.overlayLoggables.debuggerPausedMessage);\n        }\n    }\n    maybeLogOverlayAction() {\n        if (!this.overlayLoggables) {\n            return;\n        }\n        const byOverlayButton = !document.hasFocus();\n        // In the overlary we show two buttons: resume and step over. Both trigger\n        // the Debugger.resumed event. The latter however will trigger\n        // Debugger.paused shortly after, while the former won't. Here we guess\n        // which one was clicked by checking if we are paused again after 0.5s.\n        window.setTimeout(() => {\n            if (!this.overlayLoggables) {\n                return;\n            }\n            if (byOverlayButton) {\n                const details = UI.Context.Context.instance().flavor(SDK.DebuggerModel.DebuggerPausedDetails);\n                VisualLogging.logClick(this.pausedInternal && details?.reason === \"step\" /* Protocol.Debugger.PausedEventReason.Step */ ?\n                    this.overlayLoggables.stepOverButton :\n                    this.overlayLoggables.resumeButton, new MouseEvent('click'));\n            }\n            if (!this.pausedInternal) {\n                VisualLogging.logResize(this.overlayLoggables.debuggerPausedMessage, new DOMRect(0, 0, 0, 0));\n                this.overlayLoggables = undefined;\n            }\n        }, 500);\n    }\n    debuggerResumed(debuggerModel) {\n        this.maybeLogOverlayAction();\n        const target = debuggerModel.target();\n        if (UI.Context.Context.instance().flavor(SDK.Target.Target) !== target) {\n            return;\n        }\n        this.pausedInternal = false;\n        this.clearInterface();\n        this.toggleDebuggerSidebarButton.setEnabled(true);\n        this.switchToPausedTargetTimeout = window.setTimeout(this.switchToPausedTarget.bind(this, debuggerModel), 500);\n    }\n    debuggerWasEnabled(event) {\n        const debuggerModel = event.data;\n        if (UI.Context.Context.instance().flavor(SDK.Target.Target) !== debuggerModel.target()) {\n            return;\n        }\n        void this.updateDebuggerButtonsAndStatus();\n    }\n    get visibleView() {\n        return this.sourcesViewInternal.visibleView();\n    }\n    showUISourceCode(uiSourceCode, location, omitFocus) {\n        if (omitFocus) {\n            if (!this.isShowing() && !UI.Context.Context.instance().flavor(QuickSourceView)) {\n                return;\n            }\n        }\n        else {\n            this.showEditor();\n        }\n        this.sourcesViewInternal.showSourceLocation(uiSourceCode, location, omitFocus);\n    }\n    showEditor() {\n        if (UI.Context.Context.instance().flavor(QuickSourceView)) {\n            return;\n        }\n        void this.setAsCurrentPanel();\n    }\n    showUILocation(uiLocation, omitFocus) {\n        const { uiSourceCode, lineNumber, columnNumber } = uiLocation;\n        this.showUISourceCode(uiSourceCode, { lineNumber, columnNumber }, omitFocus);\n    }\n    async revealInNavigator(uiSourceCode, skipReveal) {\n        const viewManager = UI.ViewManager.ViewManager.instance();\n        for (const view of viewManager.viewsForLocation(\"navigator-view\" /* UI.ViewManager.ViewLocationValues.NAVIGATOR_VIEW */)) {\n            const navigatorView = await view.widget();\n            if (navigatorView instanceof NavigatorView && navigatorView.acceptProject(uiSourceCode.project())) {\n                navigatorView.revealUISourceCode(uiSourceCode, true);\n                this.navigatorTabbedLocation.tabbedPane().selectTab(view.viewId(), true);\n                if (!skipReveal) {\n                    this.editorView.showBoth(true);\n                    navigatorView.focus();\n                }\n                break;\n            }\n        }\n    }\n    addExperimentMenuItem(menuSection, experiment, menuItem) {\n        // menu handler\n        function toggleExperiment() {\n            const checked = Root.Runtime.experiments.isEnabled(experiment);\n            Root.Runtime.experiments.setEnabled(experiment, !checked);\n            Host.userMetrics.experimentChanged(experiment, checked);\n            // Need to signal to the NavigatorView that grouping has changed. Unfortunately,\n            // it can't listen to an experiment, and this class doesn't directly interact\n            // with it, so we will convince it a different grouping setting changed. When we switch\n            // from using an experiment to a setting, it will listen to that setting and we\n            // won't need to do this.\n            const groupByFolderSetting = Common.Settings.Settings.instance().moduleSetting('navigator-group-by-folder');\n            groupByFolderSetting.set(groupByFolderSetting.get());\n        }\n        menuSection.appendCheckboxItem(menuItem, toggleExperiment, {\n            checked: Root.Runtime.experiments.isEnabled(experiment),\n            additionalElement: IconButton.Icon.create('experiment'),\n            jslogContext: Platform.StringUtilities.toKebabCase(experiment),\n        });\n    }\n    populateNavigatorMenu(contextMenu) {\n        const groupByFolderSetting = Common.Settings.Settings.instance().moduleSetting('navigator-group-by-folder');\n        contextMenu.appendItemsAtLocation('navigatorMenu');\n        contextMenu.viewSection().appendCheckboxItem(i18nString(UIStrings.groupByFolder), () => groupByFolderSetting.set(!groupByFolderSetting.get()), { checked: groupByFolderSetting.get(), jslogContext: groupByFolderSetting.name });\n        this.addExperimentMenuItem(contextMenu.viewSection(), \"authored-deployed-grouping\" /* Root.Runtime.ExperimentName.AUTHORED_DEPLOYED_GROUPING */, i18nString(UIStrings.groupByAuthored));\n        this.addExperimentMenuItem(contextMenu.viewSection(), \"just-my-code\" /* Root.Runtime.ExperimentName.JUST_MY_CODE */, i18nString(UIStrings.hideIgnoreListed));\n    }\n    setIgnoreExecutionLineEvents(ignoreExecutionLineEvents) {\n        this.ignoreExecutionLineEvents = ignoreExecutionLineEvents;\n    }\n    updateLastModificationTime() {\n        this.lastModificationTime = window.performance.now();\n    }\n    async executionLineChanged(liveLocation) {\n        const uiLocation = await liveLocation.uiLocation();\n        if (liveLocation.isDisposed()) {\n            return;\n        }\n        if (!uiLocation) {\n            return;\n        }\n        if (window.performance.now() - this.lastModificationTime < lastModificationTimeout) {\n            return;\n        }\n        this.sourcesViewInternal.showSourceLocation(uiLocation.uiSourceCode, uiLocation, undefined, true);\n    }\n    lastModificationTimeoutPassedForTest() {\n        lastModificationTimeout = Number.MIN_VALUE;\n    }\n    updateLastModificationTimeForTest() {\n        lastModificationTimeout = Number.MAX_VALUE;\n    }\n    async callFrameChanged() {\n        const callFrame = UI.Context.Context.instance().flavor(SDK.DebuggerModel.CallFrame);\n        if (!callFrame) {\n            return;\n        }\n        if (this.executionLineLocation) {\n            this.executionLineLocation.dispose();\n        }\n        this.executionLineLocation =\n            await Bindings.DebuggerWorkspaceBinding.DebuggerWorkspaceBinding.instance().createCallFrameLiveLocation(callFrame.location(), this.executionLineChanged.bind(this), this.liveLocationPool);\n    }\n    async updateDebuggerButtonsAndStatus() {\n        const currentTarget = UI.Context.Context.instance().flavor(SDK.Target.Target);\n        const currentDebuggerModel = currentTarget ? currentTarget.model(SDK.DebuggerModel.DebuggerModel) : null;\n        if (!currentDebuggerModel) {\n            this.togglePauseAction.setEnabled(false);\n            this.stepOverAction.setEnabled(false);\n            this.stepIntoAction.setEnabled(false);\n            this.stepOutAction.setEnabled(false);\n            this.stepAction.setEnabled(false);\n        }\n        else if (this.pausedInternal) {\n            this.togglePauseAction.setToggled(true);\n            this.togglePauseAction.setEnabled(true);\n            this.stepOverAction.setEnabled(true);\n            this.stepIntoAction.setEnabled(true);\n            this.stepOutAction.setEnabled(true);\n            this.stepAction.setEnabled(true);\n        }\n        else {\n            this.togglePauseAction.setToggled(false);\n            this.togglePauseAction.setEnabled(!currentDebuggerModel.isPausing());\n            this.stepOverAction.setEnabled(false);\n            this.stepIntoAction.setEnabled(false);\n            this.stepOutAction.setEnabled(false);\n            this.stepAction.setEnabled(false);\n        }\n        const details = currentDebuggerModel ? currentDebuggerModel.debuggerPausedDetails() : null;\n        await this.debuggerPausedMessage.render(details, Bindings.DebuggerWorkspaceBinding.DebuggerWorkspaceBinding.instance(), Breakpoints.BreakpointManager.BreakpointManager.instance());\n        if (details) {\n            this.updateDebuggerButtonsAndStatusForTest();\n        }\n    }\n    updateDebuggerButtonsAndStatusForTest() {\n    }\n    clearInterface() {\n        void this.updateDebuggerButtonsAndStatus();\n        UI.Context.Context.instance().setFlavor(SDK.DebuggerModel.DebuggerPausedDetails, null);\n        if (this.switchToPausedTargetTimeout) {\n            clearTimeout(this.switchToPausedTargetTimeout);\n        }\n        this.liveLocationPool.disposeAll();\n    }\n    switchToPausedTarget(debuggerModel) {\n        delete this.switchToPausedTargetTimeout;\n        if (this.pausedInternal || debuggerModel.isPaused()) {\n            return;\n        }\n        for (const debuggerModel of SDK.TargetManager.TargetManager.instance().models(SDK.DebuggerModel.DebuggerModel)) {\n            if (debuggerModel.isPaused()) {\n                UI.Context.Context.instance().setFlavor(SDK.Target.Target, debuggerModel.target());\n                break;\n            }\n        }\n    }\n    runSnippet() {\n        const uiSourceCode = this.sourcesViewInternal.currentUISourceCode();\n        if (uiSourceCode) {\n            void Snippets.ScriptSnippetFileSystem.evaluateScriptSnippet(uiSourceCode);\n        }\n    }\n    editorSelected(event) {\n        const uiSourceCode = event.data;\n        UI.Context.Context.instance().setFlavor(Workspace.UISourceCode.UISourceCode, uiSourceCode);\n        if (this.editorView.mainWidget() &&\n            Common.Settings.Settings.instance().moduleSetting('auto-reveal-in-navigator').get()) {\n            void this.revealInNavigator(uiSourceCode, true);\n        }\n    }\n    togglePause() {\n        const target = UI.Context.Context.instance().flavor(SDK.Target.Target);\n        if (!target) {\n            return true;\n        }\n        const debuggerModel = target.model(SDK.DebuggerModel.DebuggerModel);\n        if (!debuggerModel) {\n            return true;\n        }\n        if (this.pausedInternal) {\n            this.pausedInternal = false;\n            debuggerModel.resume();\n        }\n        else {\n            // Make sure pauses didn't stick skipped.\n            debuggerModel.pause();\n        }\n        this.clearInterface();\n        return true;\n    }\n    prepareToResume() {\n        if (!this.pausedInternal) {\n            return null;\n        }\n        this.pausedInternal = false;\n        this.clearInterface();\n        const target = UI.Context.Context.instance().flavor(SDK.Target.Target);\n        return target ? target.model(SDK.DebuggerModel.DebuggerModel) : null;\n    }\n    longResume() {\n        const debuggerModel = this.prepareToResume();\n        if (debuggerModel) {\n            debuggerModel.skipAllPausesUntilReloadOrTimeout(500);\n            debuggerModel.resume();\n        }\n    }\n    terminateExecution() {\n        const debuggerModel = this.prepareToResume();\n        if (debuggerModel) {\n            void debuggerModel.runtimeModel().terminateExecution();\n            debuggerModel.resume();\n        }\n    }\n    stepOver() {\n        const debuggerModel = this.prepareToResume();\n        if (debuggerModel) {\n            void debuggerModel.stepOver();\n        }\n        return true;\n    }\n    stepInto() {\n        const debuggerModel = this.prepareToResume();\n        if (debuggerModel) {\n            void debuggerModel.stepInto();\n        }\n        return true;\n    }\n    stepIntoAsync() {\n        const debuggerModel = this.prepareToResume();\n        if (debuggerModel) {\n            debuggerModel.scheduleStepIntoAsync();\n        }\n        return true;\n    }\n    stepOut() {\n        const debuggerModel = this.prepareToResume();\n        if (debuggerModel) {\n            void debuggerModel.stepOut();\n        }\n        return true;\n    }\n    async continueToLocation(uiLocation) {\n        const executionContext = UI.Context.Context.instance().flavor(SDK.RuntimeModel.ExecutionContext);\n        if (!executionContext) {\n            return;\n        }\n        // Always use 0 column.\n        const rawLocations = await Bindings.DebuggerWorkspaceBinding.DebuggerWorkspaceBinding.instance().uiLocationToRawLocations(uiLocation.uiSourceCode, uiLocation.lineNumber, 0);\n        const rawLocation = rawLocations.find(location => location.debuggerModel === executionContext.debuggerModel);\n        if (rawLocation && this.prepareToResume()) {\n            rawLocation.continueToLocation();\n        }\n    }\n    toggleBreakpointsActive() {\n        Common.Settings.Settings.instance()\n            .moduleSetting('breakpoints-active')\n            .set(!Common.Settings.Settings.instance().moduleSetting('breakpoints-active').get());\n    }\n    breakpointsActiveStateChanged() {\n        const active = Common.Settings.Settings.instance().moduleSetting('breakpoints-active').get();\n        this.toggleBreakpointsActiveAction.setToggled(!active);\n        this.sourcesViewInternal.toggleBreakpointsActiveState(active);\n    }\n    createDebugToolbar() {\n        const debugToolbar = new UI.Toolbar.Toolbar('scripts-debug-toolbar');\n        debugToolbar.element.setAttribute('jslog', `${VisualLogging.toolbar('debug').track({ keydown: 'ArrowUp|ArrowLeft|ArrowDown|ArrowRight|Enter|Space' })}`);\n        const longResumeButton = new UI.Toolbar.ToolbarButton(i18nString(UIStrings.resumeWithAllPausesBlockedForMs), 'play');\n        longResumeButton.addEventListener(\"Click\" /* UI.Toolbar.ToolbarButton.Events.CLICK */, this.longResume, this);\n        const terminateExecutionButton = new UI.Toolbar.ToolbarButton(i18nString(UIStrings.terminateCurrentJavascriptCall), 'stop');\n        terminateExecutionButton.addEventListener(\"Click\" /* UI.Toolbar.ToolbarButton.Events.CLICK */, this.terminateExecution, this);\n        const pauseActionButton = UI.Toolbar.Toolbar.createLongPressActionButton(this.togglePauseAction, [terminateExecutionButton, longResumeButton], []);\n        pauseActionButton.toggleOnClick(false);\n        debugToolbar.appendToolbarItem(pauseActionButton);\n        debugToolbar.appendToolbarItem(UI.Toolbar.Toolbar.createActionButton(this.stepOverAction));\n        debugToolbar.appendToolbarItem(UI.Toolbar.Toolbar.createActionButton(this.stepIntoAction));\n        debugToolbar.appendToolbarItem(UI.Toolbar.Toolbar.createActionButton(this.stepOutAction));\n        debugToolbar.appendToolbarItem(UI.Toolbar.Toolbar.createActionButton(this.stepAction));\n        debugToolbar.appendSeparator();\n        debugToolbar.appendToolbarItem(UI.Toolbar.Toolbar.createActionButton(this.toggleBreakpointsActiveAction));\n        return debugToolbar;\n    }\n    createDebugToolbarDrawer() {\n        const debugToolbarDrawer = document.createElement('div');\n        debugToolbarDrawer.classList.add('scripts-debug-toolbar-drawer');\n        const label = i18nString(UIStrings.pauseOnCaughtExceptions);\n        const setting = Common.Settings.Settings.instance().moduleSetting('pause-on-caught-exception');\n        debugToolbarDrawer.appendChild(UI.SettingsUI.createSettingCheckbox(label, setting, true));\n        return debugToolbarDrawer;\n    }\n    appendApplicableItems(event, contextMenu, target) {\n        if (target instanceof Workspace.UISourceCode.UISourceCode) {\n            this.appendUISourceCodeItems(event, contextMenu, target);\n            return;\n        }\n        if (target instanceof UISourceCodeFrame) {\n            this.appendUISourceCodeFrameItems(contextMenu, target);\n            return;\n        }\n        if (target instanceof Workspace.UISourceCode.UILocation) {\n            this.appendUILocationItems(contextMenu, target);\n            return;\n        }\n        if (target instanceof SDK.RemoteObject.RemoteObject) {\n            this.appendRemoteObjectItems(contextMenu, target);\n            return;\n        }\n        this.appendNetworkRequestItems(contextMenu, target);\n    }\n    appendUISourceCodeItems(event, contextMenu, uiSourceCode) {\n        if (!event.target) {\n            return;\n        }\n        const eventTarget = event.target;\n        if (!uiSourceCode.project().isServiceProject() &&\n            !eventTarget.isSelfOrDescendant(this.navigatorTabbedLocation.widget().element) &&\n            !(Root.Runtime.experiments.isEnabled(\"just-my-code\" /* Root.Runtime.ExperimentName.JUST_MY_CODE */) &&\n                Bindings.IgnoreListManager.IgnoreListManager.instance().isUserOrSourceMapIgnoreListedUISourceCode(uiSourceCode))) {\n            contextMenu.revealSection().appendItem(i18nString(UIStrings.revealInSidebar), this.revealInNavigator.bind(this, uiSourceCode), {\n                jslogContext: 'sources.reveal-in-navigator-sidebar',\n            });\n        }\n        if (UI.ActionRegistry.ActionRegistry.instance().hasAction('drjones.sources-panel-context')) {\n            const editorElement = this.element.querySelector('devtools-text-editor');\n            if (!eventTarget.isSelfOrDescendant(editorElement)) {\n                UI.Context.Context.instance().setFlavor(Workspace.UISourceCode.UISourceCode, uiSourceCode);\n                contextMenu.headerSection().appendAction('drjones.sources-panel-context');\n            }\n        }\n        // Ignore list only works for JavaScript debugging.\n        if (uiSourceCode.contentType().hasScripts() &&\n            Bindings.DebuggerWorkspaceBinding.DebuggerWorkspaceBinding.instance()\n                .scriptsForUISourceCode(uiSourceCode)\n                .every(script => script.isJavaScript())) {\n            this.callstackPane.appendIgnoreListURLContextMenuItems(contextMenu, uiSourceCode);\n        }\n    }\n    appendUISourceCodeFrameItems(contextMenu, target) {\n        if (target.uiSourceCode().contentType().isFromSourceMap() || target.textEditor.state.selection.main.empty) {\n            return;\n        }\n        contextMenu.debugSection().appendAction('debugger.evaluate-selection');\n    }\n    appendUILocationItems(contextMenu, uiLocation) {\n        const uiSourceCode = uiLocation.uiSourceCode;\n        if (!Bindings.DebuggerWorkspaceBinding.DebuggerWorkspaceBinding.instance()\n            .scriptsForUISourceCode(uiSourceCode)\n            .every(script => script.isJavaScript())) {\n            // Ignore List and 'Continue to here' currently only works for JavaScript debugging.\n            return;\n        }\n        const contentType = uiSourceCode.contentType();\n        if (contentType.hasScripts()) {\n            const target = UI.Context.Context.instance().flavor(SDK.Target.Target);\n            const debuggerModel = target ? target.model(SDK.DebuggerModel.DebuggerModel) : null;\n            if (debuggerModel && debuggerModel.isPaused()) {\n                contextMenu.debugSection().appendItem(i18nString(UIStrings.continueToHere), this.continueToLocation.bind(this, uiLocation), { jslogContext: 'continue-to-here' });\n            }\n            this.callstackPane.appendIgnoreListURLContextMenuItems(contextMenu, uiSourceCode);\n        }\n    }\n    appendRemoteObjectItems(contextMenu, remoteObject) {\n        const indent = Common.Settings.Settings.instance().moduleSetting('text-editor-indent').get();\n        const executionContext = UI.Context.Context.instance().flavor(SDK.RuntimeModel.ExecutionContext);\n        function getObjectTitle() {\n            if (remoteObject.type === 'wasm') {\n                return remoteObject.subtype;\n            }\n            if (remoteObject.subtype === 'node') {\n                return 'outerHTML';\n            }\n            return remoteObject.type;\n        }\n        const copyContextMenuTitle = getObjectTitle();\n        contextMenu.debugSection().appendItem(i18nString(UIStrings.storeAsGlobalVariable), () => executionContext?.target()\n            .model(SDK.ConsoleModel.ConsoleModel)\n            ?.saveToTempVariable(executionContext, remoteObject), { jslogContext: 'store-as-global-variable' });\n        const ctxMenuClipboardSection = contextMenu.clipboardSection();\n        const inspectorFrontendHost = Host.InspectorFrontendHost.InspectorFrontendHostInstance;\n        if (remoteObject.type === 'string') {\n            ctxMenuClipboardSection.appendItem(i18nString(UIStrings.copyStringContents), () => {\n                inspectorFrontendHost.copyText(remoteObject.value);\n            }, { jslogContext: 'copy-string-contents' });\n            ctxMenuClipboardSection.appendItem(i18nString(UIStrings.copyStringAsJSLiteral), () => {\n                inspectorFrontendHost.copyText(Platform.StringUtilities.formatAsJSLiteral(remoteObject.value));\n            }, { jslogContext: 'copy-string-as-js-literal' });\n            ctxMenuClipboardSection.appendItem(i18nString(UIStrings.copyStringAsJSONLiteral), () => {\n                inspectorFrontendHost.copyText(JSON.stringify(remoteObject.value));\n            }, { jslogContext: 'copy-string-as-json-literal' });\n        }\n        // We are trying to copy a primitive value.\n        else if (primitiveRemoteObjectTypes.has(remoteObject.type)) {\n            ctxMenuClipboardSection.appendItem(i18nString(UIStrings.copyS, { PH1: String(copyContextMenuTitle) }), () => {\n                inspectorFrontendHost.copyText(remoteObject.description);\n            }, { jslogContext: 'copy-primitive' });\n        }\n        // We are trying to copy a remote object.\n        else if (remoteObject.type === 'object') {\n            const copyDecodedValueHandler = async () => {\n                const result = await remoteObject.callFunctionJSON(toStringForClipboard, [{\n                        value: {\n                            subtype: remoteObject.subtype,\n                            indent,\n                        },\n                    }]);\n                inspectorFrontendHost.copyText(result);\n            };\n            ctxMenuClipboardSection.appendItem(i18nString(UIStrings.copyS, { PH1: String(copyContextMenuTitle) }), copyDecodedValueHandler, { jslogContext: 'copy-object' });\n        }\n        else if (remoteObject.type === 'function') {\n            contextMenu.debugSection().appendItem(i18nString(UIStrings.showFunctionDefinition), this.showFunctionDefinition.bind(this, remoteObject), { jslogContext: 'show-function-definition' });\n        }\n        function toStringForClipboard(data) {\n            const subtype = data.subtype;\n            const indent = data.indent;\n            if (subtype === 'map') {\n                if (this instanceof Map) {\n                    const elements = Array.from(this.entries());\n                    const literal = elements.length === 0 ? '' : JSON.stringify(elements, null, indent);\n                    return `new Map(${literal})`;\n                }\n                return undefined;\n            }\n            if (subtype === 'set') {\n                if (this instanceof Set) {\n                    const values = Array.from(this.values());\n                    const literal = values.length === 0 ? '' : JSON.stringify(values, null, indent);\n                    return `new Set(${literal})`;\n                }\n                return undefined;\n            }\n            if (subtype === 'node') {\n                return this instanceof Element ? this.outerHTML : undefined;\n            }\n            if (subtype && typeof this === 'undefined') {\n                return String(subtype);\n            }\n            try {\n                return JSON.stringify(this, null, indent);\n            }\n            catch (error) {\n                return String(this);\n            }\n        }\n    }\n    appendNetworkRequestItems(contextMenu, request) {\n        const uiSourceCode = this.workspace.uiSourceCodeForURL(request.url());\n        if (!uiSourceCode) {\n            return;\n        }\n        const openText = i18nString(UIStrings.openInSourcesPanel);\n        const callback = this.showUILocation.bind(this, uiSourceCode.uiLocation(0, 0));\n        contextMenu.revealSection().appendItem(openText, callback, { jslogContext: 'reveal-in-sources' });\n    }\n    showFunctionDefinition(remoteObject) {\n        void SDK.RemoteObject.RemoteFunction.objectAsFunction(remoteObject)\n            .targetFunction()\n            .then(targetFunction => targetFunction.debuggerModel()\n            .functionDetailsPromise(targetFunction)\n            .then(this.didGetFunctionDetails.bind(this)));\n    }\n    async didGetFunctionDetails(response) {\n        if (!response || !response.location) {\n            return;\n        }\n        const uiLocation = await Bindings.DebuggerWorkspaceBinding.DebuggerWorkspaceBinding.instance().rawLocationToUILocation(response.location);\n        if (uiLocation) {\n            this.showUILocation(uiLocation);\n        }\n    }\n    revealNavigatorSidebar() {\n        void this.setAsCurrentPanel();\n        this.editorView.showBoth(true);\n    }\n    revealDebuggerSidebar() {\n        if (!Common.Settings.Settings.instance().moduleSetting('auto-focus-on-debugger-paused-enabled').get()) {\n            return;\n        }\n        void this.setAsCurrentPanel();\n        this.splitWidget.showBoth(true);\n    }\n    updateSidebarPosition() {\n        let vertically;\n        const position = Common.Settings.Settings.instance().moduleSetting('sidebar-position').get();\n        if (position === 'right') {\n            vertically = false;\n        }\n        else if (position === 'bottom') {\n            vertically = true;\n        }\n        else {\n            vertically = UI.InspectorView.InspectorView.instance().element.offsetWidth < 680;\n        }\n        if (this.sidebarPaneView && vertically === !this.splitWidget.isVertical()) {\n            return;\n        }\n        if (this.sidebarPaneView && this.sidebarPaneView.shouldHideOnDetach()) {\n            return;\n        } // We can't reparent extension iframes.\n        if (this.sidebarPaneView) {\n            this.sidebarPaneView.detach();\n        }\n        this.splitWidget.setVertical(!vertically);\n        this.splitWidget.element.classList.toggle('sources-split-view-vertical', vertically);\n        SourcesPanel.updateResizerAndSidebarButtons(this);\n        // Create vertical box with stack.\n        const vbox = new UI.Widget.VBox();\n        vbox.element.appendChild(this.debugToolbar.element);\n        vbox.element.appendChild(this.debugToolbarDrawer);\n        vbox.setMinimumAndPreferredSizes(minToolbarWidth, 25, minToolbarWidth, 100);\n        this.sidebarPaneStack = UI.ViewManager.ViewManager.instance().createStackLocation(this.revealDebuggerSidebar.bind(this), undefined, 'debug');\n        this.sidebarPaneStack.widget().element.classList.add('overflow-auto');\n        this.sidebarPaneStack.widget().show(vbox.element);\n        this.sidebarPaneStack.widget().element.appendChild(this.debuggerPausedMessage.element());\n        this.sidebarPaneStack.appendApplicableItems('sources.sidebar-top');\n        if (this.threadsSidebarPane) {\n            this.sidebarPaneStack.appendView(this.threadsSidebarPane);\n        }\n        const jsBreakpoints = UI.ViewManager.ViewManager.instance().view('sources.js-breakpoints');\n        const scopeChainView = UI.ViewManager.ViewManager.instance().view('sources.scope-chain');\n        if (this.tabbedLocationHeader) {\n            this.splitWidget.uninstallResizer(this.tabbedLocationHeader);\n            this.tabbedLocationHeader = null;\n        }\n        if (!vertically) {\n            // Populate the rest of the stack.\n            this.sidebarPaneStack.appendView(this.watchSidebarPane);\n            void this.sidebarPaneStack.showView(jsBreakpoints);\n            void this.sidebarPaneStack.showView(scopeChainView);\n            void this.sidebarPaneStack.showView(this.callstackPane);\n            this.extensionSidebarPanesContainer = this.sidebarPaneStack;\n            this.sidebarPaneView = vbox;\n            this.splitWidget.uninstallResizer(this.debugToolbar.gripElementForResize());\n        }\n        else {\n            const splitWidget = new UI.SplitWidget.SplitWidget(true, true, 'sources-panel-debugger-sidebar-split-view-state', 0.5);\n            splitWidget.setMainWidget(vbox);\n            // Populate the left stack.\n            void this.sidebarPaneStack.showView(jsBreakpoints);\n            void this.sidebarPaneStack.showView(this.callstackPane);\n            const tabbedLocation = UI.ViewManager.ViewManager.instance().createTabbedLocation(this.revealDebuggerSidebar.bind(this));\n            splitWidget.setSidebarWidget(tabbedLocation.tabbedPane());\n            this.tabbedLocationHeader = tabbedLocation.tabbedPane().headerElement();\n            this.splitWidget.installResizer(this.tabbedLocationHeader);\n            this.splitWidget.installResizer(this.debugToolbar.gripElementForResize());\n            tabbedLocation.appendView(scopeChainView);\n            tabbedLocation.appendView(this.watchSidebarPane);\n            tabbedLocation.appendApplicableItems('sources.sidebar-tabs');\n            this.extensionSidebarPanesContainer = tabbedLocation;\n            this.sidebarPaneView = splitWidget;\n        }\n        this.sidebarPaneStack.appendApplicableItems('sources.sidebar-bottom');\n        const extensionSidebarPanes = Extensions.ExtensionServer.ExtensionServer.instance().sidebarPanes();\n        for (let i = 0; i < extensionSidebarPanes.length; ++i) {\n            this.addExtensionSidebarPane(extensionSidebarPanes[i]);\n        }\n        this.splitWidget.setSidebarWidget(this.sidebarPaneView);\n    }\n    setAsCurrentPanel() {\n        return UI.ViewManager.ViewManager.instance().showView('sources');\n    }\n    extensionSidebarPaneAdded(event) {\n        this.addExtensionSidebarPane(event.data);\n    }\n    addExtensionSidebarPane(pane) {\n        if (pane.panelName() === this.name) {\n            this.extensionSidebarPanesContainer.appendView(pane);\n        }\n    }\n    sourcesView() {\n        return this.sourcesViewInternal;\n    }\n    handleDrop(dataTransfer) {\n        const items = dataTransfer.items;\n        if (!items.length) {\n            return;\n        }\n        const entry = items[0].webkitGetAsEntry();\n        if (entry && entry.isDirectory) {\n            Host.InspectorFrontendHost.InspectorFrontendHostInstance.upgradeDraggedFileSystemPermissions(entry.filesystem);\n            Host.userMetrics.actionTaken(Host.UserMetrics.Action.WorkspaceDropFolder);\n            void UI.ViewManager.ViewManager.instance().showView('navigator-files');\n        }\n    }\n}\nexport let lastModificationTimeout = 200;\nexport const minToolbarWidth = 215;\nexport class UILocationRevealer {\n    async reveal(uiLocation, omitFocus) {\n        SourcesPanel.instance().showUILocation(uiLocation, omitFocus);\n    }\n}\nexport class UILocationRangeRevealer {\n    static #instance;\n    static instance(opts = { forceNew: false }) {\n        if (!UILocationRangeRevealer.#instance || opts.forceNew) {\n            UILocationRangeRevealer.#instance = new UILocationRangeRevealer();\n        }\n        return UILocationRangeRevealer.#instance;\n    }\n    async reveal(uiLocationRange, omitFocus) {\n        const { uiSourceCode, range: { start: from, end: to } } = uiLocationRange;\n        SourcesPanel.instance().showUISourceCode(uiSourceCode, { from, to }, omitFocus);\n    }\n}\nexport class DebuggerLocationRevealer {\n    async reveal(rawLocation, omitFocus) {\n        const uiLocation = await Bindings.DebuggerWorkspaceBinding.DebuggerWorkspaceBinding.instance().rawLocationToUILocation(rawLocation);\n        if (uiLocation) {\n            SourcesPanel.instance().showUILocation(uiLocation, omitFocus);\n        }\n    }\n}\nexport class UISourceCodeRevealer {\n    async reveal(uiSourceCode, omitFocus) {\n        SourcesPanel.instance().showUISourceCode(uiSourceCode, undefined, omitFocus);\n    }\n}\nexport class DebuggerPausedDetailsRevealer {\n    async reveal(_object) {\n        if (Common.Settings.Settings.instance().moduleSetting('auto-focus-on-debugger-paused-enabled').get()) {\n            return SourcesPanel.instance().setAsCurrentPanel();\n        }\n    }\n}\nexport class RevealingActionDelegate {\n    handleAction(context, actionId) {\n        const panel = SourcesPanel.instance();\n        if (!panel.ensureSourcesViewVisible()) {\n            return false;\n        }\n        switch (actionId) {\n            case 'debugger.toggle-pause': {\n                // This action can be triggered both on the DevTools front-end itself,\n                // or on the inspected target. If triggered on the DevTools front-end,\n                // it will take care of resuming.\n                //\n                // If triggered on the target, NOT in hosted mode:\n                //   * ..and the paused overlay is enabled:\n                //       => do not take any action here, as the paused overlay will resume\n                //   * ..and the paused overlay is disabled:\n                //       => take care of the resume here\n                // If triggered on the target in hosted mode:\n                //   * ..and the paused overlay is enabled:\n                //       => execution will not reach here, as shortcuts are not forwarded\n                //          and the paused overlay will resume\n                //   * ..and the paused overlay is disabled:\n                //       => overlay will not take care of resume, and neither will\n                //          DevTools as no shortcuts are forwarded from the target\n                // Do not trigger a resume action, if: the shortcut was forwarded and the\n                // paused overlay is enabled.\n                const actionHandledInPausedOverlay = context.flavor(UI.ShortcutRegistry.ForwardedShortcut) &&\n                    !Common.Settings.Settings.instance().moduleSetting('disable-paused-state-overlay').get();\n                if (actionHandledInPausedOverlay) {\n                    // Taken care of by inspector overlay: handled set to true to\n                    // register user metric.\n                    return true;\n                }\n                panel.togglePause();\n                return true;\n            }\n        }\n        return false;\n    }\n}\nexport class ActionDelegate {\n    handleAction(context, actionId) {\n        const panel = SourcesPanel.instance();\n        switch (actionId) {\n            case 'debugger.step-over': {\n                panel.stepOver();\n                return true;\n            }\n            case 'debugger.step-into': {\n                panel.stepIntoAsync();\n                return true;\n            }\n            case 'debugger.step': {\n                panel.stepInto();\n                return true;\n            }\n            case 'debugger.step-out': {\n                panel.stepOut();\n                return true;\n            }\n            case 'debugger.run-snippet': {\n                panel.runSnippet();\n                return true;\n            }\n            case 'debugger.toggle-breakpoints-active': {\n                panel.toggleBreakpointsActive();\n                return true;\n            }\n            case 'debugger.evaluate-selection': {\n                const frame = context.flavor(UISourceCodeFrame);\n                if (frame) {\n                    const { state: editorState } = frame.textEditor;\n                    let text = editorState.sliceDoc(editorState.selection.main.from, editorState.selection.main.to);\n                    const executionContext = context.flavor(SDK.RuntimeModel.ExecutionContext);\n                    const consoleModel = executionContext?.target().model(SDK.ConsoleModel.ConsoleModel);\n                    if (executionContext && consoleModel) {\n                        const message = consoleModel.addCommandMessage(executionContext, text);\n                        text = ObjectUI.JavaScriptREPL.JavaScriptREPL.wrapObjectLiteral(text);\n                        void consoleModel.evaluateCommandInConsole(executionContext, message, text, /* useCommandLineAPI */ true);\n                    }\n                }\n                return true;\n            }\n            case 'sources.reveal-in-navigator-sidebar': {\n                const uiSourceCode = panel.sourcesView().currentUISourceCode();\n                if (uiSourceCode === null) {\n                    return false;\n                }\n                void panel.revealInNavigator(uiSourceCode);\n                return true;\n            }\n            case 'sources.toggle-navigator-sidebar': {\n                panel.toggleNavigatorSidebar();\n                return true;\n            }\n            case 'sources.toggle-debugger-sidebar': {\n                panel.toggleDebuggerSidebar();\n                return true;\n            }\n        }\n        return false;\n    }\n}\nexport class QuickSourceView extends UI.Widget.VBox {\n    view;\n    constructor() {\n        super();\n        this.element.classList.add('sources-view-wrapper');\n        this.element.setAttribute('jslog', `${VisualLogging.panel('sources.quick').track({ resize: true })}`);\n        this.view = SourcesPanel.instance().sourcesView();\n    }\n    wasShown() {\n        UI.Context.Context.instance().setFlavor(QuickSourceView, this);\n        super.wasShown();\n        if (!SourcesPanel.instance().isShowing()) {\n            this.showViewInWrapper();\n        }\n        else {\n            UI.InspectorView.InspectorView.instance().setDrawerMinimized(true);\n        }\n        SourcesPanel.updateResizerAndSidebarButtons(SourcesPanel.instance());\n    }\n    willHide() {\n        UI.InspectorView.InspectorView.instance().setDrawerMinimized(false);\n        queueMicrotask(() => {\n            SourcesPanel.updateResizerAndSidebarButtons(SourcesPanel.instance());\n        });\n        super.willHide();\n        UI.Context.Context.instance().setFlavor(QuickSourceView, null);\n    }\n    showViewInWrapper() {\n        this.view.show(this.element);\n    }\n}\n//# sourceMappingURL=SourcesPanel.js.map","/*\n * Copyright (C) 2011 Google Inc. All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are\n * met:\n *\n *     * Redistributions of source code must retain the above copyright\n * notice, this list of conditions and the following disclaimer.\n *     * Redistributions in binary form must reproduce the above\n * copyright notice, this list of conditions and the following disclaimer\n * in the documentation and/or other materials provided with the\n * distribution.\n *     * Neither the name of Google Inc. nor the names of its\n * contributors may be used to endorse or promote products derived from\n * this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\nimport * as Common from '../../core/common/common.js';\nimport * as Host from '../../core/host/host.js';\nimport * as i18n from '../../core/i18n/i18n.js';\nimport * as Platform from '../../core/platform/platform.js';\nimport * as SDK from '../../core/sdk/sdk.js';\nimport * as Bindings from '../../models/bindings/bindings.js';\nimport * as Breakpoints from '../../models/breakpoints/breakpoints.js';\nimport * as Formatter from '../../models/formatter/formatter.js';\nimport * as SourceMapScopes from '../../models/source_map_scopes/source_map_scopes.js';\nimport * as TextUtils from '../../models/text_utils/text_utils.js';\nimport * as Workspace from '../../models/workspace/workspace.js';\nimport * as CodeMirror from '../../third_party/codemirror.next/codemirror.next.js';\nimport * as Buttons from '../../ui/components/buttons/buttons.js';\nimport * as TextEditor from '../../ui/components/text_editor/text_editor.js';\nimport * as ObjectUI from '../../ui/legacy/components/object_ui/object_ui.js';\nimport * as SourceFrame from '../../ui/legacy/components/source_frame/source_frame.js';\nimport * as UI from '../../ui/legacy/legacy.js';\nimport * as VisualLogging from '../../ui/visual_logging/visual_logging.js';\nimport { AddDebugInfoURLDialog } from './AddSourceMapURLDialog.js';\nimport { BreakpointEditDialog } from './BreakpointEditDialog.js';\nimport * as SourceComponents from './components/components.js';\nimport { Plugin } from './Plugin.js';\nimport { SourcesPanel } from './SourcesPanel.js';\nconst { EMPTY_BREAKPOINT_CONDITION, NEVER_PAUSE_HERE_CONDITION } = Breakpoints.BreakpointManager;\nconst UIStrings = {\n    /**\n     *@description Text in Debugger Plugin of the Sources panel\n     */\n    thisScriptIsOnTheDebuggersIgnore: 'This script is on the debugger\\'s ignore list',\n    /**\n     *@description Text to stop preventing the debugger from stepping into library code\n     */\n    removeFromIgnoreList: 'Remove from ignore list',\n    /**\n     *@description Text of a button in the Sources panel Debugger Plugin to configure ignore listing in Settings\n     */\n    configure: 'Configure',\n    /**\n     *@description Text to add a breakpoint\n     */\n    addBreakpoint: 'Add breakpoint',\n    /**\n     *@description A context menu item in the Debugger Plugin of the Sources panel\n     */\n    addConditionalBreakpoint: 'Add conditional breakpoint…',\n    /**\n     *@description A context menu item in the Debugger Plugin of the Sources panel\n     */\n    addLogpoint: 'Add logpoint…',\n    /**\n     *@description A context menu item in the Debugger Plugin of the Sources panel\n     */\n    neverPauseHere: 'Never pause here',\n    /**\n     *@description Context menu command to delete/remove a breakpoint that the user\n     *has set. One line of code can have multiple breakpoints. Always >= 1 breakpoint.\n     */\n    removeBreakpoint: '{n, plural, =1 {Remove breakpoint} other {Remove all breakpoints in line}}',\n    /**\n     *@description A context menu item in the Debugger Plugin of the Sources panel\n     */\n    editBreakpoint: 'Edit breakpoint…',\n    /**\n     *@description Context menu command to disable (but not delete) a breakpoint\n     *that the user has set. One line of code can have multiple breakpoints. Always\n     *>= 1 breakpoint.\n     */\n    disableBreakpoint: '{n, plural, =1 {Disable breakpoint} other {Disable all breakpoints in line}}',\n    /**\n     *@description Context menu command to enable a breakpoint that the user has\n     *set. One line of code can have multiple breakpoints. Always >= 1 breakpoint.\n     */\n    enableBreakpoint: '{n, plural, =1 {Enable breakpoint} other {Enable all breakpoints in line}}',\n    /**\n     *@description Text in Debugger Plugin of the Sources panel\n     */\n    addSourceMap: 'Add source map…',\n    /**\n     *@description Text in Debugger Plugin of the Sources panel\n     */\n    addWasmDebugInfo: 'Add DWARF debug info…',\n    /**\n     *@description Text in Debugger Plugin of the Sources panel\n     */\n    sourceMapLoaded: 'Source map loaded.',\n    /**\n     *@description Title of the Filtered List WidgetProvider of Quick Open\n     *@example {Ctrl+P Ctrl+O} PH1\n     */\n    associatedFilesAreAvailable: 'Associated files are available via file tree or {PH1}.',\n    /**\n     *@description Text in Debugger Plugin of the Sources panel\n     */\n    associatedFilesShouldBeAdded: 'Associated files should be added to the file tree. You can debug these resolved source files as regular JavaScript files.',\n    /**\n     *@description Text in Debugger Plugin of the Sources panel\n     */\n    theDebuggerWillSkipStepping: 'The debugger will skip stepping through this script, and will not stop on exceptions.',\n    /**\n     *@description Text in Debugger Plugin of the Sources panel\n     */\n    sourceMapSkipped: 'Source map skipped for this file.',\n    /**\n     *@description Text in Debugger Plugin of the Sources panel\n     */\n    sourceMapFailed: 'Source map failed to load.',\n    /**\n     *@description Text in Debugger Plugin of the Sources panel\n     */\n    debuggingPowerReduced: 'DevTools can\\'t show authored sources, but you can debug the deployed code.',\n    /**\n     *@description Text in Debugger Plugin of the Sources panel\n     */\n    reloadForSourceMap: 'To enable again, make sure the file isn\\'t on the ignore list and reload.',\n    /**\n     *@description Text in Debugger Plugin of the Sources panel\n     *@example {http://site.com/lib.js.map} PH1\n     *@example {HTTP error: status code 404, net::ERR_UNKNOWN_URL_SCHEME} PH2\n     */\n    errorLoading: 'Error loading url {PH1}: {PH2}',\n    /**\n     *@description Error message that is displayed in UI when a file needed for debugging information for a call frame is missing\n     *@example {src/myapp.debug.wasm.dwp} PH1\n     */\n    debugFileNotFound: 'Failed to load debug file \"{PH1}\".',\n    /**\n     *@description Error message that is displayed when no debug info could be loaded\n     *@example {app.wasm} PH1\n     */\n    debugInfoNotFound: 'Failed to load any debug info for {PH1}.',\n    /**\n     *@description Text of a button to open up details on a request when no debug info could be loaded\n     */\n    showRequest: 'Show request',\n    /**\n     *@description Tooltip text that shows on hovering over a button to see more details on a request\n     */\n    openDeveloperResources: 'Opens the request in the Developer resource panel',\n};\nconst str_ = i18n.i18n.registerUIStrings('panels/sources/DebuggerPlugin.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\n// Note: Line numbers are passed around as zero-based numbers (though\n// CodeMirror numbers them from 1).\n// Don't scan for possible breakpoints on a line beyond this position;\nconst MAX_POSSIBLE_BREAKPOINT_LINE = 2500;\n// Limits on inline variable view computation.\nconst MAX_CODE_SIZE_FOR_VALUE_DECORATIONS = 10000;\nconst MAX_PROPERTIES_IN_SCOPE_FOR_VALUE_DECORATIONS = 500;\nconst debuggerPluginForUISourceCode = new Map();\nexport class DebuggerPlugin extends Plugin {\n    transformer;\n    editor = undefined;\n    // Set if the debugger is stopped on a breakpoint in this file\n    executionLocation = null;\n    // Track state of the control key because holding it makes debugger\n    // target locations show up in the editor\n    controlDown = false;\n    controlTimeout = undefined;\n    sourceMapInfobar = null;\n    scriptsPanel;\n    breakpointManager;\n    // Manages pop-overs shown when the debugger is active and the user\n    // hovers over an expression\n    popoverHelper = null;\n    scriptFileForDebuggerModel;\n    // The current set of breakpoints for this file. The locations in\n    // here are kept in sync with their editor position. When a file's\n    // content is edited and later saved, these are used as a source of\n    // truth for re-creating the breakpoints.\n    breakpoints = [];\n    continueToLocations = null;\n    liveLocationPool;\n    // When the editor content is changed by the user, this becomes\n    // true. When the plugin is muted, breakpoints show up as disabled\n    // and can't be manipulated. It is cleared again when the content is\n    // saved.\n    muted;\n    // If the plugin is initialized in muted state, we cannot correlated\n    // breakpoint position in the breakpoint manager with editor\n    // locations, so breakpoint manipulation is permanently disabled.\n    initializedMuted;\n    ignoreListInfobar;\n    refreshBreakpointsTimeout = undefined;\n    activeBreakpointDialog = null;\n    #activeBreakpointEditRequest = undefined;\n    #scheduledFinishingActiveDialog = false;\n    missingDebugInfoBar = null;\n    #sourcesPanelDebuggedMetricsRecorded = false;\n    loader;\n    ignoreListCallback;\n    constructor(uiSourceCode, transformer) {\n        super(uiSourceCode);\n        this.transformer = transformer;\n        debuggerPluginForUISourceCode.set(uiSourceCode, this);\n        this.scriptsPanel = SourcesPanel.instance();\n        this.breakpointManager = Breakpoints.BreakpointManager.BreakpointManager.instance();\n        this.breakpointManager.addEventListener(Breakpoints.BreakpointManager.Events.BreakpointAdded, this.breakpointChange, this);\n        this.breakpointManager.addEventListener(Breakpoints.BreakpointManager.Events.BreakpointRemoved, this.breakpointChange, this);\n        this.uiSourceCode.addEventListener(Workspace.UISourceCode.Events.WorkingCopyChanged, this.workingCopyChanged, this);\n        this.uiSourceCode.addEventListener(Workspace.UISourceCode.Events.WorkingCopyCommitted, this.workingCopyCommitted, this);\n        this.scriptFileForDebuggerModel = new Map();\n        this.loader = SDK.PageResourceLoader.PageResourceLoader.instance();\n        this.loader.addEventListener(\"Update\" /* SDK.PageResourceLoader.Events.UPDATE */, this.showSourceMapInfobarIfNeeded.bind(this), this);\n        this.ignoreListCallback = this.showIgnoreListInfobarIfNeeded.bind(this);\n        Bindings.IgnoreListManager.IgnoreListManager.instance().addChangeListener(this.ignoreListCallback);\n        UI.Context.Context.instance().addFlavorChangeListener(SDK.DebuggerModel.CallFrame, this.callFrameChanged, this);\n        this.liveLocationPool = new Bindings.LiveLocation.LiveLocationPool();\n        this.updateScriptFiles();\n        this.muted = this.uiSourceCode.isDirty();\n        this.initializedMuted = this.muted;\n        this.ignoreListInfobar = null;\n        this.showIgnoreListInfobarIfNeeded();\n        for (const scriptFile of this.scriptFileForDebuggerModel.values()) {\n            scriptFile.checkMapping();\n        }\n    }\n    editorExtension() {\n        // Kludge to hook editor keyboard events into the ShortcutRegistry\n        // system.\n        const handlers = this.shortcutHandlers();\n        return [\n            CodeMirror.EditorView.updateListener.of(update => this.onEditorUpdate(update)),\n            CodeMirror.EditorView.domEventHandlers({\n                keydown: event => {\n                    if (this.onKeyDown(event)) {\n                        return true;\n                    }\n                    handlers(event);\n                    return event.defaultPrevented;\n                },\n                keyup: event => this.onKeyUp(event),\n                mousemove: event => this.onMouseMove(event),\n                mousedown: event => this.onMouseDown(event),\n                focusout: event => this.onBlur(event),\n                wheel: event => this.onWheel(event),\n            }),\n            CodeMirror.lineNumbers({\n                domEventHandlers: {\n                    click: (view, block, event) => this.handleGutterClick(view.state.doc.lineAt(block.from), event),\n                },\n            }),\n            infobarState,\n            breakpointMarkers,\n            TextEditor.ExecutionPositionHighlighter.positionHighlighter('cm-executionLine', 'cm-executionToken'),\n            CodeMirror.Prec.lowest(continueToMarkers.field),\n            markIfContinueTo,\n            valueDecorations.field,\n            CodeMirror.Prec.lowest(evalExpression.field),\n            theme,\n            this.uiSourceCode.project().type() === Workspace.Workspace.projectTypes.Debugger ?\n                CodeMirror.EditorView.editorAttributes.of({ class: 'source-frame-debugger-script' }) :\n                [],\n        ];\n    }\n    shortcutHandlers() {\n        const selectionLine = (editor) => {\n            return editor.state.doc.lineAt(editor.state.selection.main.head);\n        };\n        return UI.ShortcutRegistry.ShortcutRegistry.instance().getShortcutListener({\n            'debugger.toggle-breakpoint': async () => {\n                if (this.muted || !this.editor) {\n                    return false;\n                }\n                await this.toggleBreakpoint(selectionLine(this.editor), false);\n                return true;\n            },\n            'debugger.toggle-breakpoint-enabled': async () => {\n                if (this.muted || !this.editor) {\n                    return false;\n                }\n                await this.toggleBreakpoint(selectionLine(this.editor), true);\n                return true;\n            },\n            'debugger.breakpoint-input-window': async () => {\n                if (this.muted || !this.editor) {\n                    return false;\n                }\n                const line = selectionLine(this.editor);\n                this.#openEditDialogForLine(line);\n                return true;\n            },\n        });\n    }\n    #openEditDialogForLine(line, isLogpoint) {\n        if (this.muted) {\n            return;\n        }\n        if (this.activeBreakpointDialog) {\n            this.activeBreakpointDialog.finishEditing(false, '');\n        }\n        const breakpoint = this.breakpoints.find(b => b.position >= line.from && b.position <= line.to)?.breakpoint || null;\n        if (isLogpoint === undefined && breakpoint !== null) {\n            isLogpoint = breakpoint.isLogpoint();\n        }\n        this.editBreakpointCondition({ line, breakpoint, location: null, isLogpoint });\n    }\n    editorInitialized(editor) {\n        // Start asynchronous actions that require access to the editor\n        // instance\n        this.editor = editor;\n        computeNonBreakableLines(editor.state, this.transformer, this.uiSourceCode).then(linePositions => {\n            if (linePositions.length) {\n                editor.dispatch({ effects: SourceFrame.SourceFrame.addNonBreakableLines.of(linePositions) });\n            }\n        }, console.error);\n        if (this.ignoreListInfobar) {\n            this.attachInfobar(this.ignoreListInfobar);\n        }\n        if (this.missingDebugInfoBar) {\n            this.attachInfobar(this.missingDebugInfoBar);\n        }\n        if (this.sourceMapInfobar) {\n            this.attachInfobar(this.sourceMapInfobar);\n        }\n        if (!this.muted) {\n            void this.refreshBreakpoints();\n        }\n        void this.callFrameChanged();\n        this.popoverHelper?.dispose();\n        this.popoverHelper =\n            new UI.PopoverHelper.PopoverHelper(editor, this.getPopoverRequest.bind(this), 'sources.object-properties');\n        this.popoverHelper.setDisableOnClick(true);\n        this.popoverHelper.setTimeout(250, 250);\n        this.popoverHelper.setHasPadding(true);\n    }\n    static accepts(uiSourceCode) {\n        return uiSourceCode.contentType().hasScripts();\n    }\n    showIgnoreListInfobarIfNeeded() {\n        const uiSourceCode = this.uiSourceCode;\n        if (!uiSourceCode.contentType().hasScripts()) {\n            return;\n        }\n        if (!Bindings.IgnoreListManager.IgnoreListManager.instance().isUserOrSourceMapIgnoreListedUISourceCode(uiSourceCode)) {\n            this.hideIgnoreListInfobar();\n            return;\n        }\n        if (this.ignoreListInfobar) {\n            this.ignoreListInfobar.dispose();\n        }\n        function unIgnoreList() {\n            Bindings.IgnoreListManager.IgnoreListManager.instance().unIgnoreListUISourceCode(uiSourceCode);\n        }\n        const infobar = new UI.Infobar.Infobar(\"warning\" /* UI.Infobar.Type.WARNING */, i18nString(UIStrings.thisScriptIsOnTheDebuggersIgnore), [\n            {\n                text: i18nString(UIStrings.removeFromIgnoreList),\n                highlight: false,\n                delegate: unIgnoreList,\n                dismiss: true,\n                jslogContext: 'remove-from-ignore-list',\n            },\n            {\n                text: i18nString(UIStrings.configure),\n                highlight: false,\n                delegate: UI.ViewManager.ViewManager.instance().showView.bind(UI.ViewManager.ViewManager.instance(), 'blackbox'),\n                dismiss: false,\n                jslogContext: 'configure',\n            },\n        ], undefined, undefined, 'script-on-ignore-list');\n        this.ignoreListInfobar = infobar;\n        infobar.setCloseCallback(() => this.removeInfobar(this.ignoreListInfobar));\n        infobar.createDetailsRowMessage(i18nString(UIStrings.theDebuggerWillSkipStepping));\n        this.attachInfobar(this.ignoreListInfobar);\n    }\n    attachInfobar(bar) {\n        if (this.editor) {\n            this.editor.dispatch({ effects: addInfobar.of(bar) });\n        }\n    }\n    removeInfobar(bar) {\n        if (this.editor && bar) {\n            this.editor.dispatch({ effects: removeInfobar.of(bar) });\n        }\n    }\n    hideIgnoreListInfobar() {\n        if (!this.ignoreListInfobar) {\n            return;\n        }\n        this.ignoreListInfobar.dispose();\n        this.ignoreListInfobar = null;\n    }\n    willHide() {\n        this.popoverHelper?.hidePopover();\n    }\n    editBreakpointLocation({ breakpoint, uiLocation }) {\n        const { lineNumber } = this.transformer.uiLocationToEditorLocation(uiLocation.lineNumber, uiLocation.columnNumber);\n        const line = this.editor?.state.doc.line(lineNumber + 1);\n        if (!line) {\n            return;\n        }\n        this.editBreakpointCondition({ line, breakpoint, location: null, isLogpoint: breakpoint.isLogpoint() });\n    }\n    populateLineGutterContextMenu(contextMenu, editorLineNumber) {\n        const uiLocation = new Workspace.UISourceCode.UILocation(this.uiSourceCode, editorLineNumber, 0);\n        this.scriptsPanel.appendUILocationItems(contextMenu, uiLocation);\n        if (this.muted || !this.editor) {\n            return;\n        }\n        const line = this.editor.state.doc.line(editorLineNumber + 1);\n        const breakpoints = this.lineBreakpoints(line);\n        const supportsConditionalBreakpoints = Bindings.DebuggerWorkspaceBinding.DebuggerWorkspaceBinding.instance().supportsConditionalBreakpoints(this.uiSourceCode);\n        if (!breakpoints.length) {\n            if (this.editor && SourceFrame.SourceFrame.isBreakableLine(this.editor.state, line)) {\n                contextMenu.debugSection().appendItem(i18nString(UIStrings.addBreakpoint), this.createNewBreakpoint.bind(this, line, EMPTY_BREAKPOINT_CONDITION, /* enabled */ true, /* isLogpoint */ false), { jslogContext: 'add-breakpoint' });\n                if (supportsConditionalBreakpoints) {\n                    contextMenu.debugSection().appendItem(i18nString(UIStrings.addConditionalBreakpoint), () => {\n                        this.editBreakpointCondition({ line, breakpoint: null, location: null, isLogpoint: false });\n                    }, { jslogContext: 'add-cnd-breakpoint' });\n                    contextMenu.debugSection().appendItem(i18nString(UIStrings.addLogpoint), () => {\n                        this.editBreakpointCondition({ line, breakpoint: null, location: null, isLogpoint: true });\n                    }, { jslogContext: 'add-logpoint' });\n                    contextMenu.debugSection().appendItem(i18nString(UIStrings.neverPauseHere), this.createNewBreakpoint.bind(this, line, NEVER_PAUSE_HERE_CONDITION, /* enabled */ true, /* isLogpoint */ false), { jslogContext: 'never-pause-here' });\n                }\n            }\n        }\n        else {\n            const removeTitle = i18nString(UIStrings.removeBreakpoint, { n: breakpoints.length });\n            contextMenu.debugSection().appendItem(removeTitle, () => breakpoints.forEach(breakpoint => {\n                Host.userMetrics.actionTaken(Host.UserMetrics.Action.BreakpointRemovedFromGutterContextMenu);\n                void breakpoint.remove(false);\n            }), { jslogContext: 'remove-breakpoint' });\n            if (breakpoints.length === 1 && supportsConditionalBreakpoints) {\n                // Editing breakpoints only make sense for conditional breakpoints\n                // and logpoints and both are currently only available for JavaScript\n                // debugging.\n                contextMenu.debugSection().appendItem(i18nString(UIStrings.editBreakpoint), () => {\n                    this.editBreakpointCondition({ line, breakpoint: breakpoints[0], location: null });\n                }, { jslogContext: 'edit-breakpoint' });\n            }\n            const hasEnabled = breakpoints.some(breakpoint => breakpoint.enabled());\n            if (hasEnabled) {\n                const title = i18nString(UIStrings.disableBreakpoint, { n: breakpoints.length });\n                contextMenu.debugSection().appendItem(title, () => breakpoints.forEach(breakpoint => breakpoint.setEnabled(false)), { jslogContext: 'enable-breakpoint' });\n            }\n            const hasDisabled = breakpoints.some(breakpoint => !breakpoint.enabled());\n            if (hasDisabled) {\n                const title = i18nString(UIStrings.enableBreakpoint, { n: breakpoints.length });\n                contextMenu.debugSection().appendItem(title, () => breakpoints.forEach(breakpoint => breakpoint.setEnabled(true)), { jslogContext: 'disable-breakpoint' });\n            }\n        }\n    }\n    populateTextAreaContextMenu(contextMenu) {\n        function addSourceMapURL(scriptFile) {\n            const dialog = AddDebugInfoURLDialog.createAddSourceMapURLDialog(addSourceMapURLDialogCallback.bind(null, scriptFile));\n            dialog.show();\n        }\n        function addSourceMapURLDialogCallback(scriptFile, url) {\n            if (!url) {\n                return;\n            }\n            scriptFile.addSourceMapURL(url);\n        }\n        function addDebugInfoURL(scriptFile) {\n            const dialog = AddDebugInfoURLDialog.createAddDWARFSymbolsURLDialog(addDebugInfoURLDialogCallback.bind(null, scriptFile));\n            dialog.show();\n        }\n        function addDebugInfoURLDialogCallback(scriptFile, url) {\n            if (!url) {\n                return;\n            }\n            scriptFile.addDebugInfoURL(url);\n        }\n        if (this.uiSourceCode.project().type() === Workspace.Workspace.projectTypes.Network &&\n            Common.Settings.Settings.instance().moduleSetting('js-source-maps-enabled').get() &&\n            !Bindings.IgnoreListManager.IgnoreListManager.instance().isUserIgnoreListedURL(this.uiSourceCode.url())) {\n            if (this.scriptFileForDebuggerModel.size) {\n                const scriptFile = this.scriptFileForDebuggerModel.values().next().value;\n                const addSourceMapURLLabel = i18nString(UIStrings.addSourceMap);\n                contextMenu.debugSection().appendItem(addSourceMapURLLabel, addSourceMapURL.bind(null, scriptFile), { jslogContext: 'add-source-map' });\n                if (scriptFile.script?.isWasm() &&\n                    !Bindings.DebuggerWorkspaceBinding.DebuggerWorkspaceBinding.instance().pluginManager.hasPluginForScript(scriptFile.script)) {\n                    contextMenu.debugSection().appendItem(i18nString(UIStrings.addWasmDebugInfo), addDebugInfoURL.bind(null, scriptFile), { jslogContext: 'add-wasm-debug-info' });\n                }\n            }\n        }\n    }\n    workingCopyChanged() {\n        if (!this.scriptFileForDebuggerModel.size) {\n            this.setMuted(this.uiSourceCode.isDirty());\n        }\n    }\n    workingCopyCommitted() {\n        this.scriptsPanel.updateLastModificationTime();\n        if (!this.scriptFileForDebuggerModel.size) {\n            this.setMuted(false);\n        }\n    }\n    didMergeToVM() {\n        if (this.consistentScripts()) {\n            this.setMuted(false);\n        }\n    }\n    didDivergeFromVM() {\n        this.setMuted(true);\n    }\n    setMuted(value) {\n        if (this.initializedMuted) {\n            return;\n        }\n        if (value !== this.muted) {\n            this.muted = value;\n            if (!value) {\n                void this.restoreBreakpointsAfterEditing();\n            }\n            else if (this.editor) {\n                this.editor.dispatch({ effects: muteBreakpoints.of(null) });\n            }\n        }\n    }\n    consistentScripts() {\n        for (const scriptFile of this.scriptFileForDebuggerModel.values()) {\n            if (scriptFile.hasDivergedFromVM() || scriptFile.isMergingToVM()) {\n                return false;\n            }\n        }\n        return true;\n    }\n    isVariableIdentifier(tokenType) {\n        return tokenType === 'VariableName' || tokenType === 'VariableDefinition';\n    }\n    isIdentifier(tokenType) {\n        return tokenType === 'VariableName' || tokenType === 'VariableDefinition' || tokenType === 'PropertyName' ||\n            tokenType === 'PropertyDefinition';\n    }\n    getPopoverRequest(event) {\n        if (UI.KeyboardShortcut.KeyboardShortcut.eventHasCtrlEquivalentKey(event)) {\n            return null;\n        }\n        const target = UI.Context.Context.instance().flavor(SDK.Target.Target);\n        const debuggerModel = target ? target.model(SDK.DebuggerModel.DebuggerModel) : null;\n        const { editor } = this;\n        if (!debuggerModel || !debuggerModel.isPaused() || !editor) {\n            return null;\n        }\n        const selectedCallFrame = UI.Context.Context.instance().flavor(SDK.DebuggerModel.CallFrame);\n        if (!selectedCallFrame) {\n            return null;\n        }\n        let textPosition = editor.editor.posAtCoords(event);\n        if (!textPosition) {\n            return null;\n        }\n        const positionCoords = editor.editor.coordsAtPos(textPosition);\n        if (!positionCoords || event.clientY < positionCoords.top || event.clientY > positionCoords.bottom ||\n            event.clientX < positionCoords.left - 30 || event.clientX > positionCoords.right + 30) {\n            return null;\n        }\n        if (event.clientX < positionCoords.left && textPosition > editor.state.doc.lineAt(textPosition).from) {\n            textPosition -= 1;\n        }\n        const highlightRange = computePopoverHighlightRange(editor.state, this.uiSourceCode.mimeType(), textPosition);\n        if (!highlightRange) {\n            return null;\n        }\n        const highlightLine = editor.state.doc.lineAt(highlightRange.from);\n        if (highlightRange.to > highlightLine.to) {\n            return null;\n        }\n        const leftCorner = editor.editor.coordsAtPos(highlightRange.from);\n        const rightCorner = editor.editor.coordsAtPos(highlightRange.to);\n        if (!leftCorner || !rightCorner) {\n            return null;\n        }\n        const box = new AnchorBox(leftCorner.left, leftCorner.top - 2, rightCorner.right - leftCorner.left, rightCorner.bottom - leftCorner.top);\n        const evaluationText = editor.state.sliceDoc(highlightRange.from, highlightRange.to);\n        let objectPopoverHelper = null;\n        return {\n            box,\n            show: async (popover) => {\n                let resolvedText = '';\n                if (selectedCallFrame.script.isJavaScript()) {\n                    const nameMap = await SourceMapScopes.NamesResolver.allVariablesInCallFrame(selectedCallFrame);\n                    try {\n                        resolvedText =\n                            await Formatter.FormatterWorkerPool.formatterWorkerPool().javaScriptSubstitute(evaluationText, nameMap);\n                    }\n                    catch {\n                    }\n                }\n                // We use side-effect free debug-evaluate when the highlighted expression contains a\n                // function/method call. Otherwise we allow side-effects. The motiviation here are\n                // frameworks like Vue, that heavily use proxies for caching:\n                //\n                //   * We deem a simple property access of a proxy as deterministic so it should be\n                //     successful even if V8 thinks its side-effecting.\n                //   * Explicit function calls on the other hand must be side-effect free. The canonical\n                //     example is hovering over {Math.random()} which would result in a different value\n                //     each time the user hovers over it.\n                const throwOnSideEffect = highlightRange.containsSideEffects;\n                const result = await selectedCallFrame.evaluate({\n                    expression: resolvedText || evaluationText,\n                    objectGroup: 'popover',\n                    includeCommandLineAPI: false,\n                    silent: true,\n                    returnByValue: false,\n                    generatePreview: false,\n                    throwOnSideEffect,\n                    timeout: undefined,\n                    disableBreaks: undefined,\n                    replMode: undefined,\n                    allowUnsafeEvalBlockedByCSP: undefined,\n                });\n                if (!result || 'error' in result || !result.object ||\n                    (result.object.type === 'object' && result.object.subtype === 'error')) {\n                    return false;\n                }\n                objectPopoverHelper =\n                    await ObjectUI.ObjectPopoverHelper.ObjectPopoverHelper.buildObjectPopover(result.object, popover);\n                const potentiallyUpdatedCallFrame = UI.Context.Context.instance().flavor(SDK.DebuggerModel.CallFrame);\n                if (!objectPopoverHelper || selectedCallFrame !== potentiallyUpdatedCallFrame) {\n                    debuggerModel.runtimeModel().releaseObjectGroup('popover');\n                    if (objectPopoverHelper) {\n                        objectPopoverHelper.dispose();\n                    }\n                    return false;\n                }\n                const decoration = CodeMirror.Decoration.set(evalExpressionMark.range(highlightRange.from, highlightRange.to));\n                editor.dispatch({ effects: evalExpression.update.of(decoration) });\n                return true;\n            },\n            hide: () => {\n                if (objectPopoverHelper) {\n                    objectPopoverHelper.dispose();\n                }\n                debuggerModel.runtimeModel().releaseObjectGroup('popover');\n                editor.dispatch({ effects: evalExpression.update.of(CodeMirror.Decoration.none) });\n            },\n        };\n    }\n    onEditorUpdate(update) {\n        if (!update.changes.empty) {\n            // If the document changed, adjust known breakpoint positions\n            // for that change\n            for (const breakpointDesc of this.breakpoints) {\n                breakpointDesc.position = update.changes.mapPos(breakpointDesc.position);\n            }\n        }\n    }\n    onWheel(event) {\n        if (this.executionLocation && UI.KeyboardShortcut.KeyboardShortcut.eventHasCtrlEquivalentKey(event)) {\n            event.preventDefault();\n        }\n    }\n    onKeyDown(event) {\n        const ctrlDown = UI.KeyboardShortcut.KeyboardShortcut.eventHasCtrlEquivalentKey(event);\n        if (!ctrlDown) {\n            this.setControlDown(false);\n        }\n        if (event.key === Platform.KeyboardUtilities.ESCAPE_KEY) {\n            if (this.popoverHelper && this.popoverHelper.isPopoverVisible()) {\n                this.popoverHelper.hidePopover();\n                event.consume();\n                return true;\n            }\n        }\n        if (ctrlDown && this.executionLocation) {\n            this.setControlDown(true);\n        }\n        return false;\n    }\n    onMouseMove(event) {\n        if (this.executionLocation && this.controlDown &&\n            UI.KeyboardShortcut.KeyboardShortcut.eventHasCtrlEquivalentKey(event)) {\n            if (!this.continueToLocations) {\n                void this.showContinueToLocations();\n            }\n        }\n    }\n    onMouseDown(event) {\n        if (!this.executionLocation || !UI.KeyboardShortcut.KeyboardShortcut.eventHasCtrlEquivalentKey(event)) {\n            return;\n        }\n        if (!this.continueToLocations || !this.editor) {\n            return;\n        }\n        event.consume();\n        const textPosition = this.editor.editor.posAtCoords(event);\n        if (textPosition === null) {\n            return;\n        }\n        for (const { from, to, click } of this.continueToLocations) {\n            if (from <= textPosition && to >= textPosition) {\n                click();\n                break;\n            }\n        }\n    }\n    onBlur(_event) {\n        this.setControlDown(false);\n    }\n    onKeyUp(_event) {\n        this.setControlDown(false);\n    }\n    setControlDown(state) {\n        if (state !== this.controlDown) {\n            this.controlDown = state;\n            clearTimeout(this.controlTimeout);\n            this.controlTimeout = undefined;\n            if (state && this.executionLocation) {\n                this.controlTimeout = window.setTimeout(() => {\n                    if (this.executionLocation && this.controlDown) {\n                        void this.showContinueToLocations();\n                    }\n                }, 150);\n            }\n            else {\n                this.clearContinueToLocations();\n            }\n        }\n    }\n    editBreakpointCondition(breakpointEditRequest) {\n        const { line, breakpoint, location, isLogpoint } = breakpointEditRequest;\n        if (breakpoint?.isRemoved) {\n            // This method can get called for stale breakpoints, e.g. via the revealer.\n            // In that case we don't show the edit dialog as to not resurrect the breakpoint\n            // unintentionally.\n            return;\n        }\n        this.#scheduledFinishingActiveDialog = false;\n        const isRepeatedEditRequest = this.#activeBreakpointEditRequest &&\n            isSameEditRequest(this.#activeBreakpointEditRequest, breakpointEditRequest);\n        if (isRepeatedEditRequest) {\n            // Do not re-show the same edit dialog, instead use the already open one.\n            return;\n        }\n        if (this.activeBreakpointDialog) {\n            // If this a request to edit a different dialog, make sure to close the current active one\n            // to avoid showing two dialogs at the same time.\n            this.activeBreakpointDialog.saveAndFinish();\n        }\n        const editor = this.editor;\n        const oldCondition = breakpoint ? breakpoint.condition() : '';\n        const isLogpointForDialog = breakpoint?.isLogpoint() ?? Boolean(isLogpoint);\n        const decorationElement = document.createElement('div');\n        const compartment = new CodeMirror.Compartment();\n        const dialog = new BreakpointEditDialog(line.number - 1, oldCondition, isLogpointForDialog, async (result) => {\n            this.activeBreakpointDialog = null;\n            this.#activeBreakpointEditRequest = undefined;\n            dialog.detach();\n            editor.dispatch({ effects: compartment.reconfigure([]) });\n            if (!result.committed) {\n                SourceComponents.BreakpointsView.BreakpointsSidebarController.instance().breakpointEditFinished(breakpoint, false);\n                return;\n            }\n            SourceComponents.BreakpointsView.BreakpointsSidebarController.instance().breakpointEditFinished(breakpoint, oldCondition !== result.condition);\n            if (breakpoint) {\n                breakpoint.setCondition(result.condition, result.isLogpoint);\n            }\n            else if (location) {\n                await this.setBreakpoint(location.lineNumber, location.columnNumber, result.condition, /* enabled */ true, result.isLogpoint);\n            }\n            else {\n                await this.createNewBreakpoint(line, result.condition, /* enabled */ true, result.isLogpoint);\n            }\n        });\n        editor.dispatch({\n            effects: CodeMirror.StateEffect.appendConfig.of(compartment.of(CodeMirror.EditorView.decorations.of(CodeMirror.Decoration.set([CodeMirror.Decoration\n                    .widget({\n                    block: true, widget: new class extends CodeMirror.WidgetType {\n                        toDOM() {\n                            return decorationElement;\n                        }\n                    }(),\n                    side: 1,\n                })\n                    .range(line.to)])))),\n        });\n        dialog.element.addEventListener('blur', async (event) => {\n            if (!event.relatedTarget ||\n                (event.relatedTarget && !event.relatedTarget.isSelfOrDescendant(dialog.element))) {\n                this.#scheduledFinishingActiveDialog = true;\n                // Debounce repeated clicks on opening the edit dialog. Wait for a short amount of time\n                // in order to see whether we get a request to open the exact same dialog again.\n                setTimeout(() => {\n                    if (this.activeBreakpointDialog === dialog) {\n                        if (this.#scheduledFinishingActiveDialog) {\n                            dialog.saveAndFinish();\n                            this.#scheduledFinishingActiveDialog = false;\n                        }\n                        else {\n                            dialog.focusEditor();\n                        }\n                    }\n                }, 200);\n            }\n        }, true);\n        dialog.markAsExternallyManaged();\n        dialog.show(decorationElement);\n        dialog.focusEditor();\n        this.activeBreakpointDialog = dialog;\n        this.#activeBreakpointEditRequest = breakpointEditRequest;\n        function isSameEditRequest(editA, editB) {\n            if (editA.line.number !== editB.line.number) {\n                return false;\n            }\n            if (editA.line.from !== editB.line.from) {\n                return false;\n            }\n            if (editA.line.text !== editB.line.text) {\n                return false;\n            }\n            if (editA.breakpoint !== editB.breakpoint) {\n                return false;\n            }\n            if (editA.location !== editB.location) {\n                return false;\n            }\n            return editA.isLogpoint === editB.isLogpoint;\n        }\n    }\n    // Show widgets with variable's values after lines that mention the\n    // variables, if the debugger is paused in this file.\n    async updateValueDecorations() {\n        if (!this.editor) {\n            return;\n        }\n        const decorations = this.executionLocation ? await this.computeValueDecorations() : null;\n        // After the `await` the DebuggerPlugin could have been disposed. Re-check `this.editor`.\n        if (!this.editor) {\n            return;\n        }\n        if (decorations || this.editor.state.field(valueDecorations.field).size) {\n            this.editor.dispatch({ effects: valueDecorations.update.of(decorations || CodeMirror.Decoration.none) });\n        }\n    }\n    async #rawLocationToEditorOffset(location, url) {\n        const uiLocation = location &&\n            await Bindings.DebuggerWorkspaceBinding.DebuggerWorkspaceBinding.instance().rawLocationToUILocation(location);\n        if (!uiLocation || uiLocation.uiSourceCode.url() !== url) {\n            return null;\n        }\n        const offset = this.editor?.toOffset(this.transformer.uiLocationToEditorLocation(uiLocation.lineNumber, uiLocation.columnNumber));\n        return offset ?? null;\n    }\n    async computeValueDecorations() {\n        if (!this.editor) {\n            return null;\n        }\n        if (!Common.Settings.Settings.instance().moduleSetting('inline-variable-values').get()) {\n            return null;\n        }\n        const executionContext = UI.Context.Context.instance().flavor(SDK.RuntimeModel.ExecutionContext);\n        if (!executionContext) {\n            return null;\n        }\n        const callFrame = UI.Context.Context.instance().flavor(SDK.DebuggerModel.CallFrame);\n        if (!callFrame) {\n            return null;\n        }\n        const url = this.uiSourceCode.url();\n        const rawLocationToEditorOffset = location => this.#rawLocationToEditorOffset(location, url);\n        const functionOffsetPromise = this.#rawLocationToEditorOffset(callFrame.functionLocation(), url);\n        const executionOffsetPromise = this.#rawLocationToEditorOffset(callFrame.location(), url);\n        const [functionOffset, executionOffset] = await Promise.all([functionOffsetPromise, executionOffsetPromise]);\n        if (!functionOffset || !executionOffset || !this.editor) {\n            return null;\n        }\n        if (functionOffset >= executionOffset || executionOffset - functionOffset > MAX_CODE_SIZE_FOR_VALUE_DECORATIONS) {\n            return null;\n        }\n        while (CodeMirror.syntaxParserRunning(this.editor.editor)) {\n            await new Promise(resolve => window.requestIdleCallback(resolve));\n            // After the `await` the DebuggerPlugin could have been disposed. Re-check `this.editor`.\n            if (!this.editor) {\n                return null;\n            }\n            CodeMirror.ensureSyntaxTree(this.editor.state, executionOffset, 16);\n        }\n        const variableNames = getVariableNamesByLine(this.editor.state, functionOffset, executionOffset, executionOffset);\n        if (variableNames.length === 0) {\n            return null;\n        }\n        const scopeMappings = await computeScopeMappings(callFrame, rawLocationToEditorOffset);\n        // After the `await` the DebuggerPlugin could have been disposed. Re-check `this.editor`.\n        if (!this.editor || scopeMappings.length === 0) {\n            return null;\n        }\n        const variablesByLine = getVariableValuesByLine(scopeMappings, variableNames);\n        if (!variablesByLine || !this.editor) {\n            return null;\n        }\n        const decorations = [];\n        for (const [line, names] of variablesByLine) {\n            const prevLine = variablesByLine.get(line - 1);\n            let newNames = prevLine ? Array.from(names).filter(n => prevLine.get(n[0]) !== n[1]) : Array.from(names);\n            if (!newNames.length) {\n                continue;\n            }\n            if (newNames.length > 10) {\n                newNames = newNames.slice(0, 10);\n            }\n            decorations.push(CodeMirror.Decoration.widget({ widget: new ValueDecoration(newNames), side: 1 })\n                .range(this.editor.state.doc.line(line + 1).to));\n        }\n        return CodeMirror.Decoration.set(decorations, true);\n    }\n    // Highlight the locations the debugger can continue to (when\n    // Control is held)\n    async showContinueToLocations() {\n        this.popoverHelper?.hidePopover();\n        const executionContext = UI.Context.Context.instance().flavor(SDK.RuntimeModel.ExecutionContext);\n        if (!executionContext || !this.editor) {\n            return;\n        }\n        const callFrame = UI.Context.Context.instance().flavor(SDK.DebuggerModel.CallFrame);\n        if (!callFrame) {\n            return;\n        }\n        const start = callFrame.functionLocation() || callFrame.location();\n        const debuggerModel = callFrame.debuggerModel;\n        const { state } = this.editor;\n        const locations = await debuggerModel.getPossibleBreakpoints(start, null, true);\n        this.continueToLocations = [];\n        let previousCallLine = -1;\n        for (const location of locations.reverse()) {\n            const editorLocation = this.transformer.uiLocationToEditorLocation(location.lineNumber, location.columnNumber);\n            if (previousCallLine === editorLocation.lineNumber &&\n                location.type !== \"call\" /* Protocol.Debugger.BreakLocationType.Call */ ||\n                editorLocation.lineNumber >= state.doc.lines) {\n                continue;\n            }\n            const line = state.doc.line(editorLocation.lineNumber + 1);\n            const position = Math.min(line.to, line.from + editorLocation.columnNumber);\n            let syntaxNode = CodeMirror.syntaxTree(state).resolveInner(position, 1);\n            if (syntaxNode.firstChild || syntaxNode.from < line.from ||\n                syntaxNode.to > line.to) { // Only use leaf nodes within the line\n                continue;\n            }\n            if (syntaxNode.name === '.') {\n                const nextNode = syntaxNode.resolve(syntaxNode.to, 1);\n                if (nextNode.firstChild || nextNode.from < line.from || nextNode.to > line.to) {\n                    continue;\n                }\n                syntaxNode = nextNode;\n            }\n            const syntaxType = syntaxNode.name;\n            const validKeyword = syntaxType === 'this' || syntaxType === 'return' || syntaxType === 'new' ||\n                syntaxType === 'break' || syntaxType === 'continue';\n            if (!validKeyword && !this.isIdentifier(syntaxType)) {\n                continue;\n            }\n            this.continueToLocations.push({ from: syntaxNode.from, to: syntaxNode.to, async: false, click: () => location.continueToLocation() });\n            if (location.type === \"call\" /* Protocol.Debugger.BreakLocationType.Call */) {\n                previousCallLine = editorLocation.lineNumber;\n            }\n            const identifierName = validKeyword ? '' : line.text.slice(syntaxNode.from - line.from, syntaxNode.to - line.from);\n            let asyncCall = null;\n            if (identifierName === 'then' && syntaxNode.parent?.name === 'MemberExpression') {\n                asyncCall = syntaxNode.parent.parent;\n            }\n            else if (identifierName === 'setTimeout' || identifierName === 'setInterval' || identifierName === 'postMessage') {\n                asyncCall = syntaxNode.parent;\n            }\n            if (syntaxType === 'new') {\n                const callee = syntaxNode.parent?.getChild('Expression');\n                if (callee && callee.name === 'VariableName' && state.sliceDoc(callee.from, callee.to) === 'Worker') {\n                    asyncCall = syntaxNode.parent;\n                }\n            }\n            if (asyncCall && (asyncCall.name === 'CallExpression' || asyncCall.name === 'NewExpression') &&\n                location.type === \"call\" /* Protocol.Debugger.BreakLocationType.Call */) {\n                const firstArg = asyncCall.getChild('ArgList')?.firstChild?.nextSibling;\n                let highlightNode;\n                if (firstArg?.name === 'VariableName') {\n                    highlightNode = firstArg;\n                }\n                else if (firstArg?.name === 'ArrowFunction' || firstArg?.name === 'FunctionExpression') {\n                    highlightNode = firstArg.firstChild;\n                    if (highlightNode?.name === 'async') {\n                        highlightNode = highlightNode.nextSibling;\n                    }\n                }\n                if (highlightNode) {\n                    const isCurrentPosition = this.executionLocation &&\n                        location.lineNumber === this.executionLocation.lineNumber &&\n                        location.columnNumber === this.executionLocation.columnNumber;\n                    this.continueToLocations.push({\n                        from: highlightNode.from,\n                        to: highlightNode.to,\n                        async: true,\n                        click: () => this.asyncStepIn(location, Boolean(isCurrentPosition)),\n                    });\n                }\n            }\n        }\n        const decorations = CodeMirror.Decoration.set(this.continueToLocations.map(loc => {\n            return (loc.async ? asyncContinueToMark : continueToMark).range(loc.from, loc.to);\n        }), true);\n        this.editor.dispatch({ effects: continueToMarkers.update.of(decorations) });\n    }\n    clearContinueToLocations() {\n        if (this.editor && this.editor.state.field(continueToMarkers.field).size) {\n            this.editor.dispatch({ effects: continueToMarkers.update.of(CodeMirror.Decoration.none) });\n        }\n    }\n    asyncStepIn(location, isCurrentPosition) {\n        if (!isCurrentPosition) {\n            location.continueToLocation(asyncStepIn);\n        }\n        else {\n            asyncStepIn();\n        }\n        function asyncStepIn() {\n            location.debuggerModel.scheduleStepIntoAsync();\n        }\n    }\n    fetchBreakpoints() {\n        if (!this.editor) {\n            return [];\n        }\n        const { editor } = this;\n        const breakpointLocations = this.breakpointManager.breakpointLocationsForUISourceCode(this.uiSourceCode);\n        return breakpointLocations.map(({ uiLocation, breakpoint }) => {\n            const editorLocation = this.transformer.uiLocationToEditorLocation(uiLocation.lineNumber, uiLocation.columnNumber);\n            return {\n                position: editor.toOffset(editorLocation),\n                breakpoint,\n            };\n        });\n    }\n    lineBreakpoints(line) {\n        return this.breakpoints.filter(b => b.position >= line.from && b.position <= line.to).map(b => b.breakpoint);\n    }\n    async linePossibleBreakpoints(line) {\n        const start = this.transformer.editorLocationToUILocation(line.number - 1, 0);\n        const end = this.transformer.editorLocationToUILocation(line.number - 1, Math.min(line.length, MAX_POSSIBLE_BREAKPOINT_LINE));\n        const range = new TextUtils.TextRange.TextRange(start.lineNumber, start.columnNumber || 0, end.lineNumber, end.columnNumber || 0);\n        return await this.breakpointManager.possibleBreakpoints(this.uiSourceCode, range);\n    }\n    // Compute the decorations for existing breakpoints (both on the\n    // gutter and inline in the code)\n    async computeBreakpointDecoration(state, breakpoints) {\n        const decorations = [];\n        const gutterMarkers = [];\n        const breakpointsByLine = new Map();\n        const inlineMarkersByLine = new Map();\n        const possibleBreakpointRequests = [];\n        const inlineMarkerPositions = new Set();\n        const addInlineMarker = (linePos, columnNumber, breakpoint) => {\n            let inlineMarkers = inlineMarkersByLine.get(linePos);\n            if (!inlineMarkers) {\n                inlineMarkers = [];\n                inlineMarkersByLine.set(linePos, inlineMarkers);\n            }\n            inlineMarkers.push({ breakpoint, column: columnNumber });\n        };\n        for (const { position, breakpoint } of breakpoints) {\n            const line = state.doc.lineAt(position);\n            let forThisLine = breakpointsByLine.get(line.from);\n            if (!forThisLine) {\n                forThisLine = [];\n                breakpointsByLine.set(line.from, forThisLine);\n            }\n            if (breakpoint.enabled() && forThisLine.every(b => !b.enabled())) {\n                // Start a request for possible breakpoint positions on this line\n                possibleBreakpointRequests.push(this.linePossibleBreakpoints(line).then(locations => addPossibleBreakpoints(line, locations)));\n            }\n            forThisLine.push(breakpoint);\n            if (breakpoint.enabled()) {\n                inlineMarkerPositions.add(position);\n                addInlineMarker(line.from, position - line.from, breakpoint);\n            }\n        }\n        for (const [lineStart, lineBreakpoints] of breakpointsByLine) {\n            const main = lineBreakpoints.sort(mostSpecificBreakpoint)[0];\n            let gutterClass = 'cm-breakpoint';\n            if (!main.enabled()) {\n                gutterClass += ' cm-breakpoint-disabled';\n            }\n            if (!main.bound()) {\n                gutterClass += ' cm-breakpoint-unbound';\n            }\n            if (main.isLogpoint()) {\n                gutterClass += ' cm-breakpoint-logpoint';\n            }\n            else if (main.condition()) {\n                gutterClass += ' cm-breakpoint-conditional';\n            }\n            gutterMarkers.push((new BreakpointGutterMarker(gutterClass, lineStart)).range(lineStart));\n        }\n        const addPossibleBreakpoints = (line, locations) => {\n            for (const location of locations) {\n                const editorLocation = this.transformer.uiLocationToEditorLocation(location.lineNumber, location.columnNumber);\n                if (editorLocation.lineNumber !== line.number - 1) {\n                    continue;\n                }\n                const position = Math.min(line.to, line.from + editorLocation.columnNumber);\n                if (!inlineMarkerPositions.has(position)) {\n                    addInlineMarker(line.from, editorLocation.columnNumber, null);\n                }\n            }\n        };\n        await Promise.all(possibleBreakpointRequests);\n        for (const [linePos, inlineMarkers] of inlineMarkersByLine) {\n            if (inlineMarkers.length > 1) {\n                for (const { column, breakpoint } of inlineMarkers) {\n                    const marker = new BreakpointInlineMarker(breakpoint, this);\n                    decorations.push(CodeMirror.Decoration.widget({ widget: marker, side: -1 }).range(linePos + column));\n                }\n            }\n        }\n        return { content: CodeMirror.Decoration.set(decorations, true), gutter: CodeMirror.RangeSet.of(gutterMarkers, true) };\n    }\n    // If, after editing, the editor is synced again (either by going\n    // back to the original document or by saving), we replace any\n    // breakpoints the breakpoint manager might have (which point into\n    // the old file) with the breakpoints we have, which had their\n    // positions tracked through the changes.\n    async restoreBreakpointsAfterEditing() {\n        const { breakpoints } = this;\n        const editor = this.editor;\n        this.breakpoints = [];\n        await Promise.all(breakpoints.map(async (description) => {\n            const { breakpoint, position } = description;\n            const condition = breakpoint.condition(), enabled = breakpoint.enabled(), isLogpoint = breakpoint.isLogpoint();\n            await breakpoint.remove(false);\n            const editorLocation = editor.toLineColumn(position);\n            const uiLocation = this.transformer.editorLocationToUILocation(editorLocation.lineNumber, editorLocation.columnNumber);\n            await this.setBreakpoint(uiLocation.lineNumber, uiLocation.columnNumber, condition, enabled, isLogpoint);\n        }));\n    }\n    async refreshBreakpoints() {\n        if (this.editor) {\n            this.breakpoints = this.fetchBreakpoints();\n            const forBreakpoints = this.breakpoints;\n            const decorations = await this.computeBreakpointDecoration(this.editor.state, forBreakpoints);\n            // After the `await` we could have disposed of this DebuggerPlugin, so re-check `this.editor`.\n            if (this.editor && this.breakpoints === forBreakpoints &&\n                (decorations.gutter.size || this.editor.state.field(breakpointMarkers, false)?.gutter.size)) {\n                this.editor.dispatch({ effects: setBreakpointDeco.of(decorations) });\n            }\n        }\n    }\n    breakpointChange(event) {\n        const { uiLocation } = event.data;\n        if (uiLocation.uiSourceCode !== this.uiSourceCode || this.muted) {\n            return;\n        }\n        for (const scriptFile of this.scriptFileForDebuggerModel.values()) {\n            if (scriptFile.isDivergingFromVM() || scriptFile.isMergingToVM()) {\n                return;\n            }\n        }\n        // These tend to arrive in bursts, so debounce them\n        window.clearTimeout(this.refreshBreakpointsTimeout);\n        this.refreshBreakpointsTimeout = window.setTimeout(() => this.refreshBreakpoints(), 50);\n    }\n    onInlineBreakpointMarkerClick(event, breakpoint) {\n        event.consume(true);\n        if (breakpoint) {\n            if (event.shiftKey) {\n                breakpoint.setEnabled(!breakpoint.enabled());\n            }\n            else {\n                void breakpoint.remove(false);\n            }\n        }\n        else if (this.editor) {\n            const editorLocation = this.editor.editor.posAtDOM(event.target);\n            const line = this.editor.state.doc.lineAt(editorLocation);\n            const uiLocation = this.transformer.editorLocationToUILocation(line.number - 1, editorLocation - line.from);\n            void this.setBreakpoint(uiLocation.lineNumber, uiLocation.columnNumber, EMPTY_BREAKPOINT_CONDITION, /* enabled */ true, \n            /* isLogpoint */ false);\n        }\n    }\n    onInlineBreakpointMarkerContextMenu(event, breakpoint) {\n        event.consume(true);\n        // If there's events coming from the editor, there must be an editor.\n        const editor = this.editor;\n        const position = editor.editor.posAtDOM(event.target);\n        const line = editor.state.doc.lineAt(position);\n        if (!SourceFrame.SourceFrame.isBreakableLine(editor.state, line) ||\n            // Editing breakpoints only make sense for conditional breakpoints\n            // and logpoints.\n            !Bindings.DebuggerWorkspaceBinding.DebuggerWorkspaceBinding.instance().supportsConditionalBreakpoints(this.uiSourceCode)) {\n            return;\n        }\n        const contextMenu = new UI.ContextMenu.ContextMenu(event);\n        if (breakpoint) {\n            contextMenu.debugSection().appendItem(i18nString(UIStrings.editBreakpoint), () => {\n                this.editBreakpointCondition({ line, breakpoint, location: null });\n            }, { jslogContext: 'edit-breakpoint' });\n        }\n        else {\n            const uiLocation = this.transformer.editorLocationToUILocation(line.number - 1, position - line.from);\n            contextMenu.debugSection().appendItem(i18nString(UIStrings.addConditionalBreakpoint), () => {\n                this.editBreakpointCondition({ line, breakpoint: null, location: uiLocation, isLogpoint: false });\n            }, { jslogContext: 'add-cnd-breakpoint' });\n            contextMenu.debugSection().appendItem(i18nString(UIStrings.addLogpoint), () => {\n                this.editBreakpointCondition({ line, breakpoint: null, location: uiLocation, isLogpoint: true });\n            }, { jslogContext: 'add-logpoint' });\n            contextMenu.debugSection().appendItem(i18nString(UIStrings.neverPauseHere), () => this.setBreakpoint(uiLocation.lineNumber, uiLocation.columnNumber, NEVER_PAUSE_HERE_CONDITION, /* enabled */ true, \n            /* isLogpoint */ false), { jslogContext: 'never-pause-here' });\n        }\n        void contextMenu.show();\n    }\n    updateScriptFiles() {\n        for (const debuggerModel of SDK.TargetManager.TargetManager.instance().models(SDK.DebuggerModel.DebuggerModel)) {\n            const scriptFile = Bindings.DebuggerWorkspaceBinding.DebuggerWorkspaceBinding.instance().scriptFile(this.uiSourceCode, debuggerModel);\n            if (scriptFile) {\n                this.updateScriptFile(debuggerModel);\n            }\n        }\n        this.showSourceMapInfobarIfNeeded();\n    }\n    updateScriptFile(debuggerModel) {\n        const oldScriptFile = this.scriptFileForDebuggerModel.get(debuggerModel);\n        const newScriptFile = Bindings.DebuggerWorkspaceBinding.DebuggerWorkspaceBinding.instance().scriptFile(this.uiSourceCode, debuggerModel);\n        this.scriptFileForDebuggerModel.delete(debuggerModel);\n        if (oldScriptFile) {\n            oldScriptFile.removeEventListener(\"DidMergeToVM\" /* Bindings.ResourceScriptMapping.ResourceScriptFile.Events.DID_MERGE_TO_VM */, this.didMergeToVM, this);\n            oldScriptFile.removeEventListener(\"DidDivergeFromVM\" /* Bindings.ResourceScriptMapping.ResourceScriptFile.Events.DID_DIVERGE_FROM_VM */, this.didDivergeFromVM, this);\n            if (this.muted && !this.uiSourceCode.isDirty() && this.consistentScripts()) {\n                this.setMuted(false);\n            }\n        }\n        if (!newScriptFile) {\n            return;\n        }\n        this.scriptFileForDebuggerModel.set(debuggerModel, newScriptFile);\n        newScriptFile.addEventListener(\"DidMergeToVM\" /* Bindings.ResourceScriptMapping.ResourceScriptFile.Events.DID_MERGE_TO_VM */, this.didMergeToVM, this);\n        newScriptFile.addEventListener(\"DidDivergeFromVM\" /* Bindings.ResourceScriptMapping.ResourceScriptFile.Events.DID_DIVERGE_FROM_VM */, this.didDivergeFromVM, this);\n        newScriptFile.checkMapping();\n        void newScriptFile.missingSymbolFiles().then(resources => {\n            if (resources) {\n                const details = i18nString(UIStrings.debugInfoNotFound, { PH1: newScriptFile.uiSourceCode.url() });\n                this.updateMissingDebugInfoInfobar({ resources, details });\n            }\n            else {\n                this.updateMissingDebugInfoInfobar(null);\n            }\n        });\n    }\n    updateMissingDebugInfoInfobar(warning) {\n        if (this.missingDebugInfoBar) {\n            return;\n        }\n        if (warning === null) {\n            this.removeInfobar(this.missingDebugInfoBar);\n            this.missingDebugInfoBar = null;\n            return;\n        }\n        this.missingDebugInfoBar =\n            UI.Infobar.Infobar.create(\"error\" /* UI.Infobar.Type.ERROR */, warning.details, [], undefined, 'missing-debug-info');\n        if (!this.missingDebugInfoBar) {\n            return;\n        }\n        for (const resource of warning.resources) {\n            const detailsRow = this.missingDebugInfoBar?.createDetailsRowMessage(i18nString(UIStrings.debugFileNotFound, { PH1: Common.ParsedURL.ParsedURL.extractName(resource.resourceUrl) }));\n            if (detailsRow) {\n                const pageResourceKey = SDK.PageResourceLoader.PageResourceLoader.makeExtensionKey(resource.resourceUrl, resource.initiator);\n                if (SDK.PageResourceLoader.PageResourceLoader.instance().getResourcesLoaded().get(pageResourceKey)) {\n                    const showRequest = UI.UIUtils.createTextButton(i18nString(UIStrings.showRequest), () => {\n                        void Common.Revealer.reveal(new SDK.PageResourceLoader.ResourceKey(pageResourceKey));\n                    }, { jslogContext: 'show-request', variant: \"text\" /* Buttons.Button.Variant.TEXT */ });\n                    showRequest.style.setProperty('margin-left', '10px');\n                    showRequest.title = i18nString(UIStrings.openDeveloperResources);\n                    detailsRow.appendChild(showRequest);\n                }\n                detailsRow.classList.add('infobar-selectable');\n            }\n        }\n        this.missingDebugInfoBar.setCloseCallback(() => {\n            this.removeInfobar(this.missingDebugInfoBar);\n            this.missingDebugInfoBar = null;\n        });\n        this.attachInfobar(this.missingDebugInfoBar);\n    }\n    scriptHasSourceMap() {\n        for (const debuggerModel of SDK.TargetManager.TargetManager.instance().models(SDK.DebuggerModel.DebuggerModel)) {\n            const scriptFile = Bindings.DebuggerWorkspaceBinding.DebuggerWorkspaceBinding.instance().scriptFile(this.uiSourceCode, debuggerModel);\n            if (scriptFile && scriptFile.hasSourceMapURL()) {\n                return true;\n            }\n        }\n        return false;\n    }\n    getSourceMapResource() {\n        const resourceMap = this.loader.getResourcesLoaded();\n        for (const [debuggerModel, script] of this.scriptFileForDebuggerModel.entries()) {\n            const url = script.script?.sourceMapURL;\n            if (url) {\n                const initiatorUrl = SDK.SourceMapManager.SourceMapManager.resolveRelativeSourceURL(debuggerModel.target(), script.script.sourceURL);\n                const resolvedUrl = Common.ParsedURL.ParsedURL.completeURL(initiatorUrl, url);\n                if (resolvedUrl) {\n                    const resource = resourceMap.get(SDK.PageResourceLoader.PageResourceLoader.makeKey(resolvedUrl, script.script.createPageResourceLoadInitiator()));\n                    if (resource) {\n                        return resource;\n                    }\n                }\n            }\n        }\n        return null;\n    }\n    showSourceMapInfobarIfNeeded() {\n        if (this.sourceMapInfobar) {\n            return;\n        }\n        if (!Common.Settings.Settings.instance().moduleSetting('js-source-maps-enabled').get()) {\n            return;\n        }\n        if (!this.scriptHasSourceMap()) {\n            return;\n        }\n        const resource = this.getSourceMapResource();\n        if (resource && resource.success === null) {\n            // Don't create the infobar until we know whether loading succeeded or failed.\n            return;\n        }\n        if (!resource) {\n            this.sourceMapInfobar = UI.Infobar.Infobar.create(\"info\" /* UI.Infobar.Type.INFO */, i18nString(UIStrings.sourceMapSkipped), [], Common.Settings.Settings.instance().createSetting('source-map-skipped-infobar-disabled', false), 'source-map-skipped');\n            if (!this.sourceMapInfobar) {\n                return;\n            }\n            this.sourceMapInfobar.createDetailsRowMessage(i18nString(UIStrings.debuggingPowerReduced));\n            this.sourceMapInfobar.createDetailsRowMessage(i18nString(UIStrings.reloadForSourceMap));\n        }\n        else if (resource.success) {\n            this.sourceMapInfobar = UI.Infobar.Infobar.create(\"info\" /* UI.Infobar.Type.INFO */, i18nString(UIStrings.sourceMapLoaded), [], Common.Settings.Settings.instance().createSetting('source-map-infobar-disabled', false), 'source-map-loaded');\n            if (!this.sourceMapInfobar) {\n                return;\n            }\n            this.sourceMapInfobar.createDetailsRowMessage(i18nString(UIStrings.associatedFilesShouldBeAdded));\n            this.sourceMapInfobar.createDetailsRowMessage(i18nString(UIStrings.associatedFilesAreAvailable, {\n                PH1: String(UI.ShortcutRegistry.ShortcutRegistry.instance().shortcutTitleForAction('quick-open.show')),\n            }));\n        }\n        else {\n            this.sourceMapInfobar = UI.Infobar.Infobar.create(\"warning\" /* UI.Infobar.Type.WARNING */, i18nString(UIStrings.sourceMapFailed), [], undefined, 'source-map-failed');\n            if (!this.sourceMapInfobar) {\n                return;\n            }\n            this.sourceMapInfobar.createDetailsRowMessage(i18nString(UIStrings.debuggingPowerReduced));\n            if (resource.errorMessage) {\n                this.sourceMapInfobar.createDetailsRowMessage(i18nString(UIStrings.errorLoading, {\n                    PH1: Platform.StringUtilities.trimMiddle(resource.url, UI.UIUtils.MaxLengthForDisplayedURLs),\n                    PH2: resource.errorMessage,\n                }));\n            }\n        }\n        this.sourceMapInfobar.setCloseCallback(() => {\n            this.removeInfobar(this.sourceMapInfobar);\n            this.sourceMapInfobar = null;\n        });\n        this.attachInfobar(this.sourceMapInfobar);\n    }\n    handleGutterClick(line, event) {\n        if (this.muted || event.button !== 0 || event.altKey) {\n            return false;\n        }\n        if (event.metaKey || event.ctrlKey) {\n            this.#openEditDialogForLine(line, event.shiftKey);\n            return true;\n        }\n        void this.toggleBreakpoint(line, event.shiftKey);\n        return true;\n    }\n    async toggleBreakpoint(line, onlyDisable) {\n        if (this.muted) {\n            return;\n        }\n        if (this.activeBreakpointDialog) {\n            this.activeBreakpointDialog.finishEditing(false, '');\n        }\n        const breakpoints = this.lineBreakpoints(line);\n        if (!breakpoints.length) {\n            await this.createNewBreakpoint(line, EMPTY_BREAKPOINT_CONDITION, /* enabled */ true, /* isLogpoint */ false);\n            return;\n        }\n        const hasDisabled = breakpoints.some(b => !b.enabled());\n        for (const breakpoint of breakpoints) {\n            if (onlyDisable) {\n                breakpoint.setEnabled(hasDisabled);\n            }\n            else {\n                Host.userMetrics.actionTaken(Host.UserMetrics.Action.BreakpointRemovedFromGutterToggle);\n                void breakpoint.remove(false);\n            }\n        }\n    }\n    async defaultBreakpointLocation(line) {\n        // If the breakpoint is being set at the execution location, use the execution location exactly,\n        // otherwise calculate the location from the line number.\n        if (this.executionLocation) {\n            const editorExecutionLocation = this.transformer.uiLocationToEditorLocation(this.executionLocation.lineNumber, this.executionLocation.columnNumber);\n            if (editorExecutionLocation.lineNumber === line.number - 1) {\n                const possibleBreakpoints = await this.linePossibleBreakpoints(line);\n                for (const location of possibleBreakpoints) {\n                    if (location.compareTo(this.executionLocation) === 0) {\n                        return this.executionLocation;\n                    }\n                }\n            }\n        }\n        return this.transformer.editorLocationToUILocation(line.number - 1);\n    }\n    async createNewBreakpoint(line, condition, enabled, isLogpoint) {\n        if (!this.editor || !SourceFrame.SourceFrame.isBreakableLine(this.editor.state, line)) {\n            return;\n        }\n        Host.userMetrics.actionTaken(Host.UserMetrics.Action.ScriptsBreakpointSet);\n        this.#recordSourcesPanelDebuggedMetrics();\n        const origin = await this.defaultBreakpointLocation(line);\n        await this.setBreakpoint(origin.lineNumber, origin.columnNumber, condition, enabled, isLogpoint);\n    }\n    async setBreakpoint(lineNumber, columnNumber, condition, enabled, isLogpoint) {\n        Common.Settings.Settings.instance().moduleSetting('breakpoints-active').set(true);\n        const bp = await this.breakpointManager.setBreakpoint(this.uiSourceCode, lineNumber, columnNumber, condition, enabled, isLogpoint, \"USER_ACTION\" /* Breakpoints.BreakpointManager.BreakpointOrigin.USER_ACTION */);\n        this.breakpointWasSetForTest(lineNumber, columnNumber, condition, enabled);\n        return bp;\n    }\n    breakpointWasSetForTest(_lineNumber, _columnNumber, _condition, _enabled) {\n    }\n    async callFrameChanged() {\n        this.liveLocationPool.disposeAll();\n        const callFrame = UI.Context.Context.instance().flavor(SDK.DebuggerModel.CallFrame);\n        if (!callFrame) {\n            this.setExecutionLocation(null);\n        }\n        else {\n            await Bindings.DebuggerWorkspaceBinding.DebuggerWorkspaceBinding.instance().createCallFrameLiveLocation(callFrame.location(), async (liveLocation) => {\n                const uiLocation = await liveLocation.uiLocation();\n                if (uiLocation &&\n                    uiLocation.uiSourceCode.canononicalScriptId() === this.uiSourceCode.canononicalScriptId()) {\n                    this.setExecutionLocation(uiLocation);\n                    this.updateMissingDebugInfoInfobar(callFrame.missingDebugInfoDetails);\n                    // We are paused and the user is specifically looking at this UISourceCode either because\n                    // this file is on top of stack, or the user explicitly selected a stack frame for this UISourceCode.\n                    this.#recordSourcesPanelDebuggedMetrics();\n                }\n                else {\n                    this.setExecutionLocation(null);\n                }\n            }, this.liveLocationPool);\n        }\n    }\n    setExecutionLocation(executionLocation) {\n        if (this.executionLocation === executionLocation || !this.editor) {\n            return;\n        }\n        this.executionLocation = executionLocation;\n        if (executionLocation) {\n            const editorLocation = this.transformer.uiLocationToEditorLocation(executionLocation.lineNumber, executionLocation.columnNumber);\n            const editorPosition = TextEditor.Position.toOffset(this.editor.state.doc, editorLocation);\n            this.editor.dispatch({\n                effects: [\n                    TextEditor.ExecutionPositionHighlighter.setHighlightedPosition.of(editorPosition),\n                ],\n            });\n            void this.updateValueDecorations();\n            if (this.controlDown) {\n                void this.showContinueToLocations();\n            }\n        }\n        else {\n            this.editor.dispatch({\n                effects: [\n                    continueToMarkers.update.of(CodeMirror.Decoration.none),\n                    valueDecorations.update.of(CodeMirror.Decoration.none),\n                    TextEditor.ExecutionPositionHighlighter.clearHighlightedPosition.of(),\n                ],\n            });\n        }\n    }\n    dispose() {\n        this.hideIgnoreListInfobar();\n        if (this.sourceMapInfobar) {\n            this.sourceMapInfobar.dispose();\n        }\n        for (const script of this.scriptFileForDebuggerModel.values()) {\n            script.removeEventListener(\"DidMergeToVM\" /* Bindings.ResourceScriptMapping.ResourceScriptFile.Events.DID_MERGE_TO_VM */, this.didMergeToVM, this);\n            script.removeEventListener(\"DidDivergeFromVM\" /* Bindings.ResourceScriptMapping.ResourceScriptFile.Events.DID_DIVERGE_FROM_VM */, this.didDivergeFromVM, this);\n        }\n        this.scriptFileForDebuggerModel.clear();\n        this.popoverHelper?.hidePopover();\n        this.popoverHelper?.dispose();\n        this.setExecutionLocation(null);\n        this.breakpointManager.removeEventListener(Breakpoints.BreakpointManager.Events.BreakpointAdded, this.breakpointChange, this);\n        this.breakpointManager.removeEventListener(Breakpoints.BreakpointManager.Events.BreakpointRemoved, this.breakpointChange, this);\n        this.uiSourceCode.removeEventListener(Workspace.UISourceCode.Events.WorkingCopyChanged, this.workingCopyChanged, this);\n        this.uiSourceCode.removeEventListener(Workspace.UISourceCode.Events.WorkingCopyCommitted, this.workingCopyCommitted, this);\n        Bindings.IgnoreListManager.IgnoreListManager.instance().removeChangeListener(this.ignoreListCallback);\n        debuggerPluginForUISourceCode.delete(this.uiSourceCode);\n        super.dispose();\n        window.clearTimeout(this.refreshBreakpointsTimeout);\n        // Clear `this.editor` to signal that we are disposed. Any function from this `DebuggerPlugin` instance\n        // still running or scheduled will early return and not do any work.\n        this.editor = undefined;\n        UI.Context.Context.instance().removeFlavorChangeListener(SDK.DebuggerModel.CallFrame, this.callFrameChanged, this);\n        this.liveLocationPool.disposeAll();\n    }\n    /**\n     * Only records metrics once per DebuggerPlugin instance and must only be\n     * called once the content of the UISourceCode is available.\n     */\n    #recordSourcesPanelDebuggedMetrics() {\n        if (this.#sourcesPanelDebuggedMetricsRecorded) {\n            return;\n        }\n        this.#sourcesPanelDebuggedMetricsRecorded = true;\n        const mimeType = Common.ResourceType.ResourceType.mimeFromURL(this.uiSourceCode.url());\n        const mediaType = Common.ResourceType.ResourceType.mediaTypeForMetrics(mimeType ?? '', this.uiSourceCode.contentType().isFromSourceMap(), TextUtils.TextUtils.isMinified(this.uiSourceCode.content()), this.uiSourceCode.url().startsWith('snippet://'), this.uiSourceCode.url().startsWith('debugger://'));\n        Host.userMetrics.sourcesPanelFileDebugged(mediaType);\n    }\n}\nexport class BreakpointLocationRevealer {\n    async reveal(breakpointLocation, omitFocus) {\n        const { uiLocation } = breakpointLocation;\n        SourcesPanel.instance().showUILocation(uiLocation, omitFocus);\n        const debuggerPlugin = debuggerPluginForUISourceCode.get(uiLocation.uiSourceCode);\n        if (debuggerPlugin) {\n            debuggerPlugin.editBreakpointLocation(breakpointLocation);\n        }\n        else {\n            SourceComponents.BreakpointsView.BreakpointsSidebarController.instance().breakpointEditFinished(breakpointLocation.breakpoint, false);\n        }\n    }\n}\n// Infobar panel state, used to show additional panels below the editor.\nconst addInfobar = CodeMirror.StateEffect.define();\nconst removeInfobar = CodeMirror.StateEffect.define();\nconst infobarState = CodeMirror.StateField.define({\n    create() {\n        return [];\n    },\n    update(current, tr) {\n        for (const effect of tr.effects) {\n            if (effect.is(addInfobar)) {\n                current = current.concat(effect.value);\n            }\n            else if (effect.is(removeInfobar)) {\n                current = current.filter(b => b !== effect.value);\n            }\n        }\n        return current;\n    },\n    provide: (field) => CodeMirror.showPanel.computeN([field], (state) => state.field(field).map((bar) => () => ({ dom: bar.element }))),\n});\n// Enumerate non-breakable lines (lines without a known corresponding\n// position in the UISource).\nasync function computeNonBreakableLines(state, transformer, sourceCode) {\n    const debuggerWorkspaceBinding = Bindings.DebuggerWorkspaceBinding.DebuggerWorkspaceBinding.instance();\n    const mappedLines = await debuggerWorkspaceBinding.getMappedLines(sourceCode);\n    if (!mappedLines) {\n        return [];\n    }\n    const linePositions = [];\n    for (let i = 0; i < state.doc.lines; i++) {\n        const { lineNumber } = transformer.editorLocationToUILocation(i, 0);\n        if (!mappedLines.has(lineNumber)) {\n            linePositions.push(state.doc.line(i + 1).from);\n        }\n    }\n    return linePositions;\n}\nconst setBreakpointDeco = CodeMirror.StateEffect.define();\nconst muteBreakpoints = CodeMirror.StateEffect.define();\nfunction muteGutterMarkers(markers, doc) {\n    const newMarkers = [];\n    markers.between(0, doc.length, (from, _to, marker) => {\n        let className = marker.elementClass;\n        if (!/cm-breakpoint-disabled/.test(className)) {\n            className += ' cm-breakpoint-disabled';\n        }\n        newMarkers.push(new BreakpointGutterMarker(className, from).range(from));\n    });\n    return CodeMirror.RangeSet.of(newMarkers, false);\n}\n// Holds the inline breakpoint marker decorations and the gutter\n// markers for lines with breakpoints. When the set of active markers\n// changes in non-muted state (the editor content matches the original\n// file), it is recomputed and updated with `setBreakpointDeco`. When\n// the editor content goes out of sync with the original file, the\n// `muteBreakpoints` effect hides the inline markers and makes sure\n// all gutter markers are displayed as disabled.\nconst breakpointMarkers = CodeMirror.StateField.define({\n    create() {\n        return { content: CodeMirror.RangeSet.empty, gutter: CodeMirror.RangeSet.empty };\n    },\n    update(deco, tr) {\n        if (!tr.changes.empty) {\n            deco = { content: deco.content.map(tr.changes), gutter: deco.gutter.map(tr.changes) };\n        }\n        for (const effect of tr.effects) {\n            if (effect.is(setBreakpointDeco)) {\n                deco = effect.value;\n            }\n            else if (effect.is(muteBreakpoints)) {\n                deco = { content: CodeMirror.RangeSet.empty, gutter: muteGutterMarkers(deco.gutter, tr.state.doc) };\n            }\n        }\n        return deco;\n    },\n    provide: field => [CodeMirror.EditorView.decorations.from(field, deco => deco.content),\n        CodeMirror.lineNumberMarkers.from(field, deco => deco.gutter)],\n});\nclass BreakpointInlineMarker extends CodeMirror.WidgetType {\n    breakpoint;\n    parent;\n    class;\n    constructor(breakpoint, parent) {\n        super();\n        this.breakpoint = breakpoint;\n        this.parent = parent;\n        // Eagerly compute DOM class so that the widget is recreated when it changes.\n        this.class = 'cm-inlineBreakpoint';\n        if (breakpoint?.isLogpoint()) {\n            this.class += ' cm-inlineBreakpoint-logpoint';\n        }\n        else if (breakpoint?.condition()) {\n            this.class += ' cm-inlineBreakpoint-conditional';\n        }\n        if (!breakpoint?.enabled()) {\n            this.class += ' cm-inlineBreakpoint-disabled';\n        }\n    }\n    eq(other) {\n        return other.class === this.class && other.breakpoint === this.breakpoint;\n    }\n    toDOM() {\n        const span = document.createElement('span');\n        span.className = this.class;\n        span.setAttribute('jslog', `${VisualLogging.breakpointMarker().track({ click: true })}`);\n        span.addEventListener('click', (event) => {\n            this.parent.onInlineBreakpointMarkerClick(event, this.breakpoint);\n            event.consume();\n        });\n        span.addEventListener('contextmenu', (event) => {\n            this.parent.onInlineBreakpointMarkerContextMenu(event, this.breakpoint);\n            event.consume();\n        });\n        return span;\n    }\n    ignoreEvent() {\n        return true;\n    }\n}\nclass BreakpointGutterMarker extends CodeMirror.GutterMarker {\n    elementClass;\n    #position;\n    constructor(elementClass, position) {\n        super();\n        this.elementClass = elementClass;\n        this.#position = position;\n    }\n    eq(other) {\n        return other.elementClass === this.elementClass;\n    }\n    toDOM(view) {\n        const div = document.createElement('div'); // We want {display: block} so it uses all of the space.\n        div.setAttribute('jslog', `${VisualLogging.breakpointMarker().track({ click: true })}`);\n        const line = view.state.doc.lineAt(this.#position).number;\n        const formatNumber = view.state.facet(SourceFrame.SourceFrame.LINE_NUMBER_FORMATTER);\n        div.textContent = formatNumber(line, view.state);\n        return div;\n    }\n}\nfunction mostSpecificBreakpoint(a, b) {\n    if (a.enabled() !== b.enabled()) {\n        return a.enabled() ? -1 : 1;\n    }\n    if (a.bound() !== b.bound()) {\n        return a.bound() ? -1 : 1;\n    }\n    if (Boolean(a.condition()) !== Boolean(b.condition())) {\n        return Boolean(a.condition()) ? -1 : 1;\n    }\n    return 0;\n}\n// Generic helper for creating pairs of editor state fields and\n// effects to model imperatively updated decorations.\nfunction defineStatefulDecoration() {\n    const update = CodeMirror.StateEffect.define();\n    const field = CodeMirror.StateField.define({\n        create() {\n            return CodeMirror.Decoration.none;\n        },\n        update(deco, tr) {\n            return tr.effects.reduce((deco, effect) => effect.is(update) ? effect.value : deco, deco.map(tr.changes));\n        },\n        provide: field => CodeMirror.EditorView.decorations.from(field),\n    });\n    return { update, field };\n}\n// Continue-to markers\nconst continueToMark = CodeMirror.Decoration.mark({ class: 'cm-continueToLocation' });\nconst asyncContinueToMark = CodeMirror.Decoration.mark({ class: 'cm-continueToLocation cm-continueToLocation-async' });\nconst continueToMarkers = defineStatefulDecoration();\nconst noMarkers = {}, hasContinueMarkers = {\n    class: 'cm-hasContinueMarkers',\n};\n// Add a class to the content element when there are active\n// continue-to markers. This hides the background on the current\n// execution line.\nconst markIfContinueTo = CodeMirror.EditorView.contentAttributes.compute([continueToMarkers.field], state => {\n    return state.field(continueToMarkers.field).size ? hasContinueMarkers : noMarkers;\n});\n// Variable value decorations\nclass ValueDecoration extends CodeMirror.WidgetType {\n    pairs;\n    constructor(pairs) {\n        super();\n        this.pairs = pairs;\n    }\n    eq(other) {\n        return this.pairs.length === other.pairs.length &&\n            this.pairs.every((p, i) => p[0] === other.pairs[i][0] && p[1] === other.pairs[i][1]);\n    }\n    toDOM() {\n        const formatter = new ObjectUI.RemoteObjectPreviewFormatter.RemoteObjectPreviewFormatter();\n        const widget = document.createElement('div');\n        widget.classList.add('cm-variableValues');\n        let first = true;\n        for (const [name, value] of this.pairs) {\n            if (first) {\n                first = false;\n            }\n            else {\n                UI.UIUtils.createTextChild(widget, ', ');\n            }\n            const nameValuePair = widget.createChild('span');\n            UI.UIUtils.createTextChild(nameValuePair, name + ' = ');\n            const propertyCount = value.preview ? value.preview.properties.length : 0;\n            const entryCount = value.preview && value.preview.entries ? value.preview.entries.length : 0;\n            if (value.preview && propertyCount + entryCount < 10) {\n                formatter.appendObjectPreview(nameValuePair, value.preview, false /* isEntry */);\n            }\n            else {\n                const propertyValue = ObjectUI.ObjectPropertiesSection.ObjectPropertiesSection.createPropertyValue(value, /* wasThrown */ false, /* showPreview */ false);\n                nameValuePair.appendChild(propertyValue.element);\n            }\n        }\n        return widget;\n    }\n}\nconst valueDecorations = defineStatefulDecoration();\nfunction isVariableIdentifier(tokenType) {\n    return tokenType === 'VariableName' || tokenType === 'VariableDefinition';\n}\nfunction isVariableDefinition(tokenType) {\n    return tokenType === 'VariableDefinition';\n}\nfunction isLetConstDefinition(tokenType) {\n    return tokenType === 'let' || tokenType === 'const';\n}\nfunction isScopeNode(tokenType) {\n    return tokenType === 'Block' || tokenType === 'ForSpec';\n}\nclass SiblingScopeVariables {\n    blockList = new Set();\n    variables = [];\n}\nexport function getVariableNamesByLine(editorState, fromPos, toPos, currentPos) {\n    const fromLine = editorState.doc.lineAt(fromPos);\n    fromPos = Math.min(fromLine.to, fromPos);\n    toPos = editorState.doc.lineAt(toPos).from;\n    const tree = CodeMirror.syntaxTree(editorState);\n    // Sibling scope is a scope that does not contain the current position.\n    // We will exclude variables that are defined (and used in those scopes (since we are currently outside of their lifetime).\n    function isSiblingScopeNode(node) {\n        return isScopeNode(node.name) && (node.to < currentPos || currentPos < node.from);\n    }\n    const names = [];\n    let curLine = fromLine;\n    const siblingStack = [];\n    let currentLetConstDefinition = null;\n    function currentNames() {\n        return siblingStack.length ? siblingStack[siblingStack.length - 1].variables : names;\n    }\n    tree.iterate({\n        from: fromPos,\n        to: toPos,\n        enter: node => {\n            if (node.from < fromPos) {\n                return;\n            }\n            if (isLetConstDefinition(node.name)) {\n                currentLetConstDefinition = node.node.nextSibling;\n                return;\n            }\n            if (isSiblingScopeNode(node)) {\n                siblingStack.push(new SiblingScopeVariables());\n                return;\n            }\n            const varName = isVariableIdentifier(node.name) && editorState.sliceDoc(node.from, node.to);\n            if (!varName) {\n                return;\n            }\n            if (currentLetConstDefinition && isVariableDefinition(node.name) && siblingStack.length > 0) {\n                siblingStack[siblingStack.length - 1].blockList.add(varName);\n                return;\n            }\n            if (node.from > curLine.to) {\n                curLine = editorState.doc.lineAt(node.from);\n            }\n            currentNames().push({ line: curLine.number - 1, from: node.from, id: varName });\n        },\n        leave: node => {\n            if (currentLetConstDefinition === node.node) {\n                currentLetConstDefinition = null;\n            }\n            else if (isSiblingScopeNode(node)) {\n                const topScope = siblingStack.pop();\n                const nameList = currentNames();\n                for (const token of topScope?.variables ?? []) {\n                    if (!topScope?.blockList.has(token.id)) {\n                        nameList.push(token);\n                    }\n                }\n            }\n        },\n    });\n    return names;\n}\nexport async function computeScopeMappings(callFrame, rawLocationToEditorOffset) {\n    const scopeMappings = [];\n    for (const scope of callFrame.scopeChain()) {\n        const scopeStart = await rawLocationToEditorOffset(scope.range()?.start ?? null);\n        if (!scopeStart) {\n            break;\n        }\n        const scopeEnd = await rawLocationToEditorOffset(scope.range()?.end ?? null);\n        if (!scopeEnd) {\n            break;\n        }\n        const { properties } = await SourceMapScopes.NamesResolver.resolveScopeInObject(scope).getAllProperties(false, false);\n        if (!properties || properties.length > MAX_PROPERTIES_IN_SCOPE_FOR_VALUE_DECORATIONS) {\n            break;\n        }\n        const variableMap = new Map(properties.map(p => [p.name, p.value]));\n        scopeMappings.push({ scopeStart, scopeEnd, variableMap });\n        // Let us only get mappings for block scopes until we see a surrounding function (local) scope.\n        if (scope.type() === \"local\" /* Protocol.Debugger.ScopeType.Local */) {\n            break;\n        }\n    }\n    return scopeMappings;\n}\nexport function getVariableValuesByLine(scopeMappings, variableNames) {\n    const namesPerLine = new Map();\n    for (const { line, from, id } of variableNames) {\n        const varValue = findVariableInChain(id, from, scopeMappings);\n        if (!varValue) {\n            continue;\n        }\n        let names = namesPerLine.get(line);\n        if (!names) {\n            names = new Map();\n            namesPerLine.set(line, names);\n        }\n        names.set(id, varValue);\n    }\n    return namesPerLine;\n    function findVariableInChain(name, pos, scopeMappings) {\n        for (const scope of scopeMappings) {\n            if (pos < scope.scopeStart || pos >= scope.scopeEnd) {\n                continue;\n            }\n            const value = scope.variableMap.get(name);\n            if (value) {\n                return value;\n            }\n        }\n        return null;\n    }\n}\n// Pop-over\nexport function computePopoverHighlightRange(state, mimeType, cursorPos) {\n    const { main } = state.selection;\n    if (!main.empty) {\n        if (cursorPos < main.from || main.to < cursorPos) {\n            return null;\n        }\n        // If the user goes through the trouble of manually selecting an expression, we'll allow side-effects.\n        return { from: main.from, to: main.to, containsSideEffects: false };\n    }\n    const tree = CodeMirror.ensureSyntaxTree(state, cursorPos, 5 * 1000);\n    if (!tree) {\n        return null;\n    }\n    const node = tree.resolveInner(cursorPos, 1);\n    // Only do something if the cursor is over a leaf node.\n    if (node.firstChild) {\n        return null;\n    }\n    switch (mimeType) {\n        case 'application/wasm': {\n            if (node.name !== 'Identifier') {\n                return null;\n            }\n            // For $label identifiers we can't show a meaningful preview (https://crbug.com/1155548),\n            // so we suppress them for now. Label identifiers can only appear as operands to control\n            // instructions[1].\n            //\n            // [1]: https://webassembly.github.io/spec/core/text/instructions.html#control-instructions\n            const controlInstructions = ['block', 'loop', 'if', 'else', 'end', 'br', 'br_if', 'br_table'];\n            for (let parent = node.parent; parent; parent = parent.parent) {\n                if (parent.name === 'App') {\n                    const firstChild = parent.firstChild;\n                    const opName = firstChild?.name === 'Keyword' && state.sliceDoc(firstChild.from, firstChild.to);\n                    if (opName && controlInstructions.includes(opName)) {\n                        return null;\n                    }\n                }\n            }\n            return { from: node.from, to: node.to, containsSideEffects: false };\n        }\n        case 'text/html':\n        case 'text/javascript':\n        case 'text/jsx':\n        case 'text/typescript':\n        case 'text/typescript-jsx': {\n            let current = node;\n            while (current && current.name !== 'this' && current.name !== 'VariableDefinition' &&\n                current.name !== 'VariableName' && current.name !== 'MemberExpression' &&\n                !(current.name === 'PropertyName' && current.parent?.name === 'PatternProperty' &&\n                    current.nextSibling?.name !== ':') &&\n                !(current.name === 'PropertyDefinition' && current.parent?.name === 'Property' &&\n                    current.nextSibling?.name !== ':')) {\n                current = current.parent;\n            }\n            if (!current) {\n                return null;\n            }\n            return { from: current.from, to: current.to, containsSideEffects: containsSideEffects(state.doc, current) };\n        }\n        default: {\n            // In other languages, just assume a token consisting entirely\n            // of identifier-like characters is an identifier.\n            if (node.to - node.from > 50 || /[^\\w_\\-$]/.test(state.sliceDoc(node.from, node.to))) {\n                return null;\n            }\n            return { from: node.from, to: node.to, containsSideEffects: false };\n        }\n    }\n}\nfunction containsSideEffects(doc, root) {\n    let containsSideEffects = false;\n    root.toTree().iterate({\n        enter(node) {\n            switch (node.name) {\n                case 'AssignmentExpression':\n                case 'CallExpression': {\n                    containsSideEffects = true;\n                    return false;\n                }\n                case 'ArithOp': {\n                    const op = doc.sliceString(root.from + node.from, root.from + node.to);\n                    if (op === '++' || op === '--') {\n                        containsSideEffects = true;\n                        return false;\n                    }\n                    break;\n                }\n            }\n            return true;\n        },\n    });\n    return containsSideEffects;\n}\n// Evaluated expression mark for pop-over\nconst evalExpressionMark = CodeMirror.Decoration.mark({ class: 'cm-evaluatedExpression' });\nconst evalExpression = defineStatefulDecoration();\n// Styling for plugin-local elements\nconst theme = CodeMirror.EditorView.baseTheme({\n    '.cm-gutters .cm-gutter.cm-lineNumbers .cm-gutterElement': {\n        '&:hover, &.cm-breakpoint': {\n            borderStyle: 'solid',\n            borderWidth: '1px 4px 1px 1px',\n            marginRight: '-4px',\n            paddingLeft: '8px',\n            // Make sure text doesn't move down due to the border above it.\n            lineHeight: 'calc(1.2em - 2px)',\n            position: 'relative',\n        },\n        '&:hover': {\n            WebkitBorderImage: lineNumberArrow('#ebeced', '#ebeced'),\n        },\n        '&.cm-breakpoint': {\n            color: '#fff',\n            WebkitBorderImage: lineNumberArrow('#4285f4', '#1a73e8'),\n        },\n        '&.cm-breakpoint-conditional': {\n            WebkitBorderImage: lineNumberArrow('#f29900', '#e37400'),\n            '&::before': {\n                content: '\"?\"',\n                position: 'absolute',\n                top: 0,\n                left: '1px',\n            },\n        },\n        '&.cm-breakpoint-logpoint': {\n            WebkitBorderImage: lineNumberArrow('#f439a0', '#d01884'),\n            '&::before': {\n                content: '\"‥\"',\n                position: 'absolute',\n                top: '-3px',\n                left: '1px',\n            },\n        },\n    },\n    '&dark .cm-gutters .cm-gutter.cm-lineNumbers .cm-gutterElement': {\n        '&:hover': {\n            WebkitBorderImage: lineNumberArrow('#3c4043', '#3c4043'),\n        },\n        '&.cm-breakpoint': {\n            WebkitBorderImage: lineNumberArrow('#5186EC', '#1a73e8'),\n        },\n        '&.cm-breakpoint-conditional': {\n            WebkitBorderImage: lineNumberArrow('#e9a33a', '#e37400'),\n        },\n        '&.cm-breakpoint-logpoint': {\n            WebkitBorderImage: lineNumberArrow('#E54D9B', '#d01884'),\n        },\n    },\n    ':host-context(.breakpoints-deactivated) & .cm-gutters .cm-gutter.cm-lineNumbers .cm-gutterElement.cm-breakpoint, .cm-gutters .cm-gutter.cm-lineNumbers .cm-gutterElement.cm-breakpoint-disabled': {\n        color: '#1a73e8',\n        WebkitBorderImage: lineNumberArrow('#d9e7fd', '#1a73e8'),\n        '&.cm-breakpoint-conditional': {\n            color: '#e37400',\n            WebkitBorderImage: lineNumberArrow('#fcebcc', '#e37400'),\n        },\n        '&.cm-breakpoint-logpoint': {\n            color: '#d01884',\n            WebkitBorderImage: lineNumberArrow('#fdd7ec', '#f439a0'),\n        },\n    },\n    ':host-context(.breakpoints-deactivated) &dark .cm-gutters .cm-gutter.cm-lineNumbers .cm-gutterElement.cm-breakpoint, &dark .cm-gutters .cm-gutter.cm-lineNumbers .cm-gutterElement.cm-breakpoint-disabled': {\n        WebkitBorderImage: lineNumberArrow('#2a384e', '#1a73e8'),\n        '&.cm-breakpoint-conditional': {\n            WebkitBorderImage: lineNumberArrow('#4d3c1d', '#e37400'),\n        },\n        '&.cm-breakpoint-logpoint': {\n            WebkitBorderImage: lineNumberArrow('#4e283d', '#f439a0'),\n        },\n    },\n    '.cm-inlineBreakpoint': {\n        cursor: 'pointer',\n        position: 'relative',\n        top: '1px',\n        content: inlineBreakpointArrow('#4285F4', '#1A73E8'),\n        height: '10px',\n        '&.cm-inlineBreakpoint-conditional': {\n            content: inlineConditionalBreakpointArrow('#F29900', '#E37400'),\n        },\n        '&.cm-inlineBreakpoint-logpoint': {\n            content: inlineLogpointArrow('#F439A0', '#D01884'),\n        },\n    },\n    '&dark .cm-inlineBreakpoint': {\n        content: inlineBreakpointArrow('#5186EC', '#1A73E8'),\n        '&.cm-inlineBreakpoint-conditional': {\n            content: inlineConditionalBreakpointArrow('#e9a33a', '#E37400'),\n        },\n        '&.cm-inlineBreakpoint-logpoint': {\n            content: inlineLogpointArrow('#E54D9B', '#D01884'),\n        },\n    },\n    ':host-context(.breakpoints-deactivated) & .cm-inlineBreakpoint, .cm-inlineBreakpoint-disabled': {\n        content: inlineBreakpointArrow('#4285F4', '#1A73E8', '0.2'),\n        '&.cm-inlineBreakpoint-conditional': {\n            content: inlineConditionalBreakpointArrow('#F9AB00', '#E37400', '0.2'),\n        },\n        '&.cm-inlineBreakpoint-logpoint': {\n            content: inlineLogpointArrow('#F439A0', '#D01884', '0.2'),\n        },\n    },\n    '.cm-executionLine': {\n        backgroundColor: 'var(--sys-color-yellow-container)',\n        outline: '1px solid var(--sys-color-yellow-outline)',\n        '.cm-hasContinueMarkers &': {\n            backgroundColor: 'transparent',\n        },\n        '&.cm-highlightedLine': {\n            animation: 'cm-fading-highlight-execution 2s 0s',\n        },\n        '&.cm-line::selection, &.cm-line ::selection': {\n            backgroundColor: 'var(--sys-color-tonal-container) !important',\n        },\n    },\n    '.cm-executionToken': {\n        backgroundColor: 'var(--sys-color-state-focus-select)',\n    },\n    '@keyframes cm-fading-highlight-execution': {\n        from: {\n            backgroundColor: 'var(--sys-color-tonal-container)',\n        },\n        to: {\n            backgroundColor: 'var(--sys-color-yellow-container)',\n        },\n    },\n    '.cm-continueToLocation': {\n        cursor: 'pointer',\n        backgroundColor: 'var(--color-continue-to-location)',\n        '&:hover': {\n            backgroundColor: 'var(--color-continue-to-location-hover)',\n            border: '1px solid var(--color-continue-to-location-hover-border)',\n            margin: '0 -1px',\n        },\n        '&.cm-continueToLocation-async': {\n            backgroundColor: 'var(--color-continue-to-location-async)',\n            '&:hover': {\n                backgroundColor: 'var(--color-continue-to-location-async-hover)',\n                border: '1px solid var(--color-continue-to-location-async-hover-border)',\n                margin: '0 -1px',\n            },\n        },\n    },\n    '.cm-evaluatedExpression': {\n        backgroundColor: 'var(--color-evaluated-expression)',\n        border: '1px solid var(--color-evaluated-expression-border)',\n        margin: '0 -1px',\n    },\n    '.cm-variableValues': {\n        display: 'inline',\n        whiteSpace: 'nowrap',\n        overflow: 'hidden',\n        textOverflow: 'ellipsis',\n        maxWidth: '1000px',\n        opacity: '80%',\n        backgroundColor: 'var(--color-variable-values)',\n        marginLeft: '10px',\n        padding: '0 5px',\n        userSelect: 'text',\n        '.cm-executionLine &': {\n            backgroundColor: 'transparent',\n            opacity: '50%',\n        },\n    },\n});\nfunction lineNumberArrow(color, outline) {\n    return `url('data:image/svg+xml,<svg height=\"11\" width=\"26\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M22.8.5l2.7 5-2.7 5H.5V.5z\" fill=\"${encodeURIComponent(color)}\" stroke=\"${encodeURIComponent(outline)}\"/></svg>') 1 3 1 1`;\n}\nfunction inlineBreakpointArrow(color, outline, opacity = '1') {\n    return `url('data:image/svg+xml,<svg width=\"11\" height=\"12\" viewBox=\"0 0 11 12\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M0.5 0.5H5.80139C6.29382 0.5 6.7549 0.741701 7.03503 1.14669L10.392 6L7.03503 10.8533C6.7549 11.2583 6.29382 11.5 5.80139 11.5H0.5V0.5Z\" fill=\"${encodeURIComponent(color)}\" stroke=\"${encodeURIComponent(outline)}\" fill-opacity=\"${encodeURIComponent(opacity)}\"/></svg>')`;\n}\nfunction inlineConditionalBreakpointArrow(color, outline, opacity = '1') {\n    return `url('data:image/svg+xml,<svg width=\"11\" height=\"12\" viewBox=\"0 0 11 12\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M0.5 0.5H5.80139C6.29382 0.5 6.75489 0.741701 7.03503 1.14669L10.392 6L7.03503 10.8533C6.75489 11.2583 6.29382 11.5 5.80138 11.5H0.5V0.5Z\" fill=\"${encodeURIComponent(color)}\" fill-opacity=\"${encodeURIComponent(opacity)}\" stroke=\"${encodeURIComponent(outline)}\"/><path d=\"M3.51074 7.75635H4.68408V9H3.51074V7.75635ZM4.68408 7.23779H3.51074V6.56104C3.51074 6.271 3.55615 6.02344 3.64697 5.81836C3.73779 5.61328 3.90039 5.39648 4.13477 5.16797L4.53027 4.77686C4.71484 4.59814 4.83936 4.4502 4.90381 4.33301C4.97119 4.21582 5.00488 4.09424 5.00488 3.96826C5.00488 3.77197 4.9375 3.62402 4.80273 3.52441C4.66797 3.4248 4.46582 3.375 4.19629 3.375C3.9502 3.375 3.69238 3.42773 3.42285 3.5332C3.15625 3.63574 2.88232 3.78955 2.60107 3.99463V2.81689C2.88818 2.65283 3.17822 2.52979 3.47119 2.44775C3.76709 2.36279 4.06299 2.32031 4.35889 2.32031C4.95068 2.32031 5.41504 2.45801 5.75195 2.7334C6.08887 3.00879 6.25732 3.38818 6.25732 3.87158C6.25732 4.09424 6.20752 4.30225 6.10791 4.49561C6.0083 4.68604 5.8208 4.91602 5.54541 5.18555L5.15869 5.56348C4.95947 5.75684 4.83203 5.91504 4.77637 6.03809C4.7207 6.16113 4.69287 6.31201 4.69287 6.49072C4.69287 6.51709 4.69141 6.54785 4.68848 6.58301C4.68848 6.61816 4.68701 6.65625 4.68408 6.69727V7.23779Z\" fill=\"white\"/></svg>')`;\n}\nfunction inlineLogpointArrow(color, outline, opacity = '1') {\n    return `url('data:image/svg+xml,<svg width=\"11\" height=\"12\" viewBox=\"0 0 11 12\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M0.5 0.5H5.80139C6.29382 0.5 6.7549 0.741701 7.03503 1.14669L10.392 6L7.03503 10.8533C6.7549 11.2583 6.29382 11.5 5.80139 11.5H0.5V0.5Z\" fill=\"${encodeURIComponent(color)}\" stroke=\"${encodeURIComponent(outline)}\" fill-opacity=\"${encodeURIComponent(opacity)}\"/><circle cx=\"3\" cy=\"6\" r=\"1\" fill=\"white\"/><circle cx=\"7\" cy=\"6\" r=\"1\" fill=\"white\"/></svg>')`;\n}\n//# sourceMappingURL=DebuggerPlugin.js.map","/*\n * Copyright (C) 2013 Google Inc. All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are\n * met:\n *\n *     * Redistributions of source code must retain the above copyright\n * notice, this list of conditions and the following disclaimer.\n *     * Redistributions in binary form must reproduce the above\n * copyright notice, this list of conditions and the following disclaimer\n * in the documentation and/or other materials provided with the\n * distribution.\n *     * Neither the name of Google Inc. nor the names of its\n * contributors may be used to endorse or promote products derived from\n * this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\nexport class FilePathScoreFunction {\n    query;\n    queryUpperCase;\n    score;\n    sequence;\n    dataUpperCase;\n    fileNameIndex;\n    constructor(query) {\n        this.query = query;\n        this.queryUpperCase = query.toUpperCase();\n        this.score = new Int32Array(20 * 100);\n        this.sequence = new Int32Array(20 * 100);\n        this.dataUpperCase = '';\n        this.fileNameIndex = 0;\n    }\n    calculateScore(data, matchIndexes) {\n        if (!data || !this.query) {\n            return 0;\n        }\n        const n = this.query.length;\n        const m = data.length;\n        if (!this.score || this.score.length < n * m) {\n            this.score = new Int32Array(n * m * 2);\n            this.sequence = new Int32Array(n * m * 2);\n        }\n        const score = this.score;\n        const sequence = this.sequence;\n        this.dataUpperCase = data.toUpperCase();\n        this.fileNameIndex = data.lastIndexOf('/');\n        for (let i = 0; i < n; ++i) {\n            for (let j = 0; j < m; ++j) {\n                const skipCharScore = j === 0 ? 0 : score[i * m + j - 1];\n                const prevCharScore = i === 0 || j === 0 ? 0 : score[(i - 1) * m + j - 1];\n                const consecutiveMatch = i === 0 || j === 0 ? 0 : sequence[(i - 1) * m + j - 1];\n                const pickCharScore = this.match(this.query, data, i, j, consecutiveMatch);\n                if (pickCharScore && prevCharScore + pickCharScore >= skipCharScore) {\n                    sequence[i * m + j] = consecutiveMatch + 1;\n                    score[i * m + j] = (prevCharScore + pickCharScore);\n                }\n                else {\n                    sequence[i * m + j] = 0;\n                    score[i * m + j] = skipCharScore;\n                }\n            }\n        }\n        if (matchIndexes) {\n            this.restoreMatchIndexes(sequence, n, m, matchIndexes);\n        }\n        const maxDataLength = 256;\n        return score[n * m - 1] * maxDataLength + (maxDataLength - data.length);\n    }\n    testWordStart(data, j) {\n        if (j === 0) {\n            return true;\n        }\n        const prevChar = data.charAt(j - 1);\n        return prevChar === '_' || prevChar === '-' || prevChar === '/' || prevChar === '.' || prevChar === ' ' ||\n            (data[j - 1] !== this.dataUpperCase[j - 1] && data[j] === this.dataUpperCase[j]);\n    }\n    restoreMatchIndexes(sequence, n, m, out) {\n        let i = n - 1, j = m - 1;\n        while (i >= 0 && j >= 0) {\n            switch (sequence[i * m + j]) {\n                case 0:\n                    --j;\n                    break;\n                default:\n                    out.push(j);\n                    --i;\n                    --j;\n                    break;\n            }\n        }\n        out.reverse();\n    }\n    singleCharScore(query, data, i, j) {\n        const isWordStart = this.testWordStart(data, j);\n        const isFileName = j > this.fileNameIndex;\n        const isPathTokenStart = j === 0 || data[j - 1] === '/';\n        const isCapsMatch = query[i] === data[j] && query[i] === this.queryUpperCase[i];\n        let score = 10;\n        if (isPathTokenStart) {\n            score += 4;\n        }\n        if (isWordStart) {\n            score += 2;\n        }\n        if (isCapsMatch) {\n            score += 6;\n        }\n        if (isFileName) {\n            score += 4;\n        }\n        // promote the case of making the whole match in the filename\n        if (j === this.fileNameIndex + 1 && i === 0) {\n            score += 5;\n        }\n        if (isFileName && isWordStart) {\n            score += 3;\n        }\n        return score;\n    }\n    sequenceCharScore(query, data, i, j, sequenceLength) {\n        const isFileName = j > this.fileNameIndex;\n        const isPathTokenStart = j === 0 || data[j - 1] === '/';\n        let score = 10;\n        if (isFileName) {\n            score += 4;\n        }\n        if (isPathTokenStart) {\n            score += 5;\n        }\n        score += sequenceLength * 4;\n        return score;\n    }\n    match(query, data, i, j, consecutiveMatch) {\n        if (this.queryUpperCase[i] !== this.dataUpperCase[j]) {\n            return 0;\n        }\n        if (!consecutiveMatch) {\n            return this.singleCharScore(query, data, i, j);\n        }\n        return this.sequenceCharScore(query, data, i, j - consecutiveMatch, consecutiveMatch);\n    }\n}\n//# sourceMappingURL=FilePathScoreFunction.js.map","// Copyright 2012 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\nimport * as i18n from '../../core/i18n/i18n.js';\nimport * as Bindings from '../../models/bindings/bindings.js';\nimport * as Persistence from '../../models/persistence/persistence.js';\nimport * as Root from '../../core/root/root.js';\nimport * as Workspace from '../../models/workspace/workspace.js';\nimport * as QuickOpen from '../../ui/legacy/components/quick_open/quick_open.js';\nimport * as UI from '../../ui/legacy/legacy.js';\nimport { FilePathScoreFunction } from './FilePathScoreFunction.js';\nconst UIStrings = {\n    /**\n     *@description Text in Filtered UISource Code List Provider of the Sources panel\n     */\n    noFilesFound: 'No files found',\n    /**\n     *@description Name of an item that is on the ignore list\n     *@example {compile.html} PH1\n     */\n    sIgnoreListed: '{PH1} (ignore listed)',\n};\nconst str_ = i18n.i18n.registerUIStrings('panels/sources/FilteredUISourceCodeListProvider.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\nexport class FilteredUISourceCodeListProvider extends QuickOpen.FilteredListWidget.Provider {\n    queryLineNumberAndColumnNumber;\n    defaultScores;\n    scorer;\n    uiSourceCodes;\n    uiSourceCodeIds;\n    query;\n    constructor(jslogContext) {\n        super(jslogContext);\n        this.queryLineNumberAndColumnNumber = '';\n        this.defaultScores = null;\n        this.scorer = new FilePathScoreFunction('');\n        this.uiSourceCodes = [];\n        this.uiSourceCodeIds = new Set();\n    }\n    projectRemoved(event) {\n        const project = event.data;\n        this.populate(project);\n        this.refresh();\n    }\n    populate(skipProject) {\n        this.uiSourceCodes = [];\n        this.uiSourceCodeIds.clear();\n        for (const project of Workspace.Workspace.WorkspaceImpl.instance().projects()) {\n            if (project !== skipProject && this.filterProject(project)) {\n                for (const uiSourceCode of project.uiSourceCodes()) {\n                    if (this.filterUISourceCode(uiSourceCode)) {\n                        this.uiSourceCodes.push(uiSourceCode);\n                        this.uiSourceCodeIds.add(uiSourceCode.canononicalScriptId());\n                    }\n                }\n            }\n        }\n    }\n    filterUISourceCode(uiSourceCode) {\n        if (this.uiSourceCodeIds.has(uiSourceCode.canononicalScriptId())) {\n            return false;\n        }\n        if (Root.Runtime.experiments.isEnabled(\"just-my-code\" /* Root.Runtime.ExperimentName.JUST_MY_CODE */) &&\n            Bindings.IgnoreListManager.IgnoreListManager.instance().isUserOrSourceMapIgnoreListedUISourceCode(uiSourceCode)) {\n            return false;\n        }\n        if (uiSourceCode.isFetchXHR()) {\n            return false;\n        }\n        const binding = Persistence.Persistence.PersistenceImpl.instance().binding(uiSourceCode);\n        return !binding || binding.fileSystem === uiSourceCode;\n    }\n    uiSourceCodeSelected(_uiSourceCode, _lineNumber, _columnNumber) {\n        // Overridden by subclasses\n    }\n    filterProject(_project) {\n        return true;\n        // Overridden by subclasses\n    }\n    itemCount() {\n        return this.uiSourceCodes.length;\n    }\n    itemContentTypeAt(itemIndex) {\n        return this.uiSourceCodes[itemIndex].contentType();\n    }\n    itemKeyAt(itemIndex) {\n        return this.uiSourceCodes[itemIndex].url();\n    }\n    setDefaultScores(defaultScores) {\n        this.defaultScores = defaultScores;\n    }\n    itemScoreAt(itemIndex, query) {\n        const uiSourceCode = this.uiSourceCodes[itemIndex];\n        const score = this.defaultScores ? (this.defaultScores.get(uiSourceCode) || 0) : 0;\n        if (!query || query.length < 2) {\n            return score;\n        }\n        if (this.query !== query) {\n            this.query = query;\n            this.scorer = new FilePathScoreFunction(query);\n        }\n        let multiplier = 10;\n        if (uiSourceCode.project().type() === Workspace.Workspace.projectTypes.FileSystem &&\n            !Persistence.Persistence.PersistenceImpl.instance().binding(uiSourceCode)) {\n            multiplier = 5;\n        }\n        let contentTypeBonus = 0;\n        if (uiSourceCode.contentType().isFromSourceMap() && !uiSourceCode.isKnownThirdParty()) {\n            contentTypeBonus = 100;\n        }\n        if (uiSourceCode.contentType().isScript()) {\n            // Bonus points for being a script if it is not ignore-listed. Note\n            // that ignore listing logic does not apply to non-scripts.\n            if (!Bindings.IgnoreListManager.IgnoreListManager.instance().isUserOrSourceMapIgnoreListedUISourceCode(uiSourceCode)) {\n                contentTypeBonus += 50;\n            }\n        }\n        const fullDisplayName = uiSourceCode.fullDisplayName();\n        return score + multiplier * (contentTypeBonus + this.scorer.calculateScore(fullDisplayName, null));\n    }\n    renderItem(itemIndex, query, titleElement, subtitleElement) {\n        query = this.rewriteQuery(query);\n        const uiSourceCode = this.uiSourceCodes[itemIndex];\n        const fullDisplayName = uiSourceCode.fullDisplayName();\n        const indexes = [];\n        new FilePathScoreFunction(query).calculateScore(fullDisplayName, indexes);\n        const fileNameIndex = fullDisplayName.lastIndexOf('/');\n        const isIgnoreListed = Bindings.IgnoreListManager.IgnoreListManager.instance().isUserOrSourceMapIgnoreListedUISourceCode(uiSourceCode);\n        let tooltipText = fullDisplayName;\n        if (isIgnoreListed) {\n            titleElement.parentElement?.classList.add('is-ignore-listed');\n            tooltipText = i18nString(UIStrings.sIgnoreListed, { PH1: tooltipText });\n        }\n        titleElement.textContent = uiSourceCode.displayName() + (this.queryLineNumberAndColumnNumber || '');\n        this.renderSubtitleElement(subtitleElement, fullDisplayName.substring(0, fileNameIndex + 1));\n        UI.Tooltip.Tooltip.install(subtitleElement, tooltipText);\n        const ranges = [];\n        for (let i = 0; i < indexes.length; ++i) {\n            ranges.push({ offset: indexes[i], length: 1 });\n        }\n        if (indexes[0] > fileNameIndex) {\n            for (let i = 0; i < ranges.length; ++i) {\n                ranges[i].offset -= fileNameIndex + 1;\n            }\n            UI.UIUtils.highlightRangesWithStyleClass(titleElement, ranges, 'highlight');\n        }\n        else {\n            UI.UIUtils.highlightRangesWithStyleClass(subtitleElement, ranges, 'highlight');\n        }\n    }\n    renderSubtitleElement(element, text) {\n        element.removeChildren();\n        let splitPosition = text.lastIndexOf('/');\n        const maxTextLength = 43;\n        if (text.length > maxTextLength) {\n            splitPosition = text.length - maxTextLength;\n        }\n        const first = element.createChild('div', 'first-part');\n        first.textContent = text.substring(0, splitPosition);\n        const second = element.createChild('div', 'second-part');\n        second.textContent = text.substring(splitPosition);\n        UI.Tooltip.Tooltip.install(element, text);\n    }\n    selectItem(itemIndex, promptValue) {\n        const parsedExpression = promptValue.trim().match(/^([^:]*)(:\\d+)?(:\\d+)?$/);\n        if (!parsedExpression) {\n            return;\n        }\n        let lineNumber;\n        let columnNumber;\n        if (parsedExpression[2]) {\n            lineNumber = parseInt(parsedExpression[2].substr(1), 10) - 1;\n        }\n        if (parsedExpression[3]) {\n            columnNumber = parseInt(parsedExpression[3].substr(1), 10) - 1;\n        }\n        const uiSourceCode = itemIndex !== null ? this.uiSourceCodes[itemIndex] : null;\n        this.uiSourceCodeSelected(uiSourceCode, lineNumber, columnNumber);\n    }\n    rewriteQuery(query) {\n        query = query ? query.trim() : '';\n        if (!query || query === ':') {\n            return '';\n        }\n        const lineNumberMatch = query.match(/^([^:]+)((?::[^:]*){0,2})$/);\n        this.queryLineNumberAndColumnNumber = lineNumberMatch ? lineNumberMatch[2] : '';\n        return lineNumberMatch ? lineNumberMatch[1] : query;\n    }\n    uiSourceCodeAdded(event) {\n        const uiSourceCode = event.data;\n        if (!this.filterUISourceCode(uiSourceCode) || !this.filterProject(uiSourceCode.project())) {\n            return;\n        }\n        this.uiSourceCodes.push(uiSourceCode);\n        this.uiSourceCodeIds.add(uiSourceCode.canononicalScriptId());\n        this.refresh();\n    }\n    notFoundText() {\n        return i18nString(UIStrings.noFilesFound);\n    }\n    attach() {\n        Workspace.Workspace.WorkspaceImpl.instance().addEventListener(Workspace.Workspace.Events.UISourceCodeAdded, this.uiSourceCodeAdded, this);\n        Workspace.Workspace.WorkspaceImpl.instance().addEventListener(Workspace.Workspace.Events.ProjectRemoved, this.projectRemoved, this);\n        this.populate();\n    }\n    detach() {\n        Workspace.Workspace.WorkspaceImpl.instance().removeEventListener(Workspace.Workspace.Events.UISourceCodeAdded, this.uiSourceCodeAdded, this);\n        Workspace.Workspace.WorkspaceImpl.instance().removeEventListener(Workspace.Workspace.Events.ProjectRemoved, this.projectRemoved, this);\n        this.queryLineNumberAndColumnNumber = '';\n        this.defaultScores = null;\n    }\n}\n//# sourceMappingURL=FilteredUISourceCodeListProvider.js.map","// Copyright 2016 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\nimport * as i18n from '../../core/i18n/i18n.js';\nimport * as QuickOpen from '../../ui/legacy/components/quick_open/quick_open.js';\nimport * as UI from '../../ui/legacy/legacy.js';\nimport { SourcesView } from './SourcesView.js';\nconst UIStrings = {\n    /**\n     *@description Text in Go To Line Quick Open of the Sources panel\n     */\n    noFileSelected: 'No file selected.',\n    /**\n     *@description Text to show no results have been found\n     */\n    noResultsFound: 'No results found',\n    /**\n     *@description Text in Go To Line Quick Open of the Sources panel\n     */\n    typeANumberToGoToThatLine: 'Type a number to go to that line.',\n    /**\n     *@description Text in Go To Line Quick Open of the Sources panel\n     *@example {abc} PH1\n     *@example {000} PH2\n     *@example {bbb} PH3\n     */\n    currentPositionXsTypeAnOffset: 'Current position: 0x{PH1}. Type an offset between 0x{PH2} and 0x{PH3} to navigate to.',\n    /**\n     *@description Text in the GoToLine dialog of the Sources pane that describes the current line number, file line number range, and use of the GoToLine dialog\n     *@example {1} PH1\n     *@example {100} PH2\n     */\n    currentLineSTypeALineNumber: 'Current line: {PH1}. Type a line number between 1 and {PH2} to navigate to.',\n    /**\n     *@description Text in Go To Line Quick Open of the Sources panel\n     *@example {abc} PH1\n     */\n    goToOffsetXs: 'Go to offset 0x{PH1}.',\n    /**\n     *@description Text in Go To Line Quick Open of the Sources panel\n     *@example {2} PH1\n     *@example {2} PH2\n     */\n    goToLineSAndColumnS: 'Go to line {PH1} and column {PH2}.',\n    /**\n     *@description Text in Go To Line Quick Open of the Sources panel\n     *@example {2} PH1\n     */\n    goToLineS: 'Go to line {PH1}.',\n};\nconst str_ = i18n.i18n.registerUIStrings('panels/sources/GoToLineQuickOpen.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\nexport class GoToLineQuickOpen extends QuickOpen.FilteredListWidget.Provider {\n    #goToLineStrings = [];\n    constructor() {\n        super('source-line');\n    }\n    selectItem(_itemIndex, promptValue) {\n        const sourceFrame = this.currentSourceFrame();\n        if (!sourceFrame) {\n            return;\n        }\n        const position = this.parsePosition(promptValue);\n        if (!position) {\n            return;\n        }\n        sourceFrame.revealPosition({ lineNumber: position.line - 1, columnNumber: position.column - 1 });\n    }\n    itemCount() {\n        return this.#goToLineStrings.length;\n    }\n    renderItem(itemIndex, _query, titleElement, _subtitleElement) {\n        UI.UIUtils.createTextChild(titleElement, this.#goToLineStrings[itemIndex]);\n    }\n    rewriteQuery(_query) {\n        // For Go to Line Quick Open, we don't need to filter any item, set query to empty string, so the filter regex matching will be skipped\n        return '';\n    }\n    queryChanged(query) {\n        this.#goToLineStrings = [];\n        const position = this.parsePosition(query);\n        const sourceFrame = this.currentSourceFrame();\n        if (!position) {\n            if (!sourceFrame) {\n                this.#goToLineStrings.push(i18nString(UIStrings.typeANumberToGoToThatLine));\n                return;\n            }\n            const editorState = sourceFrame.textEditor.state;\n            const disassembly = sourceFrame.wasmDisassembly;\n            const currentLineNumber = sourceFrame.editorLocationToUILocation(editorState.doc.lineAt(editorState.selection.main.head).number - 1)\n                .lineNumber;\n            if (disassembly) {\n                const lastBytecodeOffset = disassembly.lineNumberToBytecodeOffset(disassembly.lineNumbers - 1);\n                const bytecodeOffsetDigits = lastBytecodeOffset.toString(16).length;\n                const currentPosition = disassembly.lineNumberToBytecodeOffset(currentLineNumber);\n                this.#goToLineStrings.push(i18nString(UIStrings.currentPositionXsTypeAnOffset, {\n                    PH1: currentPosition.toString(16).padStart(bytecodeOffsetDigits, '0'),\n                    PH2: '0'.padStart(bytecodeOffsetDigits, '0'),\n                    PH3: lastBytecodeOffset.toString(16),\n                }));\n                return;\n            }\n            const linesCount = sourceFrame.editorLocationToUILocation(editorState.doc.lines - 1).lineNumber + 1;\n            this.#goToLineStrings.push(i18nString(UIStrings.currentLineSTypeALineNumber, { PH1: currentLineNumber + 1, PH2: linesCount }));\n            return;\n        }\n        if (sourceFrame && sourceFrame.wasmDisassembly) {\n            this.#goToLineStrings.push(i18nString(UIStrings.goToOffsetXs, { PH1: (position.column - 1).toString(16) }));\n            return;\n        }\n        if (position.column && position.column > 1) {\n            this.#goToLineStrings.push(i18nString(UIStrings.goToLineSAndColumnS, { PH1: position.line, PH2: position.column }));\n            return;\n        }\n        if (sourceFrame && position.line > sourceFrame.textEditor.state.doc.lines) {\n            return;\n        }\n        this.#goToLineStrings.push(i18nString(UIStrings.goToLineS, { PH1: position.line }));\n    }\n    notFoundText(_query) {\n        if (!this.currentSourceFrame()) {\n            return i18nString(UIStrings.noFileSelected);\n        }\n        return i18nString(UIStrings.noResultsFound);\n    }\n    parsePosition(query) {\n        const sourceFrame = this.currentSourceFrame();\n        if (sourceFrame && sourceFrame.wasmDisassembly) {\n            const parts = query.match(/0x([0-9a-fA-F]+)/);\n            if (!parts || !parts[0] || parts[0].length !== query.length) {\n                return null;\n            }\n            const column = parseInt(parts[0], 16) + 1;\n            return { line: 0, column };\n        }\n        const parts = query.match(/([0-9]+)(\\:[0-9]*)?/);\n        if (!parts || !parts[0] || parts[0].length !== query.length) {\n            return null;\n        }\n        const line = parseInt(parts[1], 10);\n        let column = 0;\n        if (parts[2]) {\n            column = parseInt(parts[2].substring(1), 10);\n        }\n        return { line: Math.max(line | 0, 1), column: Math.max(column | 0, 1) };\n    }\n    currentSourceFrame() {\n        const sourcesView = UI.Context.Context.instance().flavor(SourcesView);\n        if (!sourcesView) {\n            return null;\n        }\n        return sourcesView.currentSourceFrame();\n    }\n}\n//# sourceMappingURL=GoToLineQuickOpen.js.map","// Copyright 2014 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\nimport * as Common from '../../core/common/common.js';\nimport * as i18n from '../../core/i18n/i18n.js';\nimport * as Formatter from '../../models/formatter/formatter.js';\nimport * as Persistence from '../../models/persistence/persistence.js';\nimport * as Workspace from '../../models/workspace/workspace.js';\nimport * as UI from '../../ui/legacy/legacy.js';\nimport { registerEditorAction, } from './SourcesView.js';\nconst UIStrings = {\n    /**\n     *@description Title of the format button in the Sources panel\n     *@example {file name} PH1\n     */\n    formatS: 'Format {PH1}',\n    /**\n     *@description Tooltip text that appears when hovering over the largeicon pretty print button in the Inplace Formatter Editor Action of the Sources panel\n     */\n    format: 'Format',\n};\nconst str_ = i18n.i18n.registerUIStrings('panels/sources/InplaceFormatterEditorAction.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\nlet inplaceFormatterEditorActionInstance;\nexport class InplaceFormatterEditorAction {\n    button;\n    sourcesView;\n    uiSourceCodeTitleChangedEvent = null;\n    constructor() {\n    }\n    static instance(opts = { forceNew: null }) {\n        const { forceNew } = opts;\n        if (!inplaceFormatterEditorActionInstance || forceNew) {\n            inplaceFormatterEditorActionInstance = new InplaceFormatterEditorAction();\n        }\n        return inplaceFormatterEditorActionInstance;\n    }\n    editorSelected(event) {\n        const uiSourceCode = event.data;\n        this.updateButton(uiSourceCode);\n    }\n    editorClosed(event) {\n        const { wasSelected } = event.data;\n        if (wasSelected) {\n            this.updateButton(null);\n        }\n    }\n    updateButton(uiSourceCode) {\n        if (this.uiSourceCodeTitleChangedEvent) {\n            Common.EventTarget.removeEventListeners([this.uiSourceCodeTitleChangedEvent]);\n        }\n        this.uiSourceCodeTitleChangedEvent = uiSourceCode ?\n            uiSourceCode.addEventListener(Workspace.UISourceCode.Events.TitleChanged, event => this.updateButton(event.data), this) :\n            null;\n        const isFormattable = this.isFormattable(uiSourceCode);\n        this.button.element.classList.toggle('hidden', !isFormattable);\n        if (uiSourceCode && isFormattable) {\n            this.button.setTitle(i18nString(UIStrings.formatS, { PH1: uiSourceCode.name() }));\n        }\n    }\n    getOrCreateButton(sourcesView) {\n        if (this.button) {\n            return this.button;\n        }\n        this.sourcesView = sourcesView;\n        this.sourcesView.addEventListener(\"EditorSelected\" /* Events.EDITOR_SELECTED */, this.editorSelected.bind(this));\n        this.sourcesView.addEventListener(\"EditorClosed\" /* Events.EDITOR_CLOSED */, this.editorClosed.bind(this));\n        this.button = new UI.Toolbar.ToolbarButton(i18nString(UIStrings.format), 'brackets');\n        this.button.addEventListener(\"Click\" /* UI.Toolbar.ToolbarButton.Events.CLICK */, this.formatSourceInPlace, this);\n        this.updateButton(sourcesView.currentUISourceCode());\n        return this.button;\n    }\n    isFormattable(uiSourceCode) {\n        if (!uiSourceCode) {\n            return false;\n        }\n        if (uiSourceCode.project().canSetFileContent()) {\n            return true;\n        }\n        if (Persistence.Persistence.PersistenceImpl.instance().binding(uiSourceCode) !== null) {\n            return true;\n        }\n        return false;\n    }\n    formatSourceInPlace() {\n        const sourceFrame = this.sourcesView.currentSourceFrame();\n        if (!sourceFrame) {\n            return;\n        }\n        const uiSourceCode = sourceFrame.uiSourceCode();\n        if (!this.isFormattable(uiSourceCode)) {\n            return;\n        }\n        if (uiSourceCode.isDirty()) {\n            void this.contentLoaded(uiSourceCode, sourceFrame, uiSourceCode.workingCopy());\n        }\n        else {\n            void uiSourceCode.requestContent().then(deferredContent => {\n                void this.contentLoaded(uiSourceCode, sourceFrame, deferredContent.content || '');\n            });\n        }\n    }\n    async contentLoaded(uiSourceCode, sourceFrame, content) {\n        const { formattedContent, formattedMapping } = await Formatter.ScriptFormatter.format(uiSourceCode.contentType(), sourceFrame.contentType, content);\n        if (uiSourceCode.workingCopy() === formattedContent) {\n            return;\n        }\n        const selection = sourceFrame.textEditor.toLineColumn(sourceFrame.textEditor.state.selection.main.head);\n        const [lineNumber, columnNumber] = formattedMapping.originalToFormatted(selection.lineNumber, selection.columnNumber);\n        uiSourceCode.setWorkingCopy(formattedContent);\n        this.sourcesView.showSourceLocation(uiSourceCode, { lineNumber, columnNumber });\n    }\n}\nregisterEditorAction(InplaceFormatterEditorAction.instance);\n//# sourceMappingURL=InplaceFormatterEditorAction.js.map","// Copyright 2017 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\nimport * as i18n from '../../core/i18n/i18n.js';\nimport * as CodeMirror from '../../third_party/codemirror.next/codemirror.next.js';\nimport * as QuickOpen from '../../ui/legacy/components/quick_open/quick_open.js';\nimport * as UI from '../../ui/legacy/legacy.js';\nimport { SourcesView } from './SourcesView.js';\nconst UIStrings = {\n    /**\n     *@description Text in Go To Line Quick Open of the Sources panel\n     */\n    noFileSelected: 'No file selected.',\n    /**\n     *@description Text in Outline Quick Open of the Sources panel\n     */\n    openAJavascriptOrCssFileToSee: 'Open a JavaScript or CSS file to see symbols',\n    /**\n     *@description Text to show no results have been found\n     */\n    noResultsFound: 'No results found',\n};\nconst str_ = i18n.i18n.registerUIStrings('panels/sources/OutlineQuickOpen.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\nexport function outline(state) {\n    function toLineColumn(offset) {\n        offset = Math.max(0, Math.min(offset, state.doc.length));\n        const line = state.doc.lineAt(offset);\n        return { lineNumber: line.number - 1, columnNumber: offset - line.from };\n    }\n    function subtitleFromParamList() {\n        while (cursor.name !== 'ParamList' && cursor.nextSibling()) {\n        }\n        let parameters = '';\n        if (cursor.name === 'ParamList' && cursor.firstChild()) {\n            do {\n                switch (cursor.name) {\n                    case 'ArrayPattern':\n                        parameters += '[‥]';\n                        break;\n                    case 'ObjectPattern':\n                        parameters += '{‥}';\n                        break;\n                    case 'VariableDefinition':\n                        parameters += state.sliceDoc(cursor.from, cursor.to);\n                        break;\n                    case 'Spread':\n                        parameters += '...';\n                        break;\n                    case ',':\n                        parameters += ', ';\n                        break;\n                }\n            } while (cursor.nextSibling());\n        }\n        return `(${parameters})`;\n    }\n    const tree = CodeMirror.syntaxTree(state);\n    const items = [];\n    const cursor = tree.cursor();\n    do {\n        switch (cursor.name) {\n            // css.grammar\n            case 'RuleSet': {\n                for (cursor.firstChild();; cursor.nextSibling()) {\n                    const title = state.sliceDoc(cursor.from, cursor.to);\n                    const { lineNumber, columnNumber } = toLineColumn(cursor.from);\n                    items.push({ title, lineNumber, columnNumber });\n                    cursor.nextSibling();\n                    if (cursor.name !== ',') {\n                        break;\n                    }\n                }\n                break;\n            }\n            // javascript.grammar\n            case 'FunctionDeclaration':\n            case 'MethodDeclaration': {\n                let prefix = '';\n                cursor.firstChild();\n                do {\n                    switch (cursor.name) {\n                        case 'abstract':\n                        case 'async':\n                        case 'get':\n                        case 'set':\n                        case 'static':\n                            prefix = `${prefix}${cursor.name} `;\n                            break;\n                        case 'Star':\n                            prefix += '*';\n                            break;\n                        case 'PropertyDefinition':\n                        case 'PrivatePropertyDefinition':\n                        case 'VariableDefinition': {\n                            const title = prefix + state.sliceDoc(cursor.from, cursor.to);\n                            const { lineNumber, columnNumber } = toLineColumn(cursor.from);\n                            const subtitle = subtitleFromParamList();\n                            items.push({ title, subtitle, lineNumber, columnNumber });\n                            break;\n                        }\n                    }\n                } while (cursor.nextSibling());\n                break;\n            }\n            case 'Property': {\n                let prefix = '';\n                cursor.firstChild();\n                do {\n                    if (cursor.name === 'async' || cursor.name === 'get' || cursor.name === 'set') {\n                        prefix = `${prefix}${cursor.name} `;\n                    }\n                    else if (cursor.name === 'Star') {\n                        prefix += '*';\n                    }\n                    else if (cursor.name === 'PropertyDefinition') {\n                        let title = state.sliceDoc(cursor.from, cursor.to);\n                        const { lineNumber, columnNumber } = toLineColumn(cursor.from);\n                        while (cursor.nextSibling()) {\n                            if (cursor.name === 'ClassExpression') {\n                                title = `class ${title}`;\n                                items.push({ title, lineNumber, columnNumber });\n                                break;\n                            }\n                            if (cursor.name === 'ArrowFunction' || cursor.name === 'FunctionExpression') {\n                                cursor.firstChild();\n                            }\n                            if (cursor.name === 'async') {\n                                prefix = `async ${prefix}`;\n                            }\n                            else if (cursor.name === 'Star') {\n                                prefix += '*';\n                            }\n                            else if (cursor.name === 'ParamList') {\n                                title = prefix + title;\n                                const subtitle = subtitleFromParamList();\n                                items.push({ title, subtitle, lineNumber, columnNumber });\n                                break;\n                            }\n                        }\n                        break;\n                    }\n                    else {\n                        // We don't support any other Property syntax.\n                        break;\n                    }\n                } while (cursor.nextSibling());\n                break;\n            }\n            case 'PropertyName':\n            case 'VariableDefinition': {\n                if (cursor.matchContext(['ClassDeclaration'])) {\n                    const title = 'class ' + state.sliceDoc(cursor.from, cursor.to);\n                    const { lineNumber, columnNumber } = toLineColumn(cursor.from);\n                    items.push({ title, lineNumber, columnNumber });\n                }\n                else if (cursor.matchContext([\n                    'AssignmentExpression',\n                    'MemberExpression',\n                ]) ||\n                    cursor.matchContext([\n                        'VariableDeclaration',\n                    ])) {\n                    let title = state.sliceDoc(cursor.from, cursor.to);\n                    const { lineNumber, columnNumber } = toLineColumn(cursor.from);\n                    while (cursor.name !== 'Equals' && cursor.next()) {\n                    }\n                    if (!cursor.nextSibling()) {\n                        break;\n                    }\n                    if (cursor.name === 'ArrowFunction' || cursor.name === 'FunctionExpression') {\n                        cursor.firstChild();\n                        let prefix = '';\n                        while (cursor.name !== 'ParamList') {\n                            if (cursor.name === 'async') {\n                                prefix = `async ${prefix}`;\n                            }\n                            else if (cursor.name === 'Star') {\n                                prefix += '*';\n                            }\n                            if (!cursor.nextSibling()) {\n                                break;\n                            }\n                        }\n                        title = prefix + title;\n                        const subtitle = subtitleFromParamList();\n                        items.push({ title, subtitle, lineNumber, columnNumber });\n                    }\n                    else if (cursor.name === 'ClassExpression') {\n                        title = `class ${title}`;\n                        items.push({ title, lineNumber, columnNumber });\n                    }\n                }\n                break;\n            }\n            // wast.grammar\n            case 'App': {\n                if (cursor.firstChild() && cursor.nextSibling() && state.sliceDoc(cursor.from, cursor.to) === 'module') {\n                    if (cursor.nextSibling() && cursor.name === 'Identifier') {\n                        const title = state.sliceDoc(cursor.from, cursor.to);\n                        const { lineNumber, columnNumber } = toLineColumn(cursor.from);\n                        items.push({ title, lineNumber, columnNumber });\n                    }\n                    do {\n                        if (cursor.name === 'App' && cursor.firstChild()) {\n                            if (cursor.nextSibling() && state.sliceDoc(cursor.from, cursor.to) === 'func' && cursor.nextSibling() &&\n                                cursor.name === 'Identifier') {\n                                const title = state.sliceDoc(cursor.from, cursor.to);\n                                const { lineNumber, columnNumber } = toLineColumn(cursor.from);\n                                const params = [];\n                                while (cursor.nextSibling()) {\n                                    if (cursor.name === 'App' && cursor.firstChild()) {\n                                        if (cursor.nextSibling() && state.sliceDoc(cursor.from, cursor.to) === 'param') {\n                                            if (cursor.nextSibling() && cursor.name === 'Identifier') {\n                                                params.push(state.sliceDoc(cursor.from, cursor.to));\n                                            }\n                                            else {\n                                                params.push(`$${params.length}`);\n                                            }\n                                        }\n                                        cursor.parent();\n                                    }\n                                }\n                                const subtitle = `(${params.join(', ')})`;\n                                items.push({ title, subtitle, lineNumber, columnNumber });\n                            }\n                            cursor.parent();\n                        }\n                    } while (cursor.nextSibling());\n                }\n                break;\n            }\n            // cpp.grammar\n            case 'FieldIdentifier':\n            case 'Identifier': {\n                if (cursor.matchContext(['FunctionDeclarator'])) {\n                    const title = state.sliceDoc(cursor.from, cursor.to);\n                    const { lineNumber, columnNumber } = toLineColumn(cursor.from);\n                    items.push({ title, lineNumber, columnNumber });\n                }\n                break;\n            }\n            case 'TypeIdentifier': {\n                if (cursor.matchContext(['ClassSpecifier'])) {\n                    const title = `class ${state.sliceDoc(cursor.from, cursor.to)}`;\n                    const { lineNumber, columnNumber } = toLineColumn(cursor.from);\n                    items.push({ title, lineNumber, columnNumber });\n                }\n                else if (cursor.matchContext(['StructSpecifier'])) {\n                    const title = `struct ${state.sliceDoc(cursor.from, cursor.to)}`;\n                    const { lineNumber, columnNumber } = toLineColumn(cursor.from);\n                    items.push({ title, lineNumber, columnNumber });\n                }\n                break;\n            }\n            default:\n                break;\n        }\n    } while (cursor.next());\n    return items;\n}\nexport class OutlineQuickOpen extends QuickOpen.FilteredListWidget.Provider {\n    items = [];\n    active = false;\n    constructor() {\n        super('source-symbol');\n    }\n    attach() {\n        const sourceFrame = this.currentSourceFrame();\n        if (sourceFrame) {\n            this.active = true;\n            this.items = outline(sourceFrame.textEditor.state).map(({ title, subtitle, lineNumber, columnNumber }) => {\n                ({ lineNumber, columnNumber } = sourceFrame.editorLocationToUILocation(lineNumber, columnNumber));\n                return { title, subtitle, lineNumber, columnNumber };\n            });\n        }\n        else {\n            this.active = false;\n            this.items = [];\n        }\n    }\n    detach() {\n        this.active = false;\n        this.items = [];\n    }\n    itemCount() {\n        return this.items.length;\n    }\n    itemKeyAt(itemIndex) {\n        const item = this.items[itemIndex];\n        return item.title + (item.subtitle ? item.subtitle : '');\n    }\n    itemScoreAt(itemIndex, query) {\n        const item = this.items[itemIndex];\n        const methodName = query.split('(')[0];\n        if (methodName.toLowerCase() === item.title.toLowerCase()) {\n            return 1 / (1 + item.lineNumber);\n        }\n        return -item.lineNumber - 1;\n    }\n    renderItem(itemIndex, query, titleElement, _subtitleElement) {\n        const item = this.items[itemIndex];\n        titleElement.textContent = item.title + (item.subtitle ? item.subtitle : '');\n        QuickOpen.FilteredListWidget.FilteredListWidget.highlightRanges(titleElement, query);\n        const sourceFrame = this.currentSourceFrame();\n        if (!sourceFrame) {\n            return;\n        }\n        const tagElement = titleElement.parentElement?.parentElement?.createChild('span', 'tag');\n        if (!tagElement) {\n            return;\n        }\n        const disassembly = sourceFrame.wasmDisassembly;\n        if (disassembly) {\n            const lastBytecodeOffset = disassembly.lineNumberToBytecodeOffset(disassembly.lineNumbers - 1);\n            const bytecodeOffsetDigits = lastBytecodeOffset.toString(16).length;\n            tagElement.textContent = `:0x${item.columnNumber.toString(16).padStart(bytecodeOffsetDigits, '0')}`;\n        }\n        else {\n            tagElement.textContent = `:${item.lineNumber + 1}`;\n        }\n    }\n    selectItem(itemIndex, _promptValue) {\n        if (itemIndex === null) {\n            return;\n        }\n        const sourceFrame = this.currentSourceFrame();\n        if (!sourceFrame) {\n            return;\n        }\n        const item = this.items[itemIndex];\n        sourceFrame.revealPosition({ lineNumber: item.lineNumber, columnNumber: item.columnNumber }, true);\n    }\n    currentSourceFrame() {\n        const sourcesView = UI.Context.Context.instance().flavor(SourcesView);\n        return sourcesView && sourcesView.currentSourceFrame();\n    }\n    notFoundText() {\n        if (!this.currentSourceFrame()) {\n            return i18nString(UIStrings.noFileSelected);\n        }\n        if (!this.active) {\n            return i18nString(UIStrings.openAJavascriptOrCssFileToSee);\n        }\n        return i18nString(UIStrings.noResultsFound);\n    }\n}\n//# sourceMappingURL=OutlineQuickOpen.js.map","// Copyright 2024 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n// IMPORTANT: this file is auto generated. Please do not edit this file.\n/* istanbul ignore file */\nconst styles = new CSSStyleSheet();\nstyles.replaceSync(\n`/*\n * Copyright 2017 The Chromium Authors. All rights reserved.\n * Use of this source code is governed by a BSD-style license that can be\n * found in the LICENSE file.\n */\n\n.scope-chain-sidebar-pane-section-header {\n  flex: auto;\n}\n\n.scope-chain-sidebar-pane-section-icon {\n  float: left;\n  margin-right: 5px;\n}\n\n.scope-chain-sidebar-pane-section-subtitle {\n  float: right;\n  margin-left: 5px;\n  max-width: 55%;\n  text-overflow: ellipsis;\n  overflow: hidden;\n}\n\n.scope-chain-sidebar-pane-section-title {\n  font-weight: normal;\n  word-wrap: break-word;\n  white-space: normal;\n}\n\n.scope-chain-sidebar-pane-section {\n  padding: 2px 4px;\n  flex: none;\n}\n\n/*# sourceURL=scopeChainSidebarPane.css */\n`);\n\nexport default styles;\n","// Copyright 2021 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\nimport * as i18n from '../../core/i18n/i18n.js';\nimport * as SDK from '../../core/sdk/sdk.js';\nimport * as SourceMapScopes from '../../models/source_map_scopes/source_map_scopes.js';\nimport * as ObjectUI from '../../ui/legacy/components/object_ui/object_ui.js';\nimport * as Components from '../../ui/legacy/components/utils/utils.js';\nimport * as UI from '../../ui/legacy/legacy.js';\nimport * as VisualLogging from '../../ui/visual_logging/visual_logging.js';\nimport scopeChainSidebarPaneStyles from './scopeChainSidebarPane.css.js';\nconst UIStrings = {\n    /**\n     *@description Loading indicator in Scope Sidebar Pane of the Sources panel\n     */\n    loading: 'Loading...',\n    /**\n     *@description Not paused message element text content in Call Stack Sidebar Pane of the Sources panel\n     */\n    notPaused: 'Not paused',\n    /**\n     *@description Empty placeholder in Scope Chain Sidebar Pane of the Sources panel\n     */\n    noVariables: 'No variables',\n    /**\n     *@description Text in the Sources panel Scope pane describing a closure scope.\n     *@example {func} PH1\n     */\n    closureS: 'Closure ({PH1})',\n    /**\n     *@description Text that refers to closure as a programming term\n     */\n    closure: 'Closure',\n};\nconst str_ = i18n.i18n.registerUIStrings('panels/sources/ScopeChainSidebarPane.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\nlet scopeChainSidebarPaneInstance;\nexport class ScopeChainSidebarPane extends UI.Widget.VBox {\n    treeOutline;\n    expandController;\n    linkifier;\n    infoElement;\n    #scopeChainModel = null;\n    constructor() {\n        super(true);\n        this.contentElement.setAttribute('jslog', `${VisualLogging.section('sources.scope-chain')}`);\n        this.treeOutline = new ObjectUI.ObjectPropertiesSection.ObjectPropertiesSectionsTreeOutline();\n        this.treeOutline.hideOverflow();\n        this.treeOutline.setShowSelectionOnKeyboardFocus(/* show */ true);\n        this.expandController =\n            new ObjectUI.ObjectPropertiesSection.ObjectPropertiesSectionsTreeExpandController(this.treeOutline);\n        this.linkifier = new Components.Linkifier.Linkifier();\n        this.infoElement = document.createElement('div');\n        this.infoElement.className = 'gray-info-message';\n        this.infoElement.tabIndex = -1;\n        this.flavorChanged(UI.Context.Context.instance().flavor(SDK.DebuggerModel.CallFrame));\n    }\n    static instance() {\n        if (!scopeChainSidebarPaneInstance) {\n            scopeChainSidebarPaneInstance = new ScopeChainSidebarPane();\n        }\n        return scopeChainSidebarPaneInstance;\n    }\n    flavorChanged(callFrame) {\n        this.#scopeChainModel?.dispose();\n        this.#scopeChainModel = null;\n        this.linkifier.reset();\n        this.contentElement.removeChildren();\n        this.contentElement.appendChild(this.infoElement);\n        if (callFrame) {\n            // Resolving the scope may take a while to complete, so indicate to the user that something\n            // is happening (see https://crbug.com/1162416).\n            this.infoElement.textContent = i18nString(UIStrings.loading);\n            this.#scopeChainModel = new SourceMapScopes.ScopeChainModel.ScopeChainModel(callFrame);\n            this.#scopeChainModel.addEventListener(\"ScopeChainUpdated\" /* SourceMapScopes.ScopeChainModel.Events.SCOPE_CHAIN_UPDATED */, event => this.buildScopeTreeOutline(event.data), this);\n        }\n        else {\n            this.infoElement.textContent = i18nString(UIStrings.notPaused);\n        }\n    }\n    focus() {\n        if (this.hasFocus()) {\n            return;\n        }\n        if (UI.Context.Context.instance().flavor(SDK.DebuggerModel.DebuggerPausedDetails)) {\n            this.treeOutline.forceSelect();\n        }\n    }\n    buildScopeTreeOutline(eventScopeChain) {\n        const { scopeChain } = eventScopeChain;\n        this.treeOutline.removeChildren();\n        this.contentElement.removeChildren();\n        this.contentElement.appendChild(this.treeOutline.element);\n        let foundLocalScope = false;\n        for (const [i, scope] of scopeChain.entries()) {\n            if (scope.type() === \"local\" /* Protocol.Debugger.ScopeType.Local */) {\n                foundLocalScope = true;\n            }\n            const section = this.createScopeSectionTreeElement(scope);\n            if (scope.type() === \"global\" /* Protocol.Debugger.ScopeType.Global */) {\n                section.collapse();\n            }\n            else if (!foundLocalScope || scope.type() === \"local\" /* Protocol.Debugger.ScopeType.Local */) {\n                section.expand();\n            }\n            this.treeOutline.appendChild(section);\n            if (i === 0) {\n                section.select(/* omitFocus */ true);\n            }\n        }\n        this.sidebarPaneUpdatedForTest();\n    }\n    createScopeSectionTreeElement(scope) {\n        let emptyPlaceholder = null;\n        if (scope.type() === \"local\" /* Protocol.Debugger.ScopeType.Local */ || scope.type() === \"closure\" /* Protocol.Debugger.ScopeType.Closure */) {\n            emptyPlaceholder = i18nString(UIStrings.noVariables);\n        }\n        let title = scope.typeName();\n        if (scope.type() === \"closure\" /* Protocol.Debugger.ScopeType.Closure */) {\n            const scopeName = scope.name();\n            if (scopeName) {\n                title = i18nString(UIStrings.closureS, { PH1: UI.UIUtils.beautifyFunctionName(scopeName) });\n            }\n            else {\n                title = i18nString(UIStrings.closure);\n            }\n        }\n        let subtitle = scope.description();\n        if (!title || title === subtitle) {\n            subtitle = null;\n        }\n        const icon = scope.icon();\n        const titleElement = document.createElement('div');\n        titleElement.classList.add('scope-chain-sidebar-pane-section-header');\n        titleElement.classList.add('tree-element-title');\n        if (icon) {\n            const iconElement = document.createElement('img');\n            iconElement.classList.add('scope-chain-sidebar-pane-section-icon');\n            iconElement.src = icon;\n            titleElement.appendChild(iconElement);\n        }\n        titleElement.createChild('div', 'scope-chain-sidebar-pane-section-subtitle').textContent = subtitle;\n        titleElement.createChild('div', 'scope-chain-sidebar-pane-section-title').textContent = title;\n        const section = new ObjectUI.ObjectPropertiesSection.RootElement(scope.object(), this.linkifier, emptyPlaceholder, 0 /* ObjectUI.ObjectPropertiesSection.ObjectPropertiesMode.ALL */, scope.extraProperties());\n        section.title = titleElement;\n        section.listItemElement.classList.add('scope-chain-sidebar-pane-section');\n        section.listItemElement.setAttribute('aria-label', title);\n        this.expandController.watchSection(title + (subtitle ? ':' + subtitle : ''), section);\n        return section;\n    }\n    sidebarPaneUpdatedForTest() {\n    }\n    wasShown() {\n        super.wasShown();\n        this.treeOutline.registerCSSFiles([scopeChainSidebarPaneStyles]);\n        this.registerCSSFiles([scopeChainSidebarPaneStyles]);\n    }\n}\n//# sourceMappingURL=ScopeChainSidebarPane.js.map","// Copyright 2024 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n// IMPORTANT: this file is auto generated. Please do not edit this file.\n/* istanbul ignore file */\nconst styles = new CSSStyleSheet();\nstyles.replaceSync(\n`/*\n * Copyright 2022 The Chromium Authors. All rights reserved.\n * Use of this source code is governed by a BSD-style license that can be\n * found in the LICENSE file.\n */\n\n.border-container {\n  border-bottom: 1px solid var(--sys-color-divider);\n  flex-shrink: 0;\n}\n\n/*# sourceURL=sourcesNavigator.css */\n`);\n\nexport default styles;\n","/*\n * Copyright (C) 2011 Google Inc. All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are\n * met:\n *\n *     * Redistributions of source code must retain the above copyright\n * notice, this list of conditions and the following disclaimer.\n *     * Redistributions in binary form must reproduce the above\n * copyright notice, this list of conditions and the following disclaimer\n * in the documentation and/or other materials provided with the\n * distribution.\n *     * Neither the name of Google Inc. nor the names of its\n * contributors may be used to endorse or promote products derived from\n * this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\nimport * as Common from '../../core/common/common.js';\nimport * as Host from '../../core/host/host.js';\nimport * as i18n from '../../core/i18n/i18n.js';\nimport * as Platform from '../../core/platform/platform.js';\nimport * as SDK from '../../core/sdk/sdk.js';\nimport * as Bindings from '../../models/bindings/bindings.js';\nimport * as Persistence from '../../models/persistence/persistence.js';\nimport * as Workspace from '../../models/workspace/workspace.js';\nimport * as UI from '../../ui/legacy/legacy.js';\nimport * as Snippets from '../snippets/snippets.js';\nimport { NavigatorView } from './NavigatorView.js';\nimport sourcesNavigatorStyles from './sourcesNavigator.css.js';\nconst UIStrings = {\n    /**\n     *@description Text to explain the Workspace feature in the Sources panel. https://goo.gle/devtools-workspace\n     */\n    explainWorkspace: 'Set up workspace to sync edits directly to the sources you develop',\n    /**\n     *@description Text to explain the Local Overrides feature. https://goo.gle/devtools-overrides\n     */\n    explainLocalOverrides: 'Override network requests and web content locally to mock remote resources',\n    /**\n     *@description Text that is usually a hyperlink to more documentation\n     */\n    learnMore: 'Learn more',\n    /**\n     *@description Tooltip text that appears when hovering over the largeicon clear button in the Sources Navigator of the Sources panel\n     */\n    clearConfiguration: 'Clear configuration',\n    /**\n     *@description Text in Sources Navigator of the Sources panel\n     */\n    selectFolderForOverrides: 'Select folder for overrides',\n    /**\n     *@description Text to explain the content scripts pane in the Sources panel\n     */\n    explainContentScripts: 'View content scripts served by extensions',\n    /**\n     *@description Text to explain the Snippets feature in the Sources panel https://goo.gle/devtools-snippets\n     */\n    explainSnippets: 'Save the JavaScript code you run often to run it again anytime',\n    /**\n     *@description Text in Sources Navigator of the Sources panel\n     */\n    newSnippet: 'New snippet',\n    /**\n     *@description Title of an action in the sources tool to create snippet\n     */\n    createNewSnippet: 'Create new snippet',\n    /**\n     *@description A context menu item in the Sources Navigator of the Sources panel\n     */\n    run: 'Run',\n    /**\n     *@description A context menu item in the Navigator View of the Sources panel\n     */\n    rename: 'Rename…',\n    /**\n     *@description Label for an item to remove something\n     */\n    remove: 'Remove',\n    /**\n     *@description Text to save content as a specific file type\n     */\n    saveAs: 'Save as...',\n};\nconst str_ = i18n.i18n.registerUIStrings('panels/sources/SourcesNavigator.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\nlet networkNavigatorViewInstance;\nexport class NetworkNavigatorView extends NavigatorView {\n    constructor() {\n        super('navigator-network', true);\n        SDK.TargetManager.TargetManager.instance().addEventListener(\"InspectedURLChanged\" /* SDK.TargetManager.Events.INSPECTED_URL_CHANGED */, this.inspectedURLChanged, this);\n        // Record the sources tool load time after the file navigator has loaded.\n        Host.userMetrics.panelLoaded('sources', 'DevTools.Launch.Sources');\n        SDK.TargetManager.TargetManager.instance().addScopeChangeListener(this.onScopeChange.bind(this));\n    }\n    wasShown() {\n        this.registerCSSFiles([sourcesNavigatorStyles]);\n        super.wasShown();\n    }\n    static instance(opts = { forceNew: null }) {\n        const { forceNew } = opts;\n        if (!networkNavigatorViewInstance || forceNew) {\n            networkNavigatorViewInstance = new NetworkNavigatorView();\n        }\n        return networkNavigatorViewInstance;\n    }\n    acceptProject(project) {\n        return project.type() === Workspace.Workspace.projectTypes.Network &&\n            SDK.TargetManager.TargetManager.instance().isInScope(Bindings.NetworkProject.NetworkProject.getTargetForProject(project));\n    }\n    onScopeChange() {\n        for (const project of Workspace.Workspace.WorkspaceImpl.instance().projects()) {\n            if (!this.acceptProject(project)) {\n                this.removeProject(project);\n            }\n            else {\n                this.tryAddProject(project);\n            }\n        }\n    }\n    inspectedURLChanged(event) {\n        const mainTarget = SDK.TargetManager.TargetManager.instance().scopeTarget();\n        if (event.data !== mainTarget) {\n            return;\n        }\n        const inspectedURL = mainTarget && mainTarget.inspectedURL();\n        if (!inspectedURL) {\n            return;\n        }\n        for (const uiSourceCode of this.workspace().uiSourceCodes()) {\n            if (this.acceptProject(uiSourceCode.project()) && uiSourceCode.url() === inspectedURL) {\n                this.revealUISourceCode(uiSourceCode, true);\n            }\n        }\n    }\n    uiSourceCodeAdded(uiSourceCode) {\n        const mainTarget = SDK.TargetManager.TargetManager.instance().scopeTarget();\n        const inspectedURL = mainTarget && mainTarget.inspectedURL();\n        if (!inspectedURL) {\n            return;\n        }\n        if (uiSourceCode.url() === inspectedURL) {\n            this.revealUISourceCode(uiSourceCode, true);\n        }\n    }\n}\nexport class FilesNavigatorView extends NavigatorView {\n    constructor() {\n        super('navigator-files');\n        const placeholder = new UI.EmptyWidget.EmptyWidget('');\n        this.setPlaceholder(placeholder);\n        placeholder.appendParagraph().appendChild(UI.Fragment.html `\n  <div>${i18nString(UIStrings.explainWorkspace)}</div><br />\n  ${UI.XLink.XLink.create('https://goo.gle/devtools-workspace', i18nString(UIStrings.learnMore), undefined, undefined, 'learn-more')}\n  `);\n        const toolbar = new UI.Toolbar.Toolbar('navigator-toolbar');\n        void toolbar.appendItemsAtLocation('files-navigator-toolbar').then(() => {\n            if (!toolbar.empty()) {\n                this.contentElement.insertBefore(toolbar.element, this.contentElement.firstChild);\n            }\n        });\n    }\n    sourceSelected(uiSourceCode, focusSource) {\n        Host.userMetrics.actionTaken(Host.UserMetrics.Action.WorkspaceSourceSelected);\n        super.sourceSelected(uiSourceCode, focusSource);\n    }\n    acceptProject(project) {\n        return project.type() === Workspace.Workspace.projectTypes.FileSystem &&\n            Persistence.FileSystemWorkspaceBinding.FileSystemWorkspaceBinding.fileSystemType(project) !== 'overrides' &&\n            !Snippets.ScriptSnippetFileSystem.isSnippetsProject(project);\n    }\n    handleContextMenu(event) {\n        const contextMenu = new UI.ContextMenu.ContextMenu(event);\n        contextMenu.defaultSection().appendAction('sources.add-folder-to-workspace', undefined, true);\n        void contextMenu.show();\n    }\n}\nlet overridesNavigatorViewInstance;\nexport class OverridesNavigatorView extends NavigatorView {\n    toolbar;\n    constructor() {\n        super('navigator-overrides');\n        const placeholder = new UI.EmptyWidget.EmptyWidget('');\n        this.setPlaceholder(placeholder);\n        placeholder.appendParagraph().appendChild(UI.Fragment.html `\n  <div>${i18nString(UIStrings.explainLocalOverrides)}</div><br />\n  ${UI.XLink.XLink.create('https://goo.gle/devtools-overrides', i18nString(UIStrings.learnMore), undefined, undefined, 'learn-more')}\n  `);\n        this.toolbar = new UI.Toolbar.Toolbar('navigator-toolbar');\n        this.contentElement.insertBefore(this.toolbar.element, this.contentElement.firstChild);\n        Persistence.NetworkPersistenceManager.NetworkPersistenceManager.instance().addEventListener(\"ProjectChanged\" /* Persistence.NetworkPersistenceManager.Events.PROJECT_CHANGED */, this.updateProjectAndUI, this);\n        this.workspace().addEventListener(Workspace.Workspace.Events.ProjectAdded, this.onProjectAddOrRemoved, this);\n        this.workspace().addEventListener(Workspace.Workspace.Events.ProjectRemoved, this.onProjectAddOrRemoved, this);\n        this.updateProjectAndUI();\n    }\n    static instance(opts = { forceNew: null }) {\n        const { forceNew } = opts;\n        if (!overridesNavigatorViewInstance || forceNew) {\n            overridesNavigatorViewInstance = new OverridesNavigatorView();\n        }\n        return overridesNavigatorViewInstance;\n    }\n    onProjectAddOrRemoved(event) {\n        const project = event.data;\n        if (project && project.type() === Workspace.Workspace.projectTypes.FileSystem &&\n            Persistence.FileSystemWorkspaceBinding.FileSystemWorkspaceBinding.fileSystemType(project) !== 'overrides') {\n            return;\n        }\n        this.updateUI();\n    }\n    updateProjectAndUI() {\n        this.reset();\n        const project = Persistence.NetworkPersistenceManager.NetworkPersistenceManager.instance().project();\n        if (project) {\n            this.tryAddProject(project);\n        }\n        this.updateUI();\n    }\n    updateUI() {\n        this.toolbar.removeToolbarItems();\n        const project = Persistence.NetworkPersistenceManager.NetworkPersistenceManager.instance().project();\n        if (project) {\n            const enableCheckbox = new UI.Toolbar.ToolbarSettingCheckbox(Common.Settings.Settings.instance().moduleSetting('persistence-network-overrides-enabled'));\n            this.toolbar.appendToolbarItem(enableCheckbox);\n            this.toolbar.appendToolbarItem(new UI.Toolbar.ToolbarSeparator(true));\n            const clearButton = new UI.Toolbar.ToolbarButton(i18nString(UIStrings.clearConfiguration), 'clear');\n            clearButton.addEventListener(\"Click\" /* UI.Toolbar.ToolbarButton.Events.CLICK */, () => {\n                Common.Settings.Settings.instance().moduleSetting('persistence-network-overrides-enabled').set(false);\n                project.remove();\n            });\n            this.toolbar.appendToolbarItem(clearButton);\n            return;\n        }\n        const title = i18nString(UIStrings.selectFolderForOverrides);\n        const setupButton = new UI.Toolbar.ToolbarButton(title, 'plus', title);\n        setupButton.addEventListener(\"Click\" /* UI.Toolbar.ToolbarButton.Events.CLICK */, _event => {\n            void this.setupNewWorkspace();\n        }, this);\n        this.toolbar.appendToolbarItem(setupButton);\n    }\n    async setupNewWorkspace() {\n        const fileSystem = await Persistence.IsolatedFileSystemManager.IsolatedFileSystemManager.instance().addFileSystem('overrides');\n        if (!fileSystem) {\n            return;\n        }\n        Common.Settings.Settings.instance().moduleSetting('persistence-network-overrides-enabled').set(true);\n    }\n    sourceSelected(uiSourceCode, focusSource) {\n        Host.userMetrics.actionTaken(Host.UserMetrics.Action.OverridesSourceSelected);\n        super.sourceSelected(uiSourceCode, focusSource);\n    }\n    acceptProject(project) {\n        return project === Persistence.NetworkPersistenceManager.NetworkPersistenceManager.instance().project();\n    }\n}\nexport class ContentScriptsNavigatorView extends NavigatorView {\n    constructor() {\n        super('navigator-content-scripts');\n        const placeholder = new UI.EmptyWidget.EmptyWidget('');\n        this.setPlaceholder(placeholder);\n        placeholder.appendParagraph().appendChild(UI.Fragment.html `\n  <div>${i18nString(UIStrings.explainContentScripts)}</div><br />\n  ${UI.XLink.XLink.create('https://developer.chrome.com/extensions/content_scripts', i18nString(UIStrings.learnMore), undefined, undefined, 'learn-more')}\n  `);\n    }\n    acceptProject(project) {\n        return project.type() === Workspace.Workspace.projectTypes.ContentScripts;\n    }\n}\nexport class SnippetsNavigatorView extends NavigatorView {\n    constructor() {\n        super('navigator-snippets');\n        const placeholder = new UI.EmptyWidget.EmptyWidget('');\n        this.setPlaceholder(placeholder);\n        placeholder.appendParagraph().appendChild(UI.Fragment.html `\n  <div>${i18nString(UIStrings.explainSnippets)}</div><br />\n  ${UI.XLink.XLink.create('https://goo.gle/devtools-snippets', i18nString(UIStrings.learnMore), undefined, undefined, 'learn-more')}\n  `);\n        const toolbar = new UI.Toolbar.Toolbar('navigator-toolbar');\n        const newButton = new UI.Toolbar.ToolbarButton(i18nString(UIStrings.newSnippet), 'plus', i18nString(UIStrings.newSnippet), 'sources.new-snippet');\n        newButton.addEventListener(\"Click\" /* UI.Toolbar.ToolbarButton.Events.CLICK */, _event => {\n            void this.create(Snippets.ScriptSnippetFileSystem.findSnippetsProject(), '');\n        });\n        toolbar.appendToolbarItem(newButton);\n        this.contentElement.insertBefore(toolbar.element, this.contentElement.firstChild);\n    }\n    acceptProject(project) {\n        return Snippets.ScriptSnippetFileSystem.isSnippetsProject(project);\n    }\n    handleContextMenu(event) {\n        const contextMenu = new UI.ContextMenu.ContextMenu(event);\n        contextMenu.headerSection().appendItem(i18nString(UIStrings.createNewSnippet), () => this.create(Snippets.ScriptSnippetFileSystem.findSnippetsProject(), ''), { jslogContext: 'create-new-snippet' });\n        void contextMenu.show();\n    }\n    handleFileContextMenu(event, node) {\n        const uiSourceCode = node.uiSourceCode();\n        const contextMenu = new UI.ContextMenu.ContextMenu(event);\n        contextMenu.headerSection().appendItem(i18nString(UIStrings.run), () => Snippets.ScriptSnippetFileSystem.evaluateScriptSnippet(uiSourceCode), { jslogContext: 'run' });\n        contextMenu.editSection().appendItem(i18nString(UIStrings.rename), () => this.rename(node, false), { jslogContext: 'rename' });\n        contextMenu.editSection().appendItem(i18nString(UIStrings.remove), () => uiSourceCode.project().deleteFile(uiSourceCode), { jslogContext: 'remove' });\n        contextMenu.saveSection().appendItem(i18nString(UIStrings.saveAs), this.handleSaveAs.bind(this, uiSourceCode), { jslogContext: 'save-as' });\n        void contextMenu.show();\n    }\n    async handleSaveAs(uiSourceCode) {\n        uiSourceCode.commitWorkingCopy();\n        const { content } = await uiSourceCode.requestContent();\n        await Workspace.FileManager.FileManager.instance().save(this.addJSExtension(uiSourceCode.url()), content || '', true, false /* isBase64 */);\n        Workspace.FileManager.FileManager.instance().close(uiSourceCode.url());\n    }\n    addJSExtension(url) {\n        return Common.ParsedURL.ParsedURL.concatenate(url, '.js');\n    }\n}\nexport class ActionDelegate {\n    handleAction(context, actionId) {\n        switch (actionId) {\n            case 'sources.create-snippet':\n                void Snippets.ScriptSnippetFileSystem.findSnippetsProject()\n                    .createFile(Platform.DevToolsPath.EmptyEncodedPathString, null, '')\n                    .then(uiSourceCode => Common.Revealer.reveal(uiSourceCode));\n                return true;\n            case 'sources.add-folder-to-workspace':\n                void Persistence.IsolatedFileSystemManager.IsolatedFileSystemManager.instance().addFileSystem();\n                return true;\n        }\n        return false;\n    }\n}\n//# sourceMappingURL=SourcesNavigator.js.map","// Copyright 2024 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n// IMPORTANT: this file is auto generated. Please do not edit this file.\n/* istanbul ignore file */\nconst styles = new CSSStyleSheet();\nstyles.replaceSync(\n`/*\n * Copyright 2017 The Chromium Authors. All rights reserved.\n * Use of this source code is governed by a BSD-style license that can be\n * found in the LICENSE file.\n */\n\n.watch-expression-delete-button {\n  position: absolute;\n  opacity: 0%;\n  right: 0;\n\n  .watch-expression-title:hover & {\n    opacity: 100%;\n  }\n\n  .watch-expression-title:focus-within & {\n    opacity: 100%;\n  }\n}\n\n:host-context(.theme-with-dark-background) .watch-expression-delete-button {\n  /* This is a workaround due to a sprite with hardcoded color.\n     It should no longer be necessary after we update icons. */\n  filter: brightness(1.5);\n}\n\n.watch-expressions {\n  min-height: 26px;\n}\n\n.watch-expression-title {\n  white-space: nowrap;\n  line-height: 20px;\n  display: flex;\n}\n\n.watch-expression-title:hover,\n.watch-expression-title:focus-within {\n  padding-right: 26px;\n}\n\n.watch-expression-object-header .watch-expression-title {\n  margin-left: 1px;\n}\n\n.watch-expression {\n  position: relative;\n  flex: auto;\n  min-height: 20px;\n}\n\n.watch-expression .name {\n  color: var(--sys-color-purple);\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  flex-shrink: 1000000;\n  min-width: 2em;\n}\n\n.watch-expression-error {\n  color: var(--sys-color-error);\n}\n\n.watch-expressions-separator {\n  flex-shrink: 0;\n  flex-grow: 0;\n}\n\n.watch-expression .value {\n  white-space: nowrap;\n  display: inline;\n  overflow: hidden;\n  padding-left: 4px;\n  text-overflow: ellipsis;\n  flex-shrink: 1;\n}\n\n.watch-expression .text-prompt {\n  text-overflow: clip;\n  overflow: hidden;\n  white-space: nowrap;\n  padding-left: 4px;\n  min-height: 18px;\n  line-height: 18px;\n  user-select: text;\n}\n\n.watch-expression-text-prompt-proxy {\n  margin: 2px 12px 2px -4px;\n  padding-bottom: 3px;\n}\n\n.watch-expression-header {\n  flex: auto;\n  margin-left: -16px;\n  padding-left: 15px;\n}\n\nli.watch-expression-tree-item {\n  padding-left: 4px;\n}\n\nli.watch-expression-tree-item.selected {\n  background: var(--sys-color-neutral-container);\n}\n\nli.watch-expression-tree-item.selected:focus {\n  background: var(--sys-color-tonal-container);\n}\n\nli.watch-expression-tree-item.selected:focus-within:focus-visible {\n  background: var(--sys-color-tonal-container);\n}\n\n.watch-expression-header:focus-visible {\n  background: var(--sys-color-tonal-container);\n}\n\nli.watch-expression-editing::before {\n  background-color: transparent;\n}\n\n@media (forced-colors: active) {\n  .watch-expression-title:hover .watch-expression-delete-button,\n  .watch-expressions .dimmed {\n    opacity: 100%;\n  }\n\n  li.watch-expression-tree-item * {\n    forced-color-adjust: none;\n    color: ButtonText;\n  }\n\n  li.watch-expression-tree-item:hover {\n    forced-color-adjust: none;\n    background-color: Highlight;\n  }\n\n  li.watch-expression-tree-item:hover * {\n    color: HighlightText;\n  }\n\n  li.watch-expression-tree-item:hover .watch-expression-delete-button {\n    background-color: HighlightText;\n  }\n}\n\n/*# sourceURL=watchExpressionsSidebarPane.css */\n`);\n\nexport default styles;\n","// Copyright 2021 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n/*\n * Copyright (C) IBM Corp. 2009  All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are\n * met:\n *\n *     * Redistributions of source code must retain the above copyright\n * notice, this list of conditions and the following disclaimer.\n *     * Redistributions in binary form must reproduce the above\n * copyright notice, this list of conditions and the following disclaimer\n * in the documentation and/or other materials provided with the\n * distribution.\n *     * Neither the name of IBM Corp. nor the names of its\n * contributors may be used to endorse or promote products derived from\n * this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\nimport * as Common from '../../core/common/common.js';\nimport * as Host from '../../core/host/host.js';\nimport * as i18n from '../../core/i18n/i18n.js';\nimport * as Platform from '../../core/platform/platform.js';\nimport * as SDK from '../../core/sdk/sdk.js';\nimport * as Formatter from '../../models/formatter/formatter.js';\nimport * as SourceMapScopes from '../../models/source_map_scopes/source_map_scopes.js';\nimport * as Buttons from '../../ui/components/buttons/buttons.js';\nimport * as ObjectUI from '../../ui/legacy/components/object_ui/object_ui.js';\n// eslint-disable-next-line rulesdir/es_modules_import\nimport objectValueStyles from '../../ui/legacy/components/object_ui/objectValue.css.js';\nimport * as Components from '../../ui/legacy/components/utils/utils.js';\nimport * as UI from '../../ui/legacy/legacy.js';\nimport * as VisualLogging from '../../ui/visual_logging/visual_logging.js';\nimport { UISourceCodeFrame } from './UISourceCodeFrame.js';\nimport watchExpressionsSidebarPaneStyles from './watchExpressionsSidebarPane.css.js';\nconst UIStrings = {\n    /**\n     *@description A context menu item in the Watch Expressions Sidebar Pane of the Sources panel\n     */\n    addWatchExpression: 'Add watch expression',\n    /**\n     *@description Tooltip/screen reader label of a button in the Sources panel that refreshes all watch expressions.\n     */\n    refreshWatchExpressions: 'Refresh watch expressions',\n    /**\n     *@description Empty element text content in Watch Expressions Sidebar Pane of the Sources panel\n     */\n    noWatchExpressions: 'No watch expressions',\n    /**\n     *@description A context menu item in the Watch Expressions Sidebar Pane of the Sources panel\n     */\n    deleteAllWatchExpressions: 'Delete all watch expressions',\n    /**\n     *@description A context menu item in the Watch Expressions Sidebar Pane of the Sources panel\n     */\n    addPropertyPathToWatch: 'Add property path to watch',\n    /**\n     *@description A context menu item in the Watch Expressions Sidebar Pane of the Sources panel\n     */\n    deleteWatchExpression: 'Delete watch expression',\n    /**\n     *@description Value element text content in Watch Expressions Sidebar Pane of the Sources panel\n     */\n    notAvailable: '<not available>',\n    /**\n     *@description A context menu item in the Watch Expressions Sidebar Pane of the Sources panel and Network pane request.\n     */\n    copyValue: 'Copy value',\n};\nconst str_ = i18n.i18n.registerUIStrings('panels/sources/WatchExpressionsSidebarPane.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\nlet watchExpressionsSidebarPaneInstance;\nexport class WatchExpressionsSidebarPane extends UI.ThrottledWidget.ThrottledWidget {\n    watchExpressions;\n    emptyElement;\n    watchExpressionsSetting;\n    addButton;\n    refreshButton;\n    treeOutline;\n    expandController;\n    linkifier;\n    constructor() {\n        super(true);\n        // TODO(szuend): Replace with a Set once the web test\n        // panels/sources/debugger-ui/watch-expressions-preserve-expansion.js is either converted\n        // to an e2e test or no longer accesses this variable directly.\n        this.watchExpressions = [];\n        this.watchExpressionsSetting =\n            Common.Settings.Settings.instance().createLocalSetting('watch-expressions', []);\n        this.addButton = new UI.Toolbar.ToolbarButton(i18nString(UIStrings.addWatchExpression), 'plus', undefined, 'add-watch-expression');\n        this.addButton.setSize(\"SMALL\" /* Buttons.Button.Size.SMALL */);\n        this.addButton.addEventListener(\"Click\" /* UI.Toolbar.ToolbarButton.Events.CLICK */, _event => {\n            void this.addButtonClicked();\n        });\n        this.refreshButton = new UI.Toolbar.ToolbarButton(i18nString(UIStrings.refreshWatchExpressions), 'refresh', undefined, 'refresh-watch-expressions');\n        this.refreshButton.setSize(\"SMALL\" /* Buttons.Button.Size.SMALL */);\n        this.refreshButton.addEventListener(\"Click\" /* UI.Toolbar.ToolbarButton.Events.CLICK */, this.update, this);\n        this.contentElement.classList.add('watch-expressions');\n        this.contentElement.setAttribute('jslog', `${VisualLogging.section('sources.watch')}`);\n        this.contentElement.addEventListener('contextmenu', this.contextMenu.bind(this), false);\n        this.treeOutline = new ObjectUI.ObjectPropertiesSection.ObjectPropertiesSectionsTreeOutline();\n        this.treeOutline.hideOverflow();\n        this.treeOutline.setShowSelectionOnKeyboardFocus(/* show */ true);\n        this.expandController =\n            new ObjectUI.ObjectPropertiesSection.ObjectPropertiesSectionsTreeExpandController(this.treeOutline);\n        UI.Context.Context.instance().addFlavorChangeListener(SDK.RuntimeModel.ExecutionContext, this.update, this);\n        UI.Context.Context.instance().addFlavorChangeListener(SDK.DebuggerModel.CallFrame, this.update, this);\n        this.linkifier = new Components.Linkifier.Linkifier();\n        this.update();\n    }\n    static instance() {\n        if (!watchExpressionsSidebarPaneInstance) {\n            watchExpressionsSidebarPaneInstance = new WatchExpressionsSidebarPane();\n        }\n        return watchExpressionsSidebarPaneInstance;\n    }\n    toolbarItems() {\n        return [this.addButton, this.refreshButton];\n    }\n    focus() {\n        if (this.hasFocus()) {\n            return;\n        }\n        if (this.watchExpressions.length > 0) {\n            this.treeOutline.forceSelect();\n        }\n    }\n    hasExpressions() {\n        return Boolean(this.watchExpressionsSetting.get().length);\n    }\n    saveExpressions() {\n        const toSave = [];\n        for (let i = 0; i < this.watchExpressions.length; i++) {\n            const expression = this.watchExpressions[i].expression();\n            if (expression) {\n                toSave.push(expression);\n            }\n        }\n        this.watchExpressionsSetting.set(toSave);\n    }\n    async addButtonClicked() {\n        await UI.ViewManager.ViewManager.instance().showView('sources.watch');\n        this.emptyElement.classList.add('hidden');\n        this.createWatchExpression(null).startEditing();\n    }\n    async doUpdate() {\n        this.linkifier.reset();\n        this.contentElement.removeChildren();\n        this.treeOutline.removeChildren();\n        this.watchExpressions = [];\n        this.emptyElement = this.contentElement.createChild('div', 'gray-info-message');\n        this.emptyElement.textContent = i18nString(UIStrings.noWatchExpressions);\n        this.emptyElement.tabIndex = -1;\n        const watchExpressionStrings = this.watchExpressionsSetting.get();\n        if (watchExpressionStrings.length) {\n            this.emptyElement.classList.add('hidden');\n        }\n        for (let i = 0; i < watchExpressionStrings.length; ++i) {\n            const expression = watchExpressionStrings[i];\n            if (!expression) {\n                continue;\n            }\n            this.createWatchExpression(expression);\n        }\n    }\n    createWatchExpression(expression) {\n        this.contentElement.appendChild(this.treeOutline.element);\n        const watchExpression = new WatchExpression(expression, this.expandController, this.linkifier);\n        UI.ARIAUtils.setLabel(this.contentElement, i18nString(UIStrings.addWatchExpression));\n        watchExpression.addEventListener(\"ExpressionUpdated\" /* Events.EXPRESSION_UPDATED */, this.watchExpressionUpdated, this);\n        this.treeOutline.appendChild(watchExpression.treeElement());\n        this.watchExpressions.push(watchExpression);\n        return watchExpression;\n    }\n    watchExpressionUpdated({ data: watchExpression }) {\n        if (!watchExpression.expression()) {\n            Platform.ArrayUtilities.removeElement(this.watchExpressions, watchExpression);\n            this.treeOutline.removeChild(watchExpression.treeElement());\n            this.emptyElement.classList.toggle('hidden', Boolean(this.watchExpressions.length));\n            if (this.watchExpressions.length === 0) {\n                this.treeOutline.element.remove();\n            }\n        }\n        this.saveExpressions();\n    }\n    contextMenu(event) {\n        const contextMenu = new UI.ContextMenu.ContextMenu(event);\n        this.populateContextMenu(contextMenu, event);\n        void contextMenu.show();\n    }\n    populateContextMenu(contextMenu, event) {\n        let isEditing = false;\n        for (const watchExpression of this.watchExpressions) {\n            isEditing = isEditing || watchExpression.isEditing();\n        }\n        if (!isEditing) {\n            contextMenu.debugSection().appendItem(i18nString(UIStrings.addWatchExpression), this.addButtonClicked.bind(this), { jslogContext: 'add-watch-expression' });\n        }\n        if (this.watchExpressions.length > 1) {\n            contextMenu.debugSection().appendItem(i18nString(UIStrings.deleteAllWatchExpressions), this.deleteAllButtonClicked.bind(this), { jslogContext: 'delete-all-watch-expressions' });\n        }\n        const treeElement = this.treeOutline.treeElementFromEvent(event);\n        if (!treeElement) {\n            return;\n        }\n        const currentWatchExpression = this.watchExpressions.find(watchExpression => treeElement.hasAncestorOrSelf(watchExpression.treeElement()));\n        if (currentWatchExpression) {\n            currentWatchExpression.populateContextMenu(contextMenu, event);\n        }\n    }\n    deleteAllButtonClicked() {\n        this.watchExpressions = [];\n        this.saveExpressions();\n        this.update();\n    }\n    async focusAndAddExpressionToWatch(expression) {\n        await UI.ViewManager.ViewManager.instance().showView('sources.watch');\n        this.createWatchExpression(expression);\n        this.saveExpressions();\n        this.update();\n    }\n    handleAction(_context, _actionId) {\n        const frame = UI.Context.Context.instance().flavor(UISourceCodeFrame);\n        if (!frame) {\n            return false;\n        }\n        const { state } = frame.textEditor;\n        const text = state.sliceDoc(state.selection.main.from, state.selection.main.to);\n        void this.focusAndAddExpressionToWatch(text);\n        return true;\n    }\n    appendApplicableItems(_event, contextMenu, target) {\n        if (target instanceof ObjectUI.ObjectPropertiesSection.ObjectPropertyTreeElement) {\n            if (!target.property.synthetic) {\n                contextMenu.debugSection().appendItem(i18nString(UIStrings.addPropertyPathToWatch), () => this.focusAndAddExpressionToWatch(target.path()), { jslogContext: 'add-property-path-to-watch' });\n            }\n            return;\n        }\n        if (target.textEditor.state.selection.main.empty) {\n            return;\n        }\n        contextMenu.debugSection().appendAction('sources.add-to-watch');\n    }\n    wasShown() {\n        super.wasShown();\n        this.treeOutline.registerCSSFiles([watchExpressionsSidebarPaneStyles]);\n        this.registerCSSFiles([watchExpressionsSidebarPaneStyles, objectValueStyles]);\n    }\n}\nexport class WatchExpression extends Common.ObjectWrapper.ObjectWrapper {\n    treeElementInternal;\n    nameElement;\n    valueElement;\n    expressionInternal;\n    expandController;\n    element;\n    editing;\n    linkifier;\n    textPrompt;\n    result;\n    preventClickTimeout;\n    constructor(expression, expandController, linkifier) {\n        super();\n        this.expressionInternal = expression;\n        this.expandController = expandController;\n        this.element = document.createElement('div');\n        this.element.classList.add('watch-expression');\n        this.element.classList.add('monospace');\n        this.editing = false;\n        this.linkifier = linkifier;\n        this.createWatchExpression();\n        this.update();\n    }\n    treeElement() {\n        return this.treeElementInternal;\n    }\n    expression() {\n        return this.expressionInternal;\n    }\n    async #evaluateExpression(executionContext, expression) {\n        const callFrame = executionContext.debuggerModel.selectedCallFrame();\n        if (callFrame && callFrame.script.isJavaScript()) {\n            const nameMap = await SourceMapScopes.NamesResolver.allVariablesInCallFrame(callFrame);\n            try {\n                expression =\n                    await Formatter.FormatterWorkerPool.formatterWorkerPool().javaScriptSubstitute(expression, nameMap);\n            }\n            catch {\n            }\n        }\n        return executionContext.evaluate({\n            expression,\n            objectGroup: WatchExpression.watchObjectGroupId,\n            includeCommandLineAPI: false,\n            silent: true,\n            returnByValue: false,\n            generatePreview: false,\n        }, \n        /* userGesture */ false, \n        /* awaitPromise */ false);\n    }\n    update() {\n        const currentExecutionContext = UI.Context.Context.instance().flavor(SDK.RuntimeModel.ExecutionContext);\n        if (currentExecutionContext && this.expressionInternal) {\n            void this.#evaluateExpression(currentExecutionContext, this.expressionInternal).then(result => {\n                if ('object' in result) {\n                    this.createWatchExpression(result.object, result.exceptionDetails);\n                }\n                else {\n                    this.createWatchExpression();\n                }\n            });\n        }\n        else {\n            this.createWatchExpression();\n        }\n    }\n    startEditing() {\n        this.editing = true;\n        this.treeElementInternal.setDisableSelectFocus(true);\n        this.element.removeChildren();\n        const newDiv = this.element.createChild('div');\n        newDiv.textContent = this.nameElement.textContent;\n        this.textPrompt = new ObjectUI.ObjectPropertiesSection.ObjectPropertyPrompt();\n        this.textPrompt.renderAsBlock();\n        const proxyElement = this.textPrompt.attachAndStartEditing(newDiv, this.finishEditing.bind(this));\n        this.treeElementInternal.listItemElement.classList.add('watch-expression-editing');\n        this.treeElementInternal.collapse();\n        proxyElement.classList.add('watch-expression-text-prompt-proxy');\n        proxyElement.addEventListener('keydown', this.promptKeyDown.bind(this), false);\n        const selection = this.element.getComponentSelection();\n        if (selection) {\n            selection.selectAllChildren(newDiv);\n        }\n    }\n    isEditing() {\n        return Boolean(this.editing);\n    }\n    finishEditing(event, canceled) {\n        if (event) {\n            event.consume(canceled);\n        }\n        this.editing = false;\n        this.treeElementInternal.setDisableSelectFocus(false);\n        this.treeElementInternal.listItemElement.classList.remove('watch-expression-editing');\n        if (this.textPrompt) {\n            this.textPrompt.detach();\n            const newExpression = canceled ? this.expressionInternal : this.textPrompt.text();\n            this.textPrompt = undefined;\n            this.element.removeChildren();\n            this.updateExpression(newExpression);\n        }\n    }\n    dblClickOnWatchExpression(event) {\n        event.consume();\n        if (!this.isEditing()) {\n            this.startEditing();\n        }\n    }\n    updateExpression(newExpression) {\n        if (this.expressionInternal) {\n            this.expandController.stopWatchSectionsWithId(this.expressionInternal);\n        }\n        this.expressionInternal = newExpression;\n        this.update();\n        this.dispatchEventToListeners(\"ExpressionUpdated\" /* Events.EXPRESSION_UPDATED */, this);\n    }\n    deleteWatchExpression(event) {\n        event.consume(true);\n        this.updateExpression(null);\n    }\n    createWatchExpression(result, exceptionDetails) {\n        this.result = result || null;\n        this.element.removeChildren();\n        const oldTreeElement = this.treeElementInternal;\n        this.createWatchExpressionTreeElement(result, exceptionDetails);\n        if (oldTreeElement && oldTreeElement.parent) {\n            const root = oldTreeElement.parent;\n            const index = root.indexOfChild(oldTreeElement);\n            root.removeChild(oldTreeElement);\n            root.insertChild(this.treeElementInternal, index);\n        }\n        this.treeElementInternal.select();\n    }\n    createWatchExpressionHeader(expressionValue, exceptionDetails) {\n        const headerElement = this.element.createChild('div', 'watch-expression-header');\n        const deleteButton = new Buttons.Button.Button();\n        deleteButton.data = {\n            variant: \"icon\" /* Buttons.Button.Variant.ICON */,\n            iconName: 'bin',\n            size: \"SMALL\" /* Buttons.Button.Size.SMALL */,\n            jslogContext: 'delete-watch-expression',\n        };\n        deleteButton.className = 'watch-expression-delete-button';\n        UI.Tooltip.Tooltip.install(deleteButton, i18nString(UIStrings.deleteWatchExpression));\n        deleteButton.addEventListener('click', this.deleteWatchExpression.bind(this), false);\n        deleteButton.addEventListener('keydown', event => {\n            if (event.key === 'Enter') {\n                this.deleteWatchExpression(event);\n            }\n        });\n        const titleElement = headerElement.createChild('div', 'watch-expression-title tree-element-title');\n        titleElement.appendChild(deleteButton);\n        this.nameElement =\n            ObjectUI.ObjectPropertiesSection.ObjectPropertiesSection.createNameElement(this.expressionInternal);\n        UI.Tooltip.Tooltip.install(this.nameElement, this.expressionInternal);\n        if (Boolean(exceptionDetails) || !expressionValue) {\n            this.valueElement = document.createElement('span');\n            this.valueElement.classList.add('watch-expression-error');\n            this.valueElement.classList.add('value');\n            titleElement.classList.add('dimmed');\n            this.valueElement.textContent = i18nString(UIStrings.notAvailable);\n            if (exceptionDetails !== undefined && exceptionDetails.exception !== undefined &&\n                exceptionDetails.exception.description !== undefined) {\n                UI.Tooltip.Tooltip.install(this.valueElement, exceptionDetails.exception.description);\n            }\n        }\n        else {\n            const propertyValue = ObjectUI.ObjectPropertiesSection.ObjectPropertiesSection.createPropertyValueWithCustomSupport(expressionValue, Boolean(exceptionDetails), false /* showPreview */, titleElement, this.linkifier);\n            this.valueElement = propertyValue.element;\n        }\n        const separatorElement = document.createElement('span');\n        separatorElement.classList.add('watch-expressions-separator');\n        separatorElement.textContent = ': ';\n        titleElement.append(this.nameElement, separatorElement, this.valueElement);\n        return headerElement;\n    }\n    createWatchExpressionTreeElement(expressionValue, exceptionDetails) {\n        const headerElement = this.createWatchExpressionHeader(expressionValue, exceptionDetails);\n        if (!exceptionDetails && expressionValue && expressionValue.hasChildren && !expressionValue.customPreview()) {\n            headerElement.classList.add('watch-expression-object-header');\n            this.treeElementInternal = new ObjectUI.ObjectPropertiesSection.RootElement(expressionValue, this.linkifier);\n            this.expandController.watchSection(this.expressionInternal, this.treeElementInternal);\n            this.treeElementInternal.toggleOnClick = false;\n            this.treeElementInternal.listItemElement.addEventListener('click', this.onSectionClick.bind(this), false);\n            this.treeElementInternal.listItemElement.addEventListener('dblclick', this.dblClickOnWatchExpression.bind(this));\n        }\n        else {\n            headerElement.addEventListener('dblclick', this.dblClickOnWatchExpression.bind(this));\n            this.treeElementInternal = new UI.TreeOutline.TreeElement();\n        }\n        this.treeElementInternal.title = this.element;\n        this.treeElementInternal.listItemElement.classList.add('watch-expression-tree-item');\n        this.treeElementInternal.listItemElement.addEventListener('keydown', event => {\n            if (event.key === 'Enter' && !this.isEditing()) {\n                this.startEditing();\n                event.consume(true);\n            }\n            else if (event.key === 'Delete' && !this.isEditing()) {\n                this.deleteWatchExpression(event);\n            }\n        });\n    }\n    onSectionClick(event) {\n        event.consume(true);\n        const mouseEvent = event;\n        if (mouseEvent.detail === 1) {\n            this.preventClickTimeout = window.setTimeout(handleClick.bind(this), 333);\n        }\n        else if (this.preventClickTimeout !== undefined) {\n            window.clearTimeout(this.preventClickTimeout);\n            this.preventClickTimeout = undefined;\n        }\n        function handleClick() {\n            if (!this.treeElementInternal) {\n                return;\n            }\n            if (this.treeElementInternal.expanded) {\n                this.treeElementInternal.collapse();\n            }\n            else if (!this.editing) {\n                this.treeElementInternal.expand();\n            }\n        }\n    }\n    promptKeyDown(event) {\n        const isEscapeKey = Platform.KeyboardUtilities.isEscKey(event);\n        if (event.key === 'Enter' || isEscapeKey) {\n            this.finishEditing(event, isEscapeKey);\n        }\n    }\n    populateContextMenu(contextMenu, event) {\n        if (!this.isEditing()) {\n            contextMenu.editSection().appendItem(i18nString(UIStrings.deleteWatchExpression), this.updateExpression.bind(this, null), { jslogContext: 'delete-watch-expression' });\n        }\n        if (!this.isEditing() && this.result && (this.result.type === 'number' || this.result.type === 'string')) {\n            contextMenu.clipboardSection().appendItem(i18nString(UIStrings.copyValue), this.copyValueButtonClicked.bind(this), { jslogContext: 'copy-watch-expression-value' });\n        }\n        const target = UI.UIUtils.deepElementFromEvent(event);\n        if (target && this.valueElement.isSelfOrAncestor(target) && this.result) {\n            contextMenu.appendApplicableItems(this.result);\n        }\n    }\n    copyValueButtonClicked() {\n        Host.InspectorFrontendHost.InspectorFrontendHostInstance.copyText(this.valueElement.textContent);\n    }\n    static watchObjectGroupId = 'watch-group';\n}\n//# sourceMappingURL=WatchExpressionsSidebarPane.js.map"],"names":["SearchConfig","#query","#ignoreCase","#isRegex","#queries","#fileRegexQueries","query","ignoreCase","isRegex","queries","fileRegexQueries","#parse","object","filePath","regex","shouldMatch","quotedPattern","unquotedWordPattern","unquotedPattern","pattern","FilePatternRegex","regexp","queryParts","queryPart","fileQuery","#parseFileQuery","#parseQuotedQuery","#parseUnquotedQuery","match","result","i","char","Platform.StringUtilities.regexSpecialCharacters","ScopeChainModel","Common.ObjectWrapper.ObjectWrapper","#callFrame","#throttler","Common.Throttler.Throttler","#boundUpdate","#update","callFrame","SDK.DebuggerModel.Events","#debugInfoAttached","SDK.SourceMapManager.Events","#sourceMapAttached","scopeChain","resolveScopeChain","ScopeChain","event","styles","UIStrings","str_","i18n.i18n.registerUIStrings","i18nString","i18n.i18n.getLocalizedString","AddDebugInfoURLDialog","UI.Widget.HBox","label","jslogContext","callback","UI.UIUtils.createInput","addButton","UI.UIUtils.createTextButton","UI.Dialog.Dialog","value","dialogStyles","BreakpointEditDialog","UI.Widget.Widget","#history","#editorHistory","editorLineNumber","oldCondition","isLogpoint","onFinish","editorConfig","CodeMirror.javascript","TextEditor.Config.baseConfiguration","TextEditor.Config.closeBrackets","TextEditor.Config.autocompletion","CodeMirror.EditorView","TextEditor.Config.showCompletionHint","TextEditor.Config.conservativeCompletion","context","CodeMirror.autocompletion","TextEditor.JavaScript.argumentHints","VisualLogging.dialog","header","toolbar","UI.Toolbar.Toolbar","UI.Toolbar.ToolbarComboBox","conditionalOption","logpointOption","content","finishIfComplete","view","TextEditor.JavaScript.isExpressionComplete","complete","CodeMirror.insertNewlineAndIndent","keymap","CodeMirror.Compartment","editorWrapper","VisualLogging.textField","TextEditor.TextEditor.TextEditor","CodeMirror.EditorState","CodeMirror.keymap","closeIcon","IconButton.Icon.Icon","VisualLogging.close","TextEditor.AutocompleteHistory.AutocompleteHistory","Common.Settings.Settings","TextEditor.TextEditorHistory.TextEditorHistory","linkWrapper","link","UI.Fragment.html","VisualLogging.link","linkIcon","option","type","CodeMirror.placeholder","UI.Tooltip.Tooltip","committed","condition","breakpointEditDialogStyles","callstackSidebarPaneInstance","CallStackSidebarPane","UI.View.SimpleView","VisualLogging.section","icon","UI.ListModel.ListModel","UI.ListControl.ListControl","UI.ListControl.ListMode","item","Bindings.LiveLocation.LiveLocationPool","defaultMaxAsyncStackChainDepth","SDK.TargetManager.TargetManager","SDK.DebuggerModel.DebuggerModel","opts","forceNew","_object","debuggerModel","details","UI.Context.Context","SDK.DebuggerModel.DebuggerPausedDetails","SDK.DebuggerModel.CallFrame","itemPromises","uniqueWarnings","frame","itemPromise","Item","items","asyncStackTraceId","asyncStackTrace","previousStackTrace","maxAsyncStackChainDepth","dm","title","UI.UIUtils.asyncStackTraceLabel","selectedItem","itemsSet","hasIgnoreListed","element","titleElement","linkElement","Platform.StringUtilities.trimMiddle","UI.ARIAUtils.setDescription","UI.ARIAUtils.setDisabled","callframe","isSelected","UI.ARIAUtils.setSelected","messages","r","Common.ParsedURL.ParsedURL","_item","_from","_to","fromElement","toElement","_fromElement","_toElement","checkbox","showAll","showAllLink","contextMenu","UI.ContextMenu.ContextMenu","debuggerCallFrame","Host.userMetrics","Host.UserMetrics.Action","uiLocation","oldItem","Common.Revealer.reveal","callFrameItem","uiSourceCode","binding","Persistence.Persistence.PersistenceImpl","menuSection","text","Bindings.IgnoreListManager.IgnoreListManager","startIndex","newItem","itemText","Host.InspectorFrontendHost.InspectorFrontendHostInstance","callStackSidebarPaneStyles","elementSymbol","ActionDelegate$4","actionId","locationPool","updateDelegate","name","UI.UIUtils.beautifyFunctionName","Bindings.DebuggerWorkspaceBinding.DebuggerWorkspaceBinding","SourceMapScopes.NamesResolver.resolveDebuggerFrameFunctionName","functionName","frames","headerItemToItemsSet","asyncHeaderItem","asyncFrameItems","liveLocationPromises","update","rawLocation","shouldUpdate","liveLocation","i18nLazyString","i18n.i18n.getLazilyComputedLocalizedString","getLocalizedBreakpointName","LOCALIZED_NAMES","i18n.i18n.lockedLazyString","LOCALIZED_INSTRUMENTATION_NAMES","LOCALIZED_CSP_VIOLATION_TYPES","Plugin","_transformer","_uiSourceCode","_contextMenu","_lineNumber","_columnNumber","_type","_editor","CoveragePlugin","#transformer","transformer","UI.Toolbar.ToolbarButton","UI.ViewManager.ViewManager","mainTarget","Coverage.CoverageModel.CoverageModel","Coverage.CoverageModel.Events","Coverage.CoverageModel.URLCoverageInfo","formatter","i18n.DevToolsLocale.DevToolsLocale","coverageCompartment","editor","manager","#editorLines","usageByLine","enabled","coverageState","setCoverageState","state","markersFromCoverageData","coverageGutter","theme","n","line","startLine","startColumn","endLine","endColumn","TextUtils.TextRange.TextRange","coveredMarker","CodeMirror.GutterMarker","notCoveredMarker","builder","CodeMirror.RangeSetBuilder","usage","lineStart","CodeMirror.StateEffect","CodeMirror.StateField","CodeMirror.RangeSet","markers","tr","effect","url","CodeMirror.gutter","widget","matchFormattedSuffix","urlWithoutFormattedSuffix","dontCompleteIn","findPropertyAt","node","pos","cur","colon","getCurrentStyleSheet","cssModel","currentStyleSheet","specificCssCompletion","cx","CodeMirror.syntaxTree","assertNotNullOrUndefined","existingClassNames","property","propertyValues","SDK.CSSMetadata.cssMetadata","findColorsAndCurves","from","to","onColor","onCurve","getToken","tree","CodeMirror.ensureSyntaxTree","parsedColor","Common.Color.parse","parsedCurve","UI.Geometry.CubicBezier","ColorSwatchWidget","CodeMirror.WidgetType","#text","#color","#from","color","other","swatch","InlineEditor.ColorSwatch.ColorSwatch","InlineEditor.ColorSwatch.ColorChangedEvent","insert","InlineEditor.ColorSwatch.ClickEvent","setTooltip","CurveSwatchWidget","curve","InlineEditor.Swatches.BezierSwatch","createCSSTooltip","active","addListener","spectrum","ColorPicker.Spectrum.Spectrum","handler","InlineEditor.BezierEditor.BezierEditor","dom","isSwatchEdit","CodeMirror.Annotation","cssTooltipState","field","CodeMirror.showTooltip","computeSwatchDeco","colorText","CodeMirror.Decoration","cssSwatchPlugin","CodeMirror.ViewPlugin","v","cssSwatches","getNumberAt","lastChild","modifyUnit","by","head","numberRange","currentNumber","cssBindings","currentView","listener","UI.ShortcutRegistry.ShortcutRegistry","prevView","CSSPlugin","#cssModel","SDK.CSSModel.CSSModel","#cssCompletion","cssCompletionSource","CodeMirror.css","addSourceMapURL","sourceUrl","sourceMapUrl","Bindings.CSSWorkspaceBinding.CSSWorkspaceBinding","Workspace.Workspace.projectTypes","addSourceMapURLLabel","DebuggerPausedMessage","root","UI.UIUtils.createShadowRootWithCoreStyles","debuggerPausedMessageStyles","UI.ARIAUtils.markAsPoliteLiveRegion","description","firstCallFrame","messageWrapper","domDebuggerModel","SDK.DOMDebuggerModel.DOMDebuggerModel","data","mainElement","mainIcon","breakpointType","BreakpointTypeNouns","subElement","linkifiedNode","Common.Linkifier.Linkifier","targetNodeLink","messageElement","i18n.i18n.getFormatLocalizedString","#findEventNameForUi","detailsAuxData","eventName","webglErrorName","directiveText","targetName","errorName","breakpoint","SDK.EventBreakpointsModel.EventBreakpointsManager","SDK.DOMDebuggerModel.DOMDebuggerManager","debuggerWorkspaceBinding","breakpointManager","status","errorLike","eventNameForUI","buildWrapper","auxData","descriptionWithoutStack","defaultText","mainText","subText","SearchResultsPane","UI.Widget.VBox","searchConfig","UI.TreeOutline.TreeOutlineInShadow","searchResult","treeElement","SearchResultsTreeElement","matchesExpandedByDefault","searchResultsPaneStyles","matchesShownAtOnce","UI.TreeOutline.TreeElement","toIndex","fileNameSpan","span","matchesCountSpan","UI.ARIAUtils.setLabel","className","fromIndex","regexes","Platform.StringUtilities.createSearchRegex","lineContent","matchRanges","column","matchLength","matchRange","lineSegment","lineSegmentForMatch","TextUtils.TextRange.SourceRange","j","lineSegmentForMultipleMatches","anchor","Components.Linkifier.Linkifier","labelSpan","resultLabel","contentSpan","searchMatchElement","startMatchIndex","matchesLeftCount","showMoreMatchesText","showMoreMatchesTreeElement","UI.UIUtils.highlightRangesWithStyleClass","DEFAULT_OPTS","range","optionsArg","options","attemptedTrimmedLine","potentiallyRemovedWhitespaceLength","actuallyRemovedWhitespaceLength","lineSegmentBegin","lineSegmentEnd","lineSegmentPrefix","rangeOffset","rangeLength","ranges","trimBy","createSearchToggleButton","iconName","button","Buttons.Button.Button","SearchView","#pendingSearchResults","settingKey","throttler","VisualLogging.panel","searchContainer","searchElements","searchIcon","IconButton.Icon.create","UI.HistoryInput.HistoryInput","clearInputFieldButton","regexIconName","matchCaseIconName","VisualLogging.toolbar","refreshButton","clearButton","searchStatusBarElement","Workspace.SearchConfig.SearchConfig","queryCandidate","searchImmediately","searchViewStyles","finished","UI.ProgressIndicator.ProgressIndicator","Common.Progress.ProgressProxy","searchId","#addPendingSearchResults","UI.ARIAUtils.alert","progressIndicator","UI.EmptyWidget.EmptyWidget","panel","matchesCount","UI.KeyboardShortcut.Keys","isMac","Host.Platform.isMac","shouldShowAllForMac","shouldShowAllForOtherPlatforms","shouldCollapseAllForMac","shouldCollapseAllForOtherPlatforms","VisualLogging.logKeyDown","SourcesSearchScope","uiSourceCode1","uiSourceCode2","isFileSystem1","isFileSystem2","url1","url2","Platform.StringUtilities.naturalOrderComparator","progress","projects","compositeProgress","Common.Progress.CompositeProgress","project","projectProgress","searchInAnonymousAndContentScripts","Workspace.Workspace.WorkspaceImpl","searchResultCallback","searchFinishedCallback","promises","searchContentProgress","findMatchingFilesProgress","weight","findMatchingFilesInProjectProgress","filesMatchingFileQuery","promise","dirtyOnly","filesWithPreliminaryResult","files","Platform.ArrayUtilities.intersectOrdered","dirtyFiles","Platform.ArrayUtilities.mergeOrdered","uiSourceCodes","script","Bindings.DefaultScriptMapping.DefaultScriptMapping","fileIndex","maxFileContentRequests","callbacksLeft","scheduleSearchInNextFileOrFinish","searchInNextFile","contentLoaded","TextUtils.Text.Text","contentData","TextUtils.ContentData.ContentData","matches","nextMatches","TextUtils.TextUtils.performSearchInContent","TextUtils.ContentProvider.SearchMatch","FileBasedSearchResult","searchMatches","index","lineNumber","columnNumber","Workspace.UISourceCode.UILocationRange","SearchSources","SearchSourcesView","Search.SearchView.SearchView","ActionDelegate$3","_context","selection","UI.InspectorView.InspectorView","Revealer","omitFocus","viewManager","searchSourcesView","Types","TYPE_ORDERS","NavigatorView","enableAuthoredGrouping","VisualLogging.pane","Platform.MapUtilities.Multimap","NavigatorRootTreeNode","Persistence.Persistence.Events","Persistence.NetworkPersistenceManager.NetworkPersistenceManager","#onRequestsForHeaderOverridesFileChanged","Bindings.NetworkProject.NetworkProjectManager","boostOrderForNode","actualElement","order","contentType","path","searchLabel","searchSources","treeElement1","treeElement2","typeWeight1","typeWeight2","placeholder","updateVisibility","UI.TreeOutline.Events","showTree","isFromSourceMap","networkNodes","networkNode","fileSystemNodes","fileSystemNode","pathTokens","Persistence.FileSystemWorkspaceBinding.FileSystemWorkspaceBinding","folderPath","Platform.DevToolsPath.EmptyEncodedPathString","folderId","folderNode","fileSystemRoot","headersFileUiSourceCode","parent","child","workspace","Workspace.Workspace.Events","addedFrame","removedFrame","Root.Runtime.experiments","Bindings.NetworkProject.NetworkProject","target","uiSourceCodeNode","NavigatorUISourceCodeTreeNode","existingNode","rootOrDeployed","Snippets.ScriptSnippetFileSystem.isSnippetsProject","NavigatorGroupTreeNode","children","fileSystemProjects","reversedIndex","Common.Trie.Trie","reversedPaths","reversedPathParts","reversedPath","commonPrefix","prefixPath","projectOrigin","projectId","targetId","frameId","fromSourceMap","Snippets.ScriptSnippetFileSystem.isSnippetsUISourceCode","parentNode","NavigatorFolderTreeNode","isAuthored","frameNode","domainNode","hoverCallback","parentFrame","hovered","overlayModel","SDK.OverlayModel.OverlayModel","targetNode","SDK.Target.Type","runtimeModel","SDK.RuntimeModel.RuntimeModel","executionContexts","matchingContextName","parsedURL","select","nodes","UI.UIUtils.isBeingEdited","focusSource","#isUISourceCodeOrAnyAncestorSelected","selectedTreeElement","selectedNode","currentNode","NavigatorFolderTreeElement","nodesWithSelectionOnPath","tearDownOnly","_event","relativePath","UI.UIUtils.ConfirmDialog","UI.UIUtils.startBatchUpdate","UI.UIUtils.endBatchUpdate","warningMsg","topNode","Host.Platform.isWin","warningMessage","creatingNewUISourceCode","uiSourceCodeToCopy","_target","navigatorTreeStyles","navigatorViewStyles","navigatorView","#contextForType","iconType","isIgnoreListed","paths","tooltip","NavigatorSourceTreeElement","Common.EventTarget.fireEvent","VisualLogging.value","PanelUtils","UI.ActionRegistry.ActionRegistry","action","floatingButton","FloatingButton.FloatingButton.FloatingButton","ev","rename","middleClick","NavigatorTreeNode","id","_title","updateTitleBound","Workspace.UISourceCode.Events","ignoreIsDirty","titleText","Common.EventTarget.removeEventListeners","treeOutlineElement","UI.UIUtils.markBeingEdited","commitHandler","newTitle","oldTitle","renameCallback","afterEditing","success","UI.InplaceEditor.Config","origin","propName","propValue","absoluteFileSystemPath","hasMappedFiles","oldNode","mergedToNodes","treeNode","oldTreeElement","actualNode","fileSystemPath","wasActive","isActive","HistoryDepth","EditingLocationHistoryManager","sourcesView","sourceFrame","prevPos","newPos","EditingLocationHistoryEntry","position","top","change","entry","MemoryMarker","intensity","Platform.NumberUtilities.clamp","units","fractionDigits","unitElement","PerformanceMarker","markersFromProfileData","map","markerType","makeLineLevelProfilePlugin","installed","MemoryProfilePlugin","PerformanceProfilePlugin","ResourceOriginPlugin","links","Bindings.ResourceUtils.displayNameForURL","originURL","Bindings.SASSSourceMapping.SASSSourceMapping","UI.Toolbar.ToolbarItem","linkifier","SnippetsPlugin","runSnippet","TextEditor.JavaScript.completion","sourceFramePlugins","DebuggerPlugin","UISourceCodeFrame","Common.ObjectWrapper.eventMixin","SourceFrame.SourceFrame.SourceFrameImpl","#sourcesPanelOpenedMetricsRecorded","UI.PopoverHelper.PopoverHelper","doc","rowMessages","pluginCompartment","plugin","networkSourceCode","fileSystemSourceCode","loaded","startUISourceCode","canPrettyPrint","FormatterActions.FORMATTABLE_MEDIA_TYPES","autoPrettyPrint","mimeType","Common.ResourceType.ResourceType","Common.ResourceType.resourceTypes","#recordSourcesPanelOpenedMetrics","RowMessage","wasPretty","SourcesPanel","pluginUISourceCode","pluginType","setRowMessages","RowMessages","location","Workspace.UISourceCode.UILocation","shownMessages","showRowMessages","message","leftToolbarItems","rightToolbarItems","UI.Toolbar.ToolbarSeparator","mouseEvent","eventTarget","anchorElement","messageField","row","issues","msg","counts","countDuplicates","renderMessage","popover","mediaType","TextUtils.TextUtils.isMinified","getIconDataForLevel","level","getBubbleTypePerLevel","messageLevelComparator","b","messageLevelPriority","getIconDataForMessage","IssuesManager.SourceFrameIssuesManager.IssueMessage","IssueCounter.IssueCounter.getIssueKindIconData","#lineNumber","#columnNumber","that","addMessage","rows","diff","removeMessage","remaining","m","underlineMark","MessageWidget","wrap","nonIssues","maxIssue","errorIcon","issue","issueIcon","RowMessageDecorations","decorations","minCol","col","CodeMirror.Prec","count","repeatCountElement","linesContainer","rowMessageTheme","initialMessages","tabId","TabbedEditorContainer","delegate","setting","placeholderElement","focusedPlaceholderElement","UI.TabbedPane.TabbedPane","EditorContainerTabDelegate","UI.TabbedPane.Events","History","networkTabId","fileSystemTabId","wasSelectedInNetwork","networkKey","historyItemKey","currentSelectionRange","currentScrollLineNumber","networkView","tabIndex","fileSystemTabView","parentElement","SourcesView","resourceType","topBlock","topLine","main","lineFrom","lineTo","Extensions.ExtensionServer.ExtensionServer","userGesture","canonicalSourceCode","previousView","eventData","nextTabId","ids","forceCloseDirtyTabs","dirtyTabs","cleanTabs","existingSourceCode","duplicated","currentProjectIsSnippets","addedProjectIsSnippets","tabIds","historyItemKeys","MAX_PREVIOUSLY_VIEWED_FILES_COUNT","replaceView","savedSelectionRange","savedScrollLineNumber","_content","editorView","firstLineNumber","isUserGesture","Persistence.PersistenceUtils.PersistenceUtils","k","MAX_SERIALIZABLE_URL_LENGTH","HistoryItem","selectionRange","scrollLineNumber","serializedHistoryItem","serializedHistoryItems","key","keys","serializedItem","editorContainer","_tabbedPane","UI.SearchableView.SearchableView","#onScopeChange","handleBeforeUnload","unsavedSourceCodes","sourceCode","shortcuts","list","UI.ARIAUtils.markAsList","shortcut","shortcutKeyText","listItemElement","UI.ARIAUtils.markAsListitem","browseButton","Persistence.IsolatedFileSystemManager.IsolatedFileSystemManager","defaultScores","sourcesViewStyles","getRegisteredEditorActions","omitHighlight","currentFrame","currentSourceFrame","visibleView","sourceView","SourceFrame.ImageView.ImageView","SourceFrame.FontView.FontView","HEADER_OVERRIDES_FILENAME","Components.HeadersView.HeadersView","#uiSourceCodeTitleChanged","#sourceViewTypeForWidget","#sourceViewTypeForUISourceCode","wasSelected","previousSourceFrame","currentFile","shouldJump","jumpBackwards","replacement","QuickOpen.QuickOpen.QuickOpenImpl","registeredEditorActions","registerEditorAction","editorAction","SwitchFileActionDelegate","currentUISourceCode","fileNamePrefix","lastDotIndex","candidates","namePrefix","Platform.NumberUtilities.mod","fullURL","nextUISourceCode","_actionId","ActionDelegate$2","ThreadsSidebarPane","currentTarget","SDK.Target.Target","pausedState","updateTitle","executionContext","updatePausedState","targetNameChanged","SDK.RuntimeModel.Events","_debuggerModel","fromEle","toEle","hadFocus","threadsSidebarPaneStyles","primitiveRemoteObjectTypes","sourcesPanelInstance","UI.Panel.Panel","UI.DropTarget.DropTarget","UI.DropTarget.Type","initialDebugSidebarWidth","UI.SplitWidget.SplitWidget","initialNavigatorWidth","tabbedPane","navigatorMenuButton","UI.Toolbar.ToolbarMenuButton","navigatorSplitWidget","runViewTabbedPane","isInWrapper","QuickSourceView","sourcesPanelStyles","wrapperView","locationName","VisualLogging.registerLoggable","VisualLogging.action","byOverlayButton","VisualLogging.logClick","VisualLogging.logResize","skipReveal","experiment","menuItem","toggleExperiment","checked","groupByFolderSetting","Platform.StringUtilities.toKebabCase","ignoreExecutionLineEvents","lastModificationTimeout","currentDebuggerModel","Breakpoints.BreakpointManager.BreakpointManager","Snippets.ScriptSnippetFileSystem.evaluateScriptSnippet","Workspace.UISourceCode.UISourceCode","SDK.RuntimeModel.ExecutionContext","debugToolbar","longResumeButton","terminateExecutionButton","pauseActionButton","debugToolbarDrawer","UI.SettingsUI.createSettingCheckbox","SDK.RemoteObject.RemoteObject","editorElement","remoteObject","indent","getObjectTitle","copyContextMenuTitle","SDK.ConsoleModel.ConsoleModel","ctxMenuClipboardSection","inspectorFrontendHost","Platform.StringUtilities.formatAsJSLiteral","copyDecodedValueHandler","toStringForClipboard","subtype","elements","values","request","openText","SDK.RemoteObject.RemoteFunction","targetFunction","response","vertically","vbox","minToolbarWidth","jsBreakpoints","scopeChainView","splitWidget","tabbedLocation","extensionSidebarPanes","pane","dataTransfer","UILocationRevealer","UILocationRangeRevealer","#instance","uiLocationRange","DebuggerLocationRevealer","UISourceCodeRevealer","DebuggerPausedDetailsRevealer","RevealingActionDelegate","UI.ShortcutRegistry.ForwardedShortcut","ActionDelegate$1","editorState","consoleModel","ObjectUI.JavaScriptREPL.JavaScriptREPL","EMPTY_BREAKPOINT_CONDITION","NEVER_PAUSE_HERE_CONDITION","Breakpoints.BreakpointManager","MAX_POSSIBLE_BREAKPOINT_LINE","MAX_CODE_SIZE_FOR_VALUE_DECORATIONS","MAX_PROPERTIES_IN_SCOPE_FOR_VALUE_DECORATIONS","debuggerPluginForUISourceCode","#activeBreakpointEditRequest","#scheduledFinishingActiveDialog","#sourcesPanelDebuggedMetricsRecorded","Breakpoints.BreakpointManager.Events","SDK.PageResourceLoader.PageResourceLoader","scriptFile","handlers","CodeMirror.lineNumbers","block","infobarState","breakpointMarkers","TextEditor.ExecutionPositionHighlighter.positionHighlighter","continueToMarkers","markIfContinueTo","valueDecorations","evalExpression","selectionLine","#openEditDialogForLine","computeNonBreakableLines","linePositions","SourceFrame.SourceFrame.addNonBreakableLines","unIgnoreList","infobar","UI.Infobar.Infobar","bar","addInfobar","removeInfobar","breakpoints","supportsConditionalBreakpoints","SourceFrame.SourceFrame.isBreakableLine","removeTitle","addSourceMapURLDialogCallback","addDebugInfoURL","addDebugInfoURLDialogCallback","muteBreakpoints","tokenType","UI.KeyboardShortcut.KeyboardShortcut","selectedCallFrame","textPosition","positionCoords","highlightRange","computePopoverHighlightRange","highlightLine","leftCorner","rightCorner","box","evaluationText","objectPopoverHelper","resolvedText","nameMap","SourceMapScopes.NamesResolver.allVariablesInCallFrame","Formatter.FormatterWorkerPool.formatterWorkerPool","throwOnSideEffect","ObjectUI.ObjectPopoverHelper.ObjectPopoverHelper","potentiallyUpdatedCallFrame","decoration","evalExpressionMark","breakpointDesc","ctrlDown","Platform.KeyboardUtilities.ESCAPE_KEY","click","breakpointEditRequest","isSameEditRequest","isLogpointForDialog","decorationElement","compartment","dialog","SourceComponents.BreakpointsView.BreakpointsSidebarController","editA","editB","#rawLocationToEditorOffset","rawLocationToEditorOffset","functionOffsetPromise","executionOffsetPromise","functionOffset","executionOffset","CodeMirror.syntaxParserRunning","resolve","variableNames","getVariableNamesByLine","scopeMappings","computeScopeMappings","variablesByLine","getVariableValuesByLine","names","prevLine","newNames","ValueDecoration","start","locations","previousCallLine","editorLocation","syntaxNode","nextNode","syntaxType","validKeyword","identifierName","asyncCall","callee","firstArg","highlightNode","isCurrentPosition","loc","asyncContinueToMark","continueToMark","asyncStepIn","end","gutterMarkers","breakpointsByLine","inlineMarkersByLine","possibleBreakpointRequests","inlineMarkerPositions","addInlineMarker","linePos","inlineMarkers","forThisLine","addPossibleBreakpoints","lineBreakpoints","mostSpecificBreakpoint","gutterClass","BreakpointGutterMarker","marker","BreakpointInlineMarker","forBreakpoints","setBreakpointDeco","oldScriptFile","newScriptFile","resources","warning","resource","detailsRow","pageResourceKey","showRequest","SDK.PageResourceLoader.ResourceKey","resourceMap","initiatorUrl","SDK.SourceMapManager.SourceMapManager","resolvedUrl","UI.UIUtils.MaxLengthForDisplayedURLs","onlyDisable","hasDisabled","possibleBreakpoints","#recordSourcesPanelDebuggedMetrics","bp","_condition","_enabled","executionLocation","editorPosition","TextEditor.Position.toOffset","TextEditor.ExecutionPositionHighlighter.setHighlightedPosition","TextEditor.ExecutionPositionHighlighter.clearHighlightedPosition","BreakpointLocationRevealer","breakpointLocation","debuggerPlugin","current","CodeMirror.showPanel","mappedLines","muteGutterMarkers","newMarkers","deco","CodeMirror.lineNumberMarkers","VisualLogging.breakpointMarker","#position","elementClass","div","formatNumber","SourceFrame.SourceFrame.LINE_NUMBER_FORMATTER","defineStatefulDecoration","noMarkers","hasContinueMarkers","pairs","p","ObjectUI.RemoteObjectPreviewFormatter.RemoteObjectPreviewFormatter","first","UI.UIUtils.createTextChild","nameValuePair","propertyCount","entryCount","propertyValue","ObjectUI.ObjectPropertiesSection.ObjectPropertiesSection","isVariableIdentifier","isVariableDefinition","isLetConstDefinition","isScopeNode","SiblingScopeVariables","fromPos","toPos","currentPos","fromLine","isSiblingScopeNode","curLine","siblingStack","currentLetConstDefinition","currentNames","varName","topScope","nameList","token","scope","scopeStart","scopeEnd","properties","SourceMapScopes.NamesResolver.resolveScopeInObject","variableMap","namesPerLine","varValue","findVariableInChain","cursorPos","controlInstructions","firstChild","opName","containsSideEffects","op","lineNumberArrow","inlineBreakpointArrow","inlineConditionalBreakpointArrow","inlineLogpointArrow","outline","opacity","FilePathScoreFunction","matchIndexes","score","sequence","skipCharScore","prevCharScore","consecutiveMatch","pickCharScore","maxDataLength","prevChar","out","isWordStart","isFileName","isPathTokenStart","isCapsMatch","sequenceLength","FilteredUISourceCodeListProvider","QuickOpen.FilteredListWidget.Provider","skipProject","_project","itemIndex","multiplier","contentTypeBonus","fullDisplayName","subtitleElement","indexes","fileNameIndex","tooltipText","splitPosition","maxTextLength","second","promptValue","parsedExpression","lineNumberMatch","GoToLineQuickOpen","#goToLineStrings","_itemIndex","_query","_subtitleElement","disassembly","currentLineNumber","lastBytecodeOffset","bytecodeOffsetDigits","currentPosition","linesCount","parts","inplaceFormatterEditorActionInstance","InplaceFormatterEditorAction","isFormattable","deferredContent","formattedContent","formattedMapping","Formatter.ScriptFormatter.format","toLineColumn","offset","subtitleFromParamList","cursor","parameters","prefix","subtitle","params","OutlineQuickOpen","QuickOpen.FilteredListWidget.FilteredListWidget","tagElement","_promptValue","scopeChainSidebarPaneInstance","ScopeChainSidebarPane","#scopeChainModel","ObjectUI.ObjectPropertiesSection.ObjectPropertiesSectionsTreeOutline","ObjectUI.ObjectPropertiesSection.ObjectPropertiesSectionsTreeExpandController","SourceMapScopes.ScopeChainModel.ScopeChainModel","eventScopeChain","foundLocalScope","section","emptyPlaceholder","scopeName","iconElement","ObjectUI.ObjectPropertiesSection.RootElement","scopeChainSidebarPaneStyles","networkNavigatorViewInstance","NetworkNavigatorView","sourcesNavigatorStyles","inspectedURL","FilesNavigatorView","UI.XLink.XLink","overridesNavigatorViewInstance","OverridesNavigatorView","enableCheckbox","UI.Toolbar.ToolbarSettingCheckbox","setupButton","ContentScriptsNavigatorView","SnippetsNavigatorView","newButton","Snippets.ScriptSnippetFileSystem.findSnippetsProject","Workspace.FileManager.FileManager","ActionDelegate","watchExpressionsSidebarPaneInstance","WatchExpressionsSidebarPane","UI.ThrottledWidget.ThrottledWidget","toSave","expression","watchExpressionStrings","watchExpression","WatchExpression","Platform.ArrayUtilities.removeElement","isEditing","currentWatchExpression","ObjectUI.ObjectPropertiesSection.ObjectPropertyTreeElement","watchExpressionsSidebarPaneStyles","objectValueStyles","expandController","#evaluateExpression","currentExecutionContext","newDiv","ObjectUI.ObjectPropertiesSection.ObjectPropertyPrompt","proxyElement","canceled","newExpression","exceptionDetails","expressionValue","headerElement","deleteButton","separatorElement","handleClick","isEscapeKey","Platform.KeyboardUtilities.isEscKey","UI.UIUtils.deepElementFromEvent"],"mappings":"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"}